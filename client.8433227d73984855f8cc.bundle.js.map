{"version":3,"sources":["webpack:///./src/style/index.ts","webpack:///./src/components/Text.tsx","webpack:///./src/state/index.ts","webpack:///./src/selectors/oni-save.ts","webpack:///./src/utils.ts","webpack:///./src/selectors/selected-path.ts","webpack:///./src/components/NonIdealState.tsx","webpack:///./src/components/Flex.tsx","webpack:///./src/style/styled.ts","webpack:///./src/services/save-structure/index.ts","webpack:///./src/components/FormGroup.tsx","webpack:///./src/components/NumericInput.tsx","webpack:///./src/selectors/behaviors/utils.ts","webpack:///./src/reducer/behaviors/utils.ts","webpack:///./src/components/Box.ts","webpack:///./src/pages/SaveEditor/components/fields/NumericField.tsx","webpack:///./src/pages/SaveEditor/components/fields/connect-field/index.ts","webpack:///./src/actions/behaviors/set-currentobject-behavior-value.ts","webpack:///./src/components/SaveStructureLink/index.ts","webpack:///./src/components/Input.tsx","webpack:///./src/style/theme/index.ts","webpack:///./src/actions/receive-onisave.ts","webpack:///./src/pages/SaveEditor/components/editors/components/EditorContainer.tsx","webpack:///./src/components/DataTable/index.ts","webpack:///./src/style/intent.ts","webpack:///./src/selectors/game-object.ts","webpack:///./src/selectors/selected-value.ts","webpack:///./src/components/CheckInput.tsx","webpack:///./src/i18n/index.ts","webpack:///./src/runtime-env.ts","webpack:///./src/style/styles/intent-color.ts","webpack:///./src/services/save-structure/structure/root.ts","webpack:///./src/services/save-structure/structure/matchers.ts","webpack:///./src/services/save-structure/structure/gameObjects/gameObjectTypes/default.ts","webpack:///./src/services/save-structure/structure/gameObjects/behaviors/default.ts","webpack:///./src/actions/modify-onisave.ts","webpack:///./src/actions/onisave-parse-progress.ts","webpack:///./src/actions/select-path.ts","webpack:///./src/components/Button.ts","webpack:///./src/components/EditModeCondition/index.ts","webpack:///./src/selectors/edit-mode.ts","webpack:///./src/keys.ts","webpack:///./src/math.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/components/GameObjectHeader/index.ts","webpack:///./src/components/Icon.tsx","webpack:///./src/components/SelectInput.tsx","webpack:///./src/pages/SaveEditor/components/fields/from-typeinfo.tsx","webpack:///./src/style/theme/borders.ts","webpack:///./src/style/theme/colors.ts","webpack:///./src/style/theme/radii.ts","webpack:///./src/style/theme/space.ts","webpack:///./src/style/styles/intent-fill.ts","webpack:///./src/style/styles/text.ts","webpack:///./src/actions/behaviors/modify-currentobject-behavior-array.ts","webpack:///./src/reducer/game-object/utils.ts","webpack:///./src/services/save-structure/utils.ts","webpack:///./src/services/save-structure/structure/gameObjects/gameObjectTypes/index.ts","webpack:///./src/services/save-structure/structure/gameObjects/behaviors/storage.ts","webpack:///./src/format.ts","webpack:///./src/actions/behaviors/set-accessory.ts","webpack:///./src/actions/behaviors/set-element-disease.ts","webpack:///./src/actions/behaviors/set-health-state.ts","webpack:///./src/actions/behaviors/set-identity-gender.ts","webpack:///./src/actions/behaviors/set-modifier-amount.ts","webpack:///./src/actions/behaviors/set-traits-trait.ts","webpack:///./src/actions/game-object/set-scale.ts","webpack:///./src/actions/dismiss-error.ts","webpack:///./src/actions/set-editmode.ts","webpack:///./src/actions/set-language.ts","webpack:///./src/actions/load-onisave.ts","webpack:///./src/services/save-serializer/index.ts","webpack:///./src/actions/save-onisave.ts","webpack:///./src/selectors/loading-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/DefaultGameObjectEditor/index.ts","webpack:///./src/pages/SaveEditor/components/editors/components/EditorHeader.tsx","webpack:///./src/components/NullableInput.tsx","webpack:///./src/components/TextInput.tsx","webpack:///./src/components/Select.tsx","webpack:///./src/components/DataTable/DataTable.tsx","webpack:///./src/components/Table.ts","webpack:///./src/components/Portrait/index.ts","webpack:///./src/index.tsx","webpack:///./src/i18n/i18n.ts","webpack:///./src/style/style.css?c716","webpack:///./src/style/style.css","webpack:///./src/style/styles/index.ts","webpack:///./src/style/styles/border.ts","webpack:///./src/style/theme/theme.ts","webpack:///./src/style/theme/font-sizes.ts","webpack:///./src/style/styles/intent-border.ts","webpack:///./src/style/styles/intent.ts","webpack:///./src/style/styles/link.ts","webpack:///./src/style/styles/vertical-align.ts","webpack:///./src/root.tsx","webpack:///./src/store/index.ts","webpack:///./src/store/store.ts","webpack:///./src/reducer/index.ts","webpack:///./src/reducer/behaviors/index.ts","webpack:///./src/reducer/behaviors/modify-currentobject-behavior-array.ts","webpack:///./src/services/save-structure/structure/index.ts","webpack:///./src/services/save-structure/structure/gameObjects/index.ts","webpack:///./src/services/save-structure/structure/gameObjects/gameObjectTypes/variants.ts","webpack:///./src/services/save-structure/structure/gameObjects/gameObjectTypes/minion.ts","webpack:///./src/services/save-structure/structure/gameObjects/behaviors/index.ts","webpack:///./src/services/save-structure/structure/gameObjects/behaviors/primary-element.ts","webpack:///./src/services/save-structure/structure/gameObjects/gameObjectTypes/geyser.ts","webpack:///./src/services/save-structure/structure/gameObjects/gameObjectTypes/utils.ts","webpack:///./src/services/save-structure/structure/utils.ts","webpack:///./src/reducer/behaviors/set-accessory.ts","webpack:///./src/reducer/behaviors/set-currentobject-behavior-value.ts","webpack:///./src/reducer/behaviors/set-element-disease.ts","webpack:///./src/reducer/behaviors/set-health-state.ts","webpack:///./src/reducer/behaviors/set-identity-gender.ts","webpack:///./src/reducer/behaviors/set-modifier-amount.ts","webpack:///./src/reducer/behaviors/set-traits-trait.ts","webpack:///./src/reducer/game-object/index.ts","webpack:///./src/reducer/game-object/set-scale.ts","webpack:///./src/reducer/dismiss-error.ts","webpack:///./src/reducer/modify-onisave.ts","webpack:///./src/reducer/onisave-parse-progress.ts","webpack:///./src/reducer/receive-onisave.ts","webpack:///./src/reducer/select-path.ts","webpack:///./src/reducer/set-editmode.ts","webpack:///./src/reducer/set-language.ts","webpack:///./src/saga/index.ts","webpack:///./src/saga/load-onisave.ts","webpack:///./src/services/save-serializer/worker-instance.ts","webpack:///./src/services/save-serializer/worker-messages.ts","webpack:///./src/services/save-serializer/save-serializer.worker.ts","webpack:///./src/saga/save-onisave.ts","webpack:///./src/store/devtool-sanitizer.ts","webpack:///./src/App/index.ts","webpack:///./src/App/App.tsx","webpack:///./src/App/derived-state.ts","webpack:///./src/selectors/error.ts","webpack:///./src/App/events.ts","webpack:///./src/pages/NoSave/index.ts","webpack:///./src/pages/NoSave/NoSave.tsx","webpack:///./src/components/Code.ts","webpack:///./src/pages/Error/index.ts","webpack:///./src/pages/Error/Error.tsx","webpack:///./src/pages/Loading/index.ts","webpack:///./src/pages/Loading/Loading.tsx","webpack:///./src/pages/Loading/derived-state.ts","webpack:///./src/selectors/loading-message.ts","webpack:///./src/pages/SaveEditor/index.ts","webpack:///./src/pages/SaveEditor/SaveEditor.tsx","webpack:///./src/pages/SaveEditor/derived-state.ts","webpack:///./src/components/SelectedPathBreadcrumb/index.ts","webpack:///./src/components/SelectedPathBreadcrumb/SelectedPathBreadcrumb.tsx","webpack:///./src/components/SelectedPathBreadcrumb/derived-state.ts","webpack:///./src/selectors/selected-path-breadcrumb.ts","webpack:///./src/components/SaveStructureLink/SaveStructureLink.tsx","webpack:///./src/components/SaveStructureLink/events.ts","webpack:///./src/components/SelectedPathBreadcrumb/components/BreadcrumbContainer.ts","webpack:///./src/components/ResizePanel/index.ts","webpack:///./src/components/ResizePanel/ResizePanel.tsx","webpack:///./src/components/ResizePanel/components/ResizeHandle.tsx","webpack:///./src/components/ResizePanel/components/ResizeHandleVisual.tsx","webpack:///./src/pages/SaveEditor/components/editors/index.ts","webpack:///./src/pages/SaveEditor/components/editors/from-saveitem.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/from-type.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/DefaultGameObjectEditor/DefaultGameObjectEditor.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/DefaultGameObjectEditor/derived-state.ts","webpack:///./src/components/EditModeCondition/EditModeCondition.tsx","webpack:///./src/components/EditModeCondition/derived-state.ts","webpack:///./src/pages/SaveEditor/components/fields/connect-field/derived-state.tsx","webpack:///./src/pages/SaveEditor/components/fields/connect-field/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/components/GameObjectHeader/GameObjectHeader.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/components/GameObjectHeader/derived-state.ts","webpack:///./src/components/Toolbar.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/components/GameObjectHeader/components/GameObjectHeaderContainer.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/MinionEditor.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/derived-state.ts","webpack:///./src/components/VerticalTabs/index.ts","webpack:///./src/components/VerticalTabs/VerticalTabs.tsx","webpack:///./src/components/VerticalTabs/components/TabContent.tsx","webpack:///./src/components/VerticalTabs/components/VerticalTabItem.ts","webpack:///./src/components/VerticalTabs/components/Tab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionEditableName.tsx","webpack:///./src/pages/SaveEditor/components/fields/EditableTextField.tsx","webpack:///./src/components/EditableText/index.ts","webpack:///./src/components/EditableText/EditableText.tsx","webpack:///./src/components/EditableText/components/EditableTextDisplay.tsx","webpack:///./src/components/EditableText/components/EditableTextInput.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAppearanceTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAppearanceTab/MinionAppearanceTab.tsx","webpack:///./node_modules/react-oni-duplicant/assets/duplicant/hair sync \\.png$","webpack:///./node_modules/react-oni-duplicant/assets/duplicant/headshape sync \\.png$","webpack:///./node_modules/react-oni-duplicant/assets/duplicant/eyes sync \\.png$","webpack:///./node_modules/react-oni-duplicant/assets/duplicant/body sync \\.png$","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAppearanceTab/derived-state.ts","webpack:///./src/selectors/behaviors/minion-identity.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAppearanceTab/events.ts","webpack:///./src/components/TextAutocompleteInput.tsx","webpack:///./src/components/Autocomplete.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAptitudesTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAptitudesTab/MinionAptitudesTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAptitudesTab/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAptitudesTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionEffectsTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionEffectsTab/MinionEffectsTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionEffectsTab/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionEffectsTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionHealthTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionHealthTab/MinionHealthTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionHealthTab/derived-state.ts","webpack:///./src/selectors/behaviors/health.ts","webpack:///./src/selectors/behaviors/primary-element.ts","webpack:///./src/selectors/behaviors/minion-modifiers.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionHealthTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionJobsTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionJobsTab/MinionJobsTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionJobsTab/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionJobsTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionSkillsTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionSkillsTab/MinionSkillsTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionSkillsTab/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionSkillsTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionTraitsTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionTraitsTab/MinionTraitsTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionTraitsTab/derived-state.ts","webpack:///./src/selectors/behaviors/ai-traits.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionTraitsTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionPositionTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionPositionTab/MinionPositionTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionPositionTab/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/GeyserEditor/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/GeyserEditor/GeyserEditor.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/GeyserEditor/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/GeyserEditor/events.ts","webpack:///./src/components/HelpText.tsx","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/index.ts","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/DefaultObjectEditor.tsx","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/components/DefaultObjectEditorContainer.tsx","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/components/EditorField.tsx","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/events.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/index.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/SaveRootEditor.tsx","webpack:///./src/components/InfoText.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/SaveRootEditorContainer.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/SaveGameTitle.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/index.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/DuplicantsList.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/components/DuplicantPortrait/index.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/components/DuplicantPortrait/DuplicantPortrait.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/components/DuplicantPortrait/derived-state.tsx","webpack:///./src/components/Portrait/Portrait.ts","webpack:///./src/components/Portrait/PortraitHeader.ts","webpack:///./src/components/Portrait/PortraitFooter.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/components/DuplicantsListContainer.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/components/DuplicantsListContent.ts","webpack:///./src/pages/SaveEditor/components/editors/TemplateObjectEditor/index.ts","webpack:///./src/pages/SaveEditor/components/editors/TemplateObjectEditor/TemplateObjectEditor.tsx","webpack:///./src/pages/SaveEditor/components/editors/TemplateObjectEditor/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/TemplateObjectEditor/components/TemplateObjectEditorContainer.ts","webpack:///./src/pages/SaveEditor/components/fields/ArrayLikeField.tsx","webpack:///./src/pages/SaveEditor/components/fields/CheckField.tsx","webpack:///./src/pages/SaveEditor/components/fields/ColorField.tsx","webpack:///./src/pages/SaveEditor/components/fields/DictionaryField.tsx","webpack:///./src/pages/SaveEditor/components/fields/EnumerationField.tsx","webpack:///./src/pages/SaveEditor/components/fields/TextField.tsx","webpack:///./src/pages/SaveEditor/components/fields/Vector2Field.tsx","webpack:///./src/pages/SaveEditor/components/fields/Vector2IField.tsx","webpack:///./src/pages/SaveEditor/components/fields/Vector3Field.tsx","webpack:///./src/pages/SaveEditor/components/editors/GameObjectGroupList/index.ts","webpack:///./src/pages/SaveEditor/components/editors/GameObjectGroupList/GameObjectGroupList.tsx","webpack:///./src/pages/SaveEditor/components/editors/GameObjectGroupList/derived-state.tsx","webpack:///./src/pages/SaveEditor/components/editors/GameObjectList/index.ts","webpack:///./src/pages/SaveEditor/components/editors/GameObjectList/GameObjectList.tsx","webpack:///./src/pages/SaveEditor/components/editors/GameObjectList/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/GameObjectList/components/GameObjectListContent.tsx","webpack:///./src/pages/SaveEditor/components/SaveEditorContainer.tsx","webpack:///./src/pages/SaveEditor/components/ContentContainer.tsx","webpack:///./src/pages/SaveEditor/components/EditorContainer.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/index.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/Sidebar.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SidebarContainer.tsx","webpack:///./src/components/Panel.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/EditorModeSelector/index.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/EditorModeSelector/EditorModeSelector.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/EditorModeSelector/events.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/index.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/SaveStructureTree.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureTreeContainer.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/index.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/SaveStructureItem.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/derived-state.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/events.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemContainer.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemHeader/index.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemHeader/SaveStructureItemHeader.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemHeader/components/Expander.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemHeader/components/ItemText.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemContent.tsx","webpack:///./src/components/Separator.tsx","webpack:///./src/App/components/AppContainer.tsx","webpack:///./src/App/components/AppContent.tsx","webpack:///./src/App/components/NavBar/index.ts","webpack:///./src/App/components/NavBar/NavBar.tsx","webpack:///./src/App/components/NavBar/events.ts","webpack:///./src/App/components/NavBar/components/NavBarContainer.tsx","webpack:///./src/App/components/NavBar/components/NavBarGroup.tsx","webpack:///./src/App/components/NavBar/components/NavBarTitleText.ts","webpack:///./src/App/components/NavBar/components/SettingsButton.tsx","webpack:///./src/components/DropdownMenuButton/index.ts","webpack:///./src/components/DropdownMenuButton/DropdownMenuButton.tsx","webpack:///./src/components/DropdownMenuButton/components/DropdownMenuContainer.tsx","webpack:///./src/components/DropdownMenuButton/components/DropdownMenuPanel.tsx","webpack:///./src/components/Menu/index.ts","webpack:///./src/components/Menu/Menu.tsx","webpack:///./src/App/components/NavBar/components/LanguageMenuButton/index.ts","webpack:///./src/App/components/NavBar/components/LanguageMenuButton/LanguageMenuButton.tsx","webpack:///./src/App/components/NavBar/components/LanguageMenuButton/events.ts","webpack:///./src/App/components/NavBar/components/LanguageMenuButton/derived-state.ts","webpack:///./src/selectors/language.ts"],"names":["__webpack_require__","styled_1","__importDefault","exports","default","__export","styled_2","ThemeProvider","injectGlobal","css","styled_system_1","style_1","style_2","utils_1","Text","text","alignSelf","justifySelf","space","displayName","attachProps","H4","withComponent","Label","Div","defaultAppState","language","loadingState","loadingProgressMessage","error","oniSave","selectedPath","editMode","Object","freeze","state","lodash_es_1","component","subComponents","c","forEach","key","React","__importStar","Box_1","Text_1","Header","extend","NonIdealState","intent","header","children","createElement","width","height","border","borderRadius","borderColor","Color","HintIntent","p","mx","mt","Intent","Default","Hint","Primary","FlexItem","props","grow","shrink","fillParent","constrain","Flex","alignContent","justifyContent","direction","Item","styledComponents","styled","keyframes","Flex_1","Component","[object Object]","label","inline","fontSize","this","mb","mr","px","core_decorators_1","keys_1","math_1","Input_1","NumericInput","super","_input","createRef","editValue","validationMessage","value","minValue","maxValue","precision","currentValue","step","isFloatingPoint","innerRef","type","min","max","onChange","_onValueChange","onKeyPress","_onInputKeyPress","onBlur","_onInputBlur","e","target","numberValue","parseFloat","setCustomValidity","setState","Enter","_commitEdit","onCommit","current","isNaN","newValue","clamp","__decorate","autobind","reselect_1","oni_save_parser_1","game_object_1","createCurrentGameObjectBehaviorPropertySelector","behaviorName","valueSelector","valueSelectFunc","Array","isArray","behavior","get","behaviorSelector","getCurrentGameObjectBehaviorSelector","createSelector","memoize","gameObject","getBehavior","getCurrentGameObjectBehaviorPropertySelector","behaviorPath","join","produceFromBehavior","producer","produceFromGameObject","Box","intentBorder","defaultProps","intentIsBg","NumericInput_1","connect_field_1","react_redux_1","derived_state_1","events_1","connect","ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE","setCurrentObjectBehaviorValue","path","payload","SaveStructureLink_1","inputStyle","getTheme","colors","bg","panel","borders","secondary","primary","dangerous","Input","colors_1","getThemeColor","borders_1","getThemeBorder","radii_1","getThemeRadius","space_1","getThemeSpace","ACTION_RECEIVE_ONISAVE_BEGIN","receiveOniSaveBegin","operation","clearExisting","ACTION_RECEIVE_ONISAVE_ERROR","receiveOniSaveError","ACTION_RECEIVE_ONISAVE_SUCCESS","receiveOniSaveSuccess","EditorHeader_1","EditorContainer","DataTable_1","lodash_1","isIntent","str","includes","save_structure_1","selected_path_1","oni_save_1","getGameObjectPathInSelection","found","getLastSaveItemOfType","getSelectedGameObject","getSelectedGameObjectPosition","position","getSelectedGameObjectScale","scale","selectedValueSelector","saveGame","length","getSaveItemEditValue","CheckInput","checked","i18n_1","platform_1","osPlatform","os","family","OSType","test","isProd","intent_1","theme_1","intentColorOf","fromIntent","intentColorFromProps","intentColor","of","defaultAdvancedField","$advanced","saveStructure","$type","$uiPathName","obj","gameInfo","baseName","templates","world","settings","version","gameObjects","gameData","$subType","gasConduitFlow","liquidConduitFlow","simActiveRegionMin","simActiveRegionMax","fallingWater","unstableGround","worldDetail","customGameSettings","gameObjectIs","isObject","name","behaviorIs","behaviors_1","defaultGameObject","idBehavior","KPrefabIDBehavior","templateData","InstanceID","x","toFixed","y","behaviors","map","_","i","*","defaultBehaviorTemplateDataObj","template","find","item","subPath","slice","part","member","fields","properties","typeInfo","code","getTypeCode","info","SerializationTypeCode","UserDefined","templateName","LIST_TYPES","indexOf","subTypes","arrayTypeInfo","Dictionary","keys","filter","defaultBehavior","push","extraData","$uiChildren","ACTION_ONISAVE_MODIFY","modifyOniSave","ACTION_ONISAVE_PARSE_PROGRESS","parseProgress","message","ACTION_SELECT_PATH","selectPath","Button","intentFill","verticalAlign","fontSizes","m","EditModeCondition_1","Esc","createClamp","clampArray","clampInt8","Int8Array","clampUInt8","Uint8Array","clampInt16","Int16Array","clampUInt16","Uint16Array","clampInt32","Int32Array","clampUInt32","Uint32Array","clampSingle","Float32Array","clampDouble","Float64Array","CLAMPS_BY_PRECISION","int8","uint8","int16","uint16","int32","uint32","single","double","clamper","Error","compare","a","b","sortAscending","GameObjectHeader_1","react_fontawesome_1","free_solid_svg_icons_1","free_brands_svg_icons_1","CleanFontAwesomeIcon","_a","__rest","FontAwesomeIcon","assign","Icon","createIcon","icon","GithubIcon","faGithubSquare","LanguageIcon","faLanguage","PencilIcon","faPencilAlt","SettingsIcon","faCog","Github","Language","Pencil","Settings","Select_1","SelectInput","options","clearable","ArrayLikeField_1","CheckField_1","ColorField_1","DictionaryField_1","EnumerationField_1","NumericField_1","TextField_1","Vector2Field_1","Vector2IField_1","Vector3Field_1","short","subType","Boolean","Byte","Colour","Double","Enumeration","enumerationName","HashSet","Int16","Int32","Int64","Dangerous","List","Pair","SByte","Queue","Single","String","UInt16","UInt32","UInt64","Vector2","Vector2I","Vector3","handleUnknownType","themeGet","contrast","DefaultIntentContrast","DefaultIntent","PrimaryIntentContrast","PrimaryIntent","Secondary","SecondaryIntentContrast","SecondaryIntent","DangerousIntentContrast","DangerousIntent","HintIntentContrast","hint","navbar","separator","color","radii","radius","intentFillOf","intentFillFromProps","undefined","intent_color_1","wordWrap","style","prop","cssProperty","wordBreak","whiteSpace","fontWeight","ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM","insertCurrentObjectBehaviorArrayValue","index","ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM","removeCurrentObjectBehaviorArrayValue","ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX","removeCurrentObjectBehaviorArrayIndex","isCurrentObjectBehaviorArrayAction","action","immer_1","structure_1","isImplicitChild","resolveValueSelector","selector","getSaveItemType","def","getSaveStructureDef","foundPath","pair","walkSaveStructurePath","getLastSaveItemOfSubType","pairSubType","getSaveItemTitle","nameSource","nameProducer","getSaveItemBreadcrumb","breadcrumbs","structurePath","defPath","title","getSaveItemChildPaths","uiChildren","defKeys","saveGamePath","collectAutoChildPaths","childDef","advancedProducer","checkEditMode","collectChildPaths","variants_1","gameObjectVariantInfos","getGameObjectVariants","matchers_1","gameObjectTypes_1","default_1","storageBehaviorStoredObject","$variants","initStorageBehaviorHack","storageBehaviorExtraData","storageBehavior","$match","StorageBehavior","POSITION_PRECISION","formatPositionValue","v","toPrecision","formatPosition","formatSimHash","hash","SimHashes","formatDisease","diseaseId","ACTION_SET_ACCESSORY","setAccessory","accessoryType","accessoryName","ACTION_PRIMARY_ELEMENT_SET_DISEASE","setPrimaryElementDisease","diseaseCount","ACTION_HEALTH_SET_STATE","setHealthStatus","ACTION_MINION_IDENTITY_SET_GENDER","setIdentityGender","gender","ACTION_MINION_MODIFIER_SET_VALUE","setModifierValue","amountType","ACTION_TRAITS_SET","setTrait","traitId","isSet","ACTION_GAME_OBJECT_SET_SCALE","setGameObjectScale","ACTION_DISMISS_ERROR","dismissError","ACTION_SET_EDITMODE","setEditMode","ACTION_SET_LANGUAGE","setLanguage","ACTION_ONISAVE_LOAD","loadOniSave","file","ACTION_ONISAVE_SAVE","saveOniSave","fileName","DefaultGameObjectEditor_1","EditorHeader","pb","CheckInput_1","NullableInput","isNotNull","className","renderNull","element","renderInput","defaultValue","resolve","_onNotNullChecked","TextInput","_inputRef","isValid","minLength","maxLength","_setEditValue","validation","_validate","SelectElement","Select","rest","_onChange","Table_1","DataTable","data","columns","THead","TR","col","TH","id","TBody","rowData","di","ci","TD","ColumnCell","property","Cell","cell","Table","table","thead","PanelBackground","th","tbody","tr","td","Portrait_1","ReactDOM","react_modal_1","root_1","rootEl","document","getElementById","setAppElement","render","i18next_1","react_i18next_1","runtime_env_1","use","reactI18nextModule","init","fallbackLng","ns","defaultNS","resources","en","common","zh","debug","interpolation","escapeValue","react","wait","content","module","hmr","transform","insertInto","locals","borderFromProps","font_sizes_1","theme","getThemeProp","getter","val","borderOf","intent_fill_1","intentFromProps","isBg","text_1","link","react_hot_loader_1","store_1","App_1","hot","I18nextProvider","i18n","Provider","store","createStore","redux_1","redux_saga_1","reducer_1","saga_1","devtool_sanitizer_1","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","actionSanitizer","stateSanitizer","compose","sagaMiddleware","applyMiddleware","run","reduce_reducers_1","dismiss_error_1","modify_onisave_1","onisave_parse_progress_1","receive_onisave_1","select_path_1","set_editmode_1","set_language_1","reducers","modify_currentobject_behavior_array_1","set_accessory_1","set_currentobject_behavior_value_1","set_element_disease_1","set_health_state_1","set_identity_gender_1","set_modifier_amount_1","set_traits_trait_1","state_1","array","splice","storage_1","gameObjectGroupsStructure","group","gameObjectsStructure","gameObjectVariantInfo","minionGameObject","identityBehavior","MinionIdentityBehavior","gameObjectMatcher","gameObjectStructure","primary_element_1","primaryElementBehavior","PrimaryElementBehavior","format_1","geyserGameObject","startsWith","setStructure","structure","set","gameObjectTypeInfos","gameObjectPath","defaultVariant","variants","rootVariant","subStructure","variant","save","iter","result","next","done","AccessorizerBehavior","accessories","accessoryIndex","getIndexOfAccessoryType","newAccessory","Accessory","diseaseID","HealthBehavior","State","genderStringKey","MinionModifiersBehavior","amount","amounts","AITraitsBehavior","TraitIds","findIndex","set_scale_1","z","draft","lang","changeLanguage","effects_1","load_onisave_1","save_onisave_1","fork","save_serializer_1","handleOniSaveLoad","put","loadChannel","eventChannel","emitter","parseSave","then","END","catch","createLoadChannel","call","readFile","msg","take","reader","FileReader","Promise","accept","reject","onload","onerror","readAsArrayBuffer","takeEvery","worker_messages_1","worker","onProgress","promise","unhook","onmessage","RESPONSE_PROGRESS","RESPONSE_PARSE_SUCCESS","RESPONSE_PARSE_ERROR","jsonToError","postMessage","writeSave","RESPONSE_WRITE_SUCCESS","RESPONSE_WRITE_ERROR","sendProgress","parseSaveSuccess","parseSaveError","errorToJson","stack","writeSaveSuccess","writeSaveError","Worker","file_saver_1","handleOniSaveWrite","saveName","select","saveChannel","blob","Blob","createSaveChannel","saveAs","sanitizeSave","streamed","NoSave_1","Error_1","Loading_1","SaveEditor_1","AppContainer_1","AppContent_1","NavBar_1","onDismissError","onDismiss","error_1","stateSelectors","mapStateToProps","createStructuredSelector","mapDispatchToProps","NonIdealState_1","Code_1","SaveFilePaths","windows","mac","linux","unknown","NoSave","Trans","i18nKey","defaults","values","components","translate","Code","Button_1","ErrorPage","onClick","Loading","loadingProgressMessageSelector","loading_state_1","loading_message_1","structuredSelector","SelectedPathBreadcrumb_1","ResizePanel_1","editors_1","SaveEditorContainer_1","ContentContainer_1","EditorContainer_1","Sidebar_1","Separator_1","ObjectEditor","editorFromSaveItem","BreadcrumbContainer_1","breadcrumb","links","isFinal","selectedPathBreadcrumbSelector","SaveStructureLink","Link","_onClick","BreadcrumbContainer","div","ResizeHandle_1","ResizePanel","defaultWidth","onResize","_onResize","delta","s","react_draggable_1","ResizeHandleVisual_1","ResizeHandle","isResizing","DraggableCore","onStart","_onStart","onStop","_onStop","onDrag","_onDrag","d","deltaX","ResizeHandleVisual","DefaultSeparator","game_objects_1","DefaultObjectEditor_1","SaveRootEditor_1","TemplateObjectEditor_1","GameObjectGroupList_1","GameObjectList_1","itemType","isFlatList","editorFromGameObjectType","MinionEditor_1","GeyserEditor_1","FormGroup_1","gameObjectName","selected_value_1","selectedValue","prefabIdBehavior","prefabId","currentEditMode","re_reselect_1","itemValue","dispatch","writeTo","Toolbar_1","GameObjectHeaderContainer_1","primaryElement","Group","align","ElementID","toolbarItem","ToolbarLabel","ToolbarGroup","Toolbar","bgColor","GameObjectHeaderContainer","VerticalTabs_1","MinionEditableName_1","MinionAppearanceTab_1","MinionAptitudesTab_1","MinionEffectsTab_1","MinionHealthTab_1","MinionJobsTab_1","MinionSkillsTab_1","MinionTraitsTab_1","MinionPositionTab_1","minionNamePath","Tab","tabKey","behaviorIndex","TabContent_1","VerticalTabItem_1","Tab_1","VerticalTabs","selectedKey","tabs","Children","isValidElement","tabItems","tab","isSelected","_onTabItemClick","bind","TabContent","pl","VerticalTabItem","Fragment","EditableTextField_1","MinionHeader","EditableText_1","EditableTextDisplay_1","EditableTextInput_1","Icon_1","EditableText","autoFocus","_onEditableChange","onKeyUp","_onEditableKeyUp","onFocus","_onEditableFocus","_onEditableBlur","_onTextClick","_commit","_reset","EditableTextDisplay","EditableTextInput","react_oni_duplicant_1","NullableInput_1","TextInput_1","TextAutocompleteInput_1","SelectInput_1","TDText","NoAccessory","NoAccessoryMouth","MinionAppearanceTab","onSetGender","hair","body","eyes","headshape","AccessoryTypes","_renderAccessoryField","genderOpts","MINION_IDENTITY_GENDERS","ident","hairOrdinal","extractOrdinal","bodyOrdinal","eyesOrdinal","headOrdinal","_setScaleX","_setScaleY","marginTop","marginLeft","DuplicantContainer","Body","ordinal","Head","Eyes","Hair","onSetScale","onSetAccessory","editGroup","_renderAccessorySelector","AccessoriesByType","accessoryNames","items","match","exec","Number","./hair_001/hair_001_0.png","./hair_001/hair_001_1.png","./hair_001/hair_001_2.png","./hair_002/hair_002_0.png","./hair_002/hair_002_1.png","./hair_002/hair_002_2.png","./hair_003/hair_003_0.png","./hair_003/hair_003_1.png","./hair_003/hair_003_2.png","./hair_004/hair_004_0.png","./hair_004/hair_004_1.png","./hair_004/hair_004_2.png","./hair_005/hair_005_0.png","./hair_005/hair_005_1.png","./hair_005/hair_005_2.png","./hair_006/hair_006_0.png","./hair_006/hair_006_1.png","./hair_006/hair_006_2.png","./hair_007/hair_007_0.png","./hair_007/hair_007_1.png","./hair_007/hair_007_2.png","./hair_008/hair_008_0.png","./hair_008/hair_008_1.png","./hair_008/hair_008_2.png","./hair_009/hair_009_0.png","./hair_009/hair_009_1.png","./hair_009/hair_009_2.png","./hair_010/hair_010_0.png","./hair_010/hair_010_1.png","./hair_010/hair_010_2.png","./hair_011/hair_011_0.png","./hair_011/hair_011_1.png","./hair_011/hair_011_2.png","./hair_012/hair_012_0.png","./hair_012/hair_012_1.png","./hair_012/hair_012_2.png","./hair_013/hair_013_0.png","./hair_013/hair_013_1.png","./hair_013/hair_013_2.png","./hair_014/hair_014_0.png","./hair_014/hair_014_1.png","./hair_014/hair_014_2.png","./hair_015/hair_015_0.png","./hair_015/hair_015_1.png","./hair_015/hair_015_2.png","./hair_016/hair_016_0.png","./hair_016/hair_016_1.png","./hair_016/hair_016_2.png","./hair_017/hair_017_0.png","./hair_017/hair_017_1.png","./hair_017/hair_017_2.png","./hair_018/hair_018_0.png","./hair_018/hair_018_1.png","./hair_018/hair_018_2.png","./hair_019/hair_019_0.png","./hair_019/hair_019_1.png","./hair_019/hair_019_2.png","./hair_020/hair_020_0.png","./hair_020/hair_020_1.png","./hair_020/hair_020_2.png","./hair_021/hair_021_0.png","./hair_021/hair_021_1.png","./hair_021/hair_021_2.png","./hair_022/hair_022_0.png","./hair_022/hair_022_1.png","./hair_022/hair_022_2.png","./hair_023/hair_023_0.png","./hair_023/hair_023_1.png","./hair_023/hair_023_2.png","./hair_024/hair_024_0.png","./hair_024/hair_024_1.png","./hair_024/hair_024_2.png","./hair_025/hair_025_0.png","./hair_025/hair_025_1.png","./hair_025/hair_025_2.png","./hair_026/hair_026_0.png","./hair_026/hair_026_1.png","./hair_026/hair_026_2.png","./hair_027/hair_027_0.png","./hair_027/hair_027_1.png","./hair_027/hair_027_2.png","./hair_028/hair_028_0.png","./hair_028/hair_028_1.png","./hair_028/hair_028_2.png","./hair_029/hair_029_0.png","./hair_029/hair_029_1.png","./hair_029/hair_029_2.png","./hair_030/hair_030_0.png","./hair_030/hair_030_1.png","./hair_030/hair_030_2.png","./hair_031/hair_031_0.png","./hair_031/hair_031_1.png","./hair_031/hair_031_2.png","./hair_032/hair_032_0.png","./hair_032/hair_032_1.png","./hair_032/hair_032_2.png","./hair_033/hair_033_0.png","./hair_033/hair_033_1.png","./hair_033/hair_033_2.png","webpackContext","req","webpackContextResolve","./headshape_001/headshape_001_0.png","./headshape_001/headshape_001_1.png","./headshape_001/headshape_001_2.png","./headshape_001/headshape_001_3.png","./headshape_002/headshape_002_0.png","./headshape_002/headshape_002_1.png","./headshape_002/headshape_002_2.png","./headshape_002/headshape_002_3.png","./headshape_003/headshape_003_0.png","./headshape_003/headshape_003_1.png","./headshape_003/headshape_003_2.png","./headshape_003/headshape_003_3.png","./headshape_004/headshape_004_0.png","./headshape_004/headshape_004_1.png","./headshape_004/headshape_004_2.png","./headshape_004/headshape_004_3.png","./eyes_001/eyes_001_0.png","./eyes_001/eyes_001_1.png","./eyes_001/eyes_001_10.png","./eyes_001/eyes_001_11.png","./eyes_001/eyes_001_12.png","./eyes_001/eyes_001_13.png","./eyes_001/eyes_001_14.png","./eyes_001/eyes_001_15.png","./eyes_001/eyes_001_16.png","./eyes_001/eyes_001_17.png","./eyes_001/eyes_001_18.png","./eyes_001/eyes_001_19.png","./eyes_001/eyes_001_2.png","./eyes_001/eyes_001_20.png","./eyes_001/eyes_001_21.png","./eyes_001/eyes_001_22.png","./eyes_001/eyes_001_23.png","./eyes_001/eyes_001_24.png","./eyes_001/eyes_001_25.png","./eyes_001/eyes_001_26.png","./eyes_001/eyes_001_29.png","./eyes_001/eyes_001_3.png","./eyes_001/eyes_001_30.png","./eyes_001/eyes_001_31.png","./eyes_001/eyes_001_32.png","./eyes_001/eyes_001_33.png","./eyes_001/eyes_001_34.png","./eyes_001/eyes_001_35.png","./eyes_001/eyes_001_36.png","./eyes_001/eyes_001_37.png","./eyes_001/eyes_001_38.png","./eyes_001/eyes_001_39.png","./eyes_001/eyes_001_4.png","./eyes_001/eyes_001_5.png","./eyes_001/eyes_001_6.png","./eyes_001/eyes_001_7.png","./eyes_001/eyes_001_8.png","./eyes_001/eyes_001_9.png","./eyes_002/eyes_002_0.png","./eyes_002/eyes_002_1.png","./eyes_002/eyes_002_10.png","./eyes_002/eyes_002_11.png","./eyes_002/eyes_002_12.png","./eyes_002/eyes_002_13.png","./eyes_002/eyes_002_14.png","./eyes_002/eyes_002_15.png","./eyes_002/eyes_002_16.png","./eyes_002/eyes_002_17.png","./eyes_002/eyes_002_18.png","./eyes_002/eyes_002_19.png","./eyes_002/eyes_002_2.png","./eyes_002/eyes_002_20.png","./eyes_002/eyes_002_21.png","./eyes_002/eyes_002_22.png","./eyes_002/eyes_002_23.png","./eyes_002/eyes_002_24.png","./eyes_002/eyes_002_25.png","./eyes_002/eyes_002_26.png","./eyes_002/eyes_002_29.png","./eyes_002/eyes_002_3.png","./eyes_002/eyes_002_30.png","./eyes_002/eyes_002_31.png","./eyes_002/eyes_002_32.png","./eyes_002/eyes_002_33.png","./eyes_002/eyes_002_34.png","./eyes_002/eyes_002_35.png","./eyes_002/eyes_002_36.png","./eyes_002/eyes_002_37.png","./eyes_002/eyes_002_38.png","./eyes_002/eyes_002_39.png","./eyes_002/eyes_002_4.png","./eyes_002/eyes_002_5.png","./eyes_002/eyes_002_6.png","./eyes_002/eyes_002_7.png","./eyes_002/eyes_002_8.png","./eyes_002/eyes_002_9.png","./eyes_003/eyes_003_0.png","./eyes_003/eyes_003_1.png","./eyes_003/eyes_003_10.png","./eyes_003/eyes_003_11.png","./eyes_003/eyes_003_12.png","./eyes_003/eyes_003_13.png","./eyes_003/eyes_003_14.png","./eyes_003/eyes_003_15.png","./eyes_003/eyes_003_16.png","./eyes_003/eyes_003_17.png","./eyes_003/eyes_003_18.png","./eyes_003/eyes_003_19.png","./eyes_003/eyes_003_2.png","./eyes_003/eyes_003_20.png","./eyes_003/eyes_003_21.png","./eyes_003/eyes_003_22.png","./eyes_003/eyes_003_23.png","./eyes_003/eyes_003_24.png","./eyes_003/eyes_003_25.png","./eyes_003/eyes_003_26.png","./eyes_003/eyes_003_29.png","./eyes_003/eyes_003_3.png","./eyes_003/eyes_003_30.png","./eyes_003/eyes_003_31.png","./eyes_003/eyes_003_32.png","./eyes_003/eyes_003_33.png","./eyes_003/eyes_003_34.png","./eyes_003/eyes_003_35.png","./eyes_003/eyes_003_36.png","./eyes_003/eyes_003_37.png","./eyes_003/eyes_003_38.png","./eyes_003/eyes_003_39.png","./eyes_003/eyes_003_4.png","./eyes_003/eyes_003_5.png","./eyes_003/eyes_003_6.png","./eyes_003/eyes_003_7.png","./eyes_003/eyes_003_8.png","./eyes_003/eyes_003_9.png","./eyes_004/eyes_004_0.png","./eyes_004/eyes_004_1.png","./eyes_004/eyes_004_10.png","./eyes_004/eyes_004_11.png","./eyes_004/eyes_004_12.png","./eyes_004/eyes_004_13.png","./eyes_004/eyes_004_14.png","./eyes_004/eyes_004_15.png","./eyes_004/eyes_004_16.png","./eyes_004/eyes_004_17.png","./eyes_004/eyes_004_18.png","./eyes_004/eyes_004_19.png","./eyes_004/eyes_004_2.png","./eyes_004/eyes_004_20.png","./eyes_004/eyes_004_21.png","./eyes_004/eyes_004_22.png","./eyes_004/eyes_004_23.png","./eyes_004/eyes_004_24.png","./eyes_004/eyes_004_25.png","./eyes_004/eyes_004_26.png","./eyes_004/eyes_004_29.png","./eyes_004/eyes_004_3.png","./eyes_004/eyes_004_30.png","./eyes_004/eyes_004_31.png","./eyes_004/eyes_004_32.png","./eyes_004/eyes_004_33.png","./eyes_004/eyes_004_34.png","./eyes_004/eyes_004_35.png","./eyes_004/eyes_004_36.png","./eyes_004/eyes_004_37.png","./eyes_004/eyes_004_38.png","./eyes_004/eyes_004_39.png","./eyes_004/eyes_004_4.png","./eyes_004/eyes_004_5.png","./eyes_004/eyes_004_6.png","./eyes_004/eyes_004_7.png","./eyes_004/eyes_004_8.png","./eyes_004/eyes_004_9.png","./eyes_005/eyes_005_0.png","./eyes_005/eyes_005_1.png","./eyes_005/eyes_005_10.png","./eyes_005/eyes_005_11.png","./eyes_005/eyes_005_12.png","./eyes_005/eyes_005_13.png","./eyes_005/eyes_005_14.png","./eyes_005/eyes_005_15.png","./eyes_005/eyes_005_16.png","./eyes_005/eyes_005_17.png","./eyes_005/eyes_005_18.png","./eyes_005/eyes_005_19.png","./eyes_005/eyes_005_2.png","./eyes_005/eyes_005_20.png","./eyes_005/eyes_005_21.png","./eyes_005/eyes_005_22.png","./eyes_005/eyes_005_23.png","./eyes_005/eyes_005_24.png","./eyes_005/eyes_005_25.png","./eyes_005/eyes_005_26.png","./eyes_005/eyes_005_29.png","./eyes_005/eyes_005_3.png","./eyes_005/eyes_005_30.png","./eyes_005/eyes_005_31.png","./eyes_005/eyes_005_32.png","./eyes_005/eyes_005_33.png","./eyes_005/eyes_005_34.png","./eyes_005/eyes_005_35.png","./eyes_005/eyes_005_36.png","./eyes_005/eyes_005_37.png","./eyes_005/eyes_005_38.png","./eyes_005/eyes_005_39.png","./eyes_005/eyes_005_4.png","./eyes_005/eyes_005_5.png","./eyes_005/eyes_005_6.png","./eyes_005/eyes_005_7.png","./eyes_005/eyes_005_8.png","./eyes_005/eyes_005_9.png","./body_001/body_001_0.png","./body_001/body_001_1.png","./body_001/body_001_10.png","./body_001/body_001_11.png","./body_001/body_001_12.png","./body_001/body_001_2.png","./body_001/body_001_20.png","./body_001/body_001_21.png","./body_001/body_001_22.png","./body_001/body_001_23.png","./body_001/body_001_24.png","./body_001/body_001_3.png","./body_001/body_001_4.png","./body_001/body_001_5.png","./body_002/body_002_0.png","./body_002/body_002_1.png","./body_002/body_002_10.png","./body_002/body_002_11.png","./body_002/body_002_12.png","./body_002/body_002_2.png","./body_002/body_002_20.png","./body_002/body_002_21.png","./body_002/body_002_22.png","./body_002/body_002_23.png","./body_002/body_002_24.png","./body_002/body_002_3.png","./body_002/body_002_4.png","./body_002/body_002_5.png","./body_003/body_003_0.png","./body_003/body_003_1.png","./body_003/body_003_10.png","./body_003/body_003_11.png","./body_003/body_003_12.png","./body_003/body_003_2.png","./body_003/body_003_20.png","./body_003/body_003_21.png","./body_003/body_003_22.png","./body_003/body_003_23.png","./body_003/body_003_24.png","./body_003/body_003_3.png","./body_003/body_003_4.png","./body_003/body_003_5.png","./body_004/body_004_0.png","./body_004/body_004_1.png","./body_004/body_004_10.png","./body_004/body_004_11.png","./body_004/body_004_12.png","./body_004/body_004_2.png","./body_004/body_004_20.png","./body_004/body_004_21.png","./body_004/body_004_22.png","./body_004/body_004_23.png","./body_004/body_004_24.png","./body_004/body_004_3.png","./body_004/body_004_4.png","./body_004/body_004_5.png","minion_identity_1","accessorizerBehavior","getSelectedGameObjectGender","accessory","getAccessoryOfType","getAccessoryName","createAccessorySelector","getSelectedGameObjectIdentityBehavior","Autocomplete_1","TextAutocompleteInput","getItemValue","onSelect","_onValueSelect","selectOnBlur","onSet","react_autocomplete_1","AutocompleteItem","Autocomplete","inputProps","ref","convertProps","renderItem","isHighlighted","renderMenu","styles","elements","AutocompleteMenu","aptitudes","setAptitude","sortable","filterable","sortMethod","column","sort","aptitudesSelector","MinionResumeBehavior","hstr","aptitude","roleId","MinionRoleGroup","roleHash","effects","onSetEffectData","AI_EFFECT_IDS","effectId","effectIndex","effect","timeRemaining","AIEffectsBehavior","EffectsPath","MinionHealthTab","healthState","onHealthStatusChanged","hitpoints","onHitpointsChanged","stamina","onStaminaChanged","calories","onCaloriesChanged","breath","onBreathChanged","stress","onStressChanged","bladder","onBladderChanged","surfaceDiseaseId","surfaceDiseaseCount","immuneLevel","onImmuneLevelChanged","foodPoisoning","onFoodPoisoningChanged","coldBrain","onColdBrainChanged","heatRash","onHeatRashChanged","slimeLung","onSlimeLungChanged","spores","onSporesChanged","sunburn","onSunburnChanged","HealthState","parseInt","Perfect","_onSurfaceDiseaseIdCommit","_onSurfaceDiseaseCountCommit","onSurfaceDiseaseChanged","health_1","minion_modifiers_1","getSelectedGameObjectHealthState","getSelectedGameObjectElementDiseaseId","getSelectedGameObjectElementDiseaseCount","getSelectedGameObjectModifierValueSelector","getSelectedGameObjectHealthBehavior","getSelectedGameObjectElementBehavior","getSelectedGameObjectModifiersBehavior","amountId","level","jobs","setExperience","setMastery","experienceIndex","masteryIndex","masteriesSelector","experienceSelector","masteries","experience","mastery","skills","setSkillLevel","setSkillExperience","AIAttributeLevelsBehavior","traits","onSetTrait","rows","AI_TRAIT_IDS","trait","some","getSelectedGameObjectTraits","MinionPositionTab","HelpText_1","geyserType","onGeyserTypeChanged","emissionRate","onEmissionRateChanged","yearLengthRoll","onYearLengthRollChanged","yearPercentRoll","onYearPercentRollChanged","iterationLengthRoll","onIterationLengthRollChanged","iterationPercentRoll","onIterationPercentRollChanged","GeyserTypeNames","geyserBehaviorSelector","GeyserBehavior","configuration","typeId","GeyserType","rate","HelpText","DefaultObjectEditorContainer_1","EditorField_1","DefaultObjectEditor","fieldElements","field","_renderFieldRow","propKey","_onFieldChange","onModify","DefaultObjectEditorContainer","EditorField","JSON","stringify","parse","isPrimitive","structuredSelectors","primitiveTypes","valType","InfoText_1","SaveRootEditorContainer_1","SaveGameTitle_1","DuplicantsList_1","_renderContent","numGameObjects","reduce","count","numberOfCycles","numberOfDuplicants","SaveRootEditorContainer","SaveGameTitle","DuplicantPortrait_1","DuplicantsListContainer_1","DuplicantsListContent_1","duplicantsSetPath","duplicantIndexes","duplicantPortraits","gameObjectIndex","minionSet","range","arrivalCycle","Footer","generateCacheKey","duplicants","duplicantIdentity","identBehavior","gameSave","groupIndex","arrivalTime","PortraitHeader_1","PortraitFooter_1","Portrait","PortraitHeader","PortraitFooter","DuplicantsListContainer","DuplicantsListContent","TemplateObjectEditorContainer_1","from_typeinfo_1","fieldRows","FieldEditor","foundRoot","rootTemplatePath","templatePath","SerializationTypeInfo","typeCode","keyValueIndex","TemplateObjectEditorContainer","ArrayLikeField","ValueElement","ColorField","DictionaryField","EnumerationField","enumeration","prototype","hasOwnProperty","EnumerationsByName","getEnumeration","_onSelectInputChange","Vector2Field","Vector2IField","Vector3Field","gameObjectGroups","edit_mode_1","GameObjectListContent_1","gameObjectItems","portraits","gameObjectPaths","GroupListContent","SaveEditorContainer","ContentContainer","SidebarContainer_1","EditorModeSelector_1","SaveStructureTree_1","Sidebar","Panel_1","SidebarContainer","Panel","EditorModeSelector","htmlFor","_onAdvancedModeChange","SaveStructureTreeContainer_1","SaveStructureItem_1","_containerRef","saveItemPath","scrollContainer","SaveStructureTreeContainer","dom_scroll_into_view_1","SaveStructureItemContainer_1","SaveStructureItemHeader_1","SaveStructureItemContent_1","SaveStructureItemComponent","_ref","isExpanded","selectionStatus","_scrollIntoView","oldProps","childPaths","isExpandable","titleIntent","valueElement","childPath","SaveStructureItem","expandable","expanded","onExpandToggle","_onExpandToggle","htmlElement","allowHorizontalScroll","onlyScrollIfNeeded","offsetBottom","offsetTop","string_natural_compare_1","cacheKeyGenerator","itemPathSelector","itemPath","every","aTitle","bTitle","SaveStructureItemContainer","Expander_1","ItemText_1","SaveStructureItemHeaderContainer","span","SaveStructureItemHeader","viewBox","fill","ItemText","SaveStructureItemContent","Separator","AppContainer","NavBarContainer_1","NavBarGroup_1","NavBarTitleText_1","SettingsButton_1","NavBar","onLoadTestData","el","display","_onLoadFileInput","_onLoadFileClick","_onSaveFileClick","href","click","files","onLoad","onSave","ext","endsWith","withExtension","save_game_json_1","NavBarContainer","NavBarGroup","NavBarTitleText","DropdownMenuButton_1","LanguageMenuButton_1","button","DropdownMenuContainer_1","DropdownMenuPanel_1","Menu_1","DropdownMenu","isOpen","_toggleDropdown","_renderDropDown","onMouseLeave","_closeDropdown","DropdownMenuContainer","DropdownMenuPanel","MenuItemWrapper","expandedLeft","expandedRight","MenuContainer","ul","menuItems","child","onSetLanguage"],"mappings":"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AAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,4BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,4BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,4BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,4BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,4BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,4BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,KAIA,SAAAhN,EAAAC,GACA,IAAA9gB,EAAA+gB,EAAAD,GACA,OAAA3kC,EAAA6jB,GAEA,SAAA+gB,EAAAD,GACA,IAAA9gB,EAAA5S,EAAA0zB,GACA,KAAA9gB,EAAA,IACA,IAAAvc,EAAA,IAAAqO,MAAA,uBAAAgvB,EAAA,KAEA,MADAr9B,EAAA0K,KAAA,mBACA1K,EAEA,OAAAuc,EAEA6gB,EAAA/xB,KAAA,WACA,OAAA1Q,OAAA0Q,KAAA1B,IAEAyzB,EAAAniB,QAAAqiB,EACAje,EAAAxmB,QAAAukC,EACAA,EAAA7gB,GAAA,mNCpNA,IAAA5S,GACA0gC,4BAAA,IACAC,4BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,4BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,4BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,4BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,4BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,4BAAA,KAIA,SAAAxQ,EAAAC,GACA,IAAA9gB,EAAA+gB,EAAAD,GACA,OAAA3kC,EAAA6jB,GAEA,SAAA+gB,EAAAD,GACA,IAAA9gB,EAAA5S,EAAA0zB,GACA,KAAA9gB,EAAA,IACA,IAAAvc,EAAA,IAAAqO,MAAA,uBAAAgvB,EAAA,KAEA,MADAr9B,EAAA0K,KAAA,mBACA1K,EAEA,OAAAuc,EAEA6gB,EAAA/xB,KAAA,WACA,OAAA1Q,OAAA0Q,KAAA1B,IAEAyzB,EAAAniB,QAAAqiB,EACAje,EAAAxmB,QAAAukC,EACAA,EAAA7gB,GAAA,yQC9EA,MAAAxb,EAAArI,EAAA,GAEAsI,EAAAtI,EAAA,GAYAm1C,EAAAn1C,EAAA,KACAuI,EAAAvI,EAAA,IAEAo3B,EAAAl3B,EAAAF,EAAA,KACA6M,EAAA3M,EAAAF,EAAA,KAEMo1C,EAAuB/sC,EAAAa,eAC3BkuB,EAAAh3B,QACCgJ,GACMA,EAGEd,EAAAe,YAAYD,EAAYd,EAAAgkB,sBAFtB,MAyBb,MAAMsH,GACJ7xB,aAAA8K,EAAAzM,QACAkgB,OAAQ60B,EAAAE,4BACR/nC,MAAO/E,EAAA8E,4BAET/E,EAAAm0B,eAAej6B,QAAQqO,IACpB+iB,EAA2B/iB,GAzB9B,SACEgP,GAEA,OAAOxX,EAAAa,eAAeksC,EAAsBtsC,IAC1C,IAAKA,EACH,OAAO,KAGT,MAAMyjB,YAAEA,GAAgBzjB,EAAS6H,aAE3B2kC,EAAYhtC,EAAAitC,mBAAmBhpB,EAAa1M,GAClD,OAAKy1B,EAIEhtC,EAAAktC,iBAAiBF,GAHf,OAasBG,CAAwB5kC,KAK3D,MAAMshB,EAAkB9pB,EAAA+pB,yBACtBwB,GAEFzzB,EAAAC,QAAe+xB,iFC/Df,MAAA7pB,EAAAtI,EAAA,GAIAa,EAAAb,EAAA,IAEaG,EAAAu1C,sCAAwC70C,EAAAoI,qCACnDX,EAAAwiB,wBAGW3qB,EAAAk1C,4BAA+BlzC,KAC1C,MAAM2G,EAAW3I,EAAAu1C,sCAAsCvzC,GACvD,OAAK2G,EAGEA,EAAS6H,aAAaoc,gBAFpB,sFCbX,MAAA9C,EAAAjqB,EAAA,KACA6pB,EAAA7pB,EAAA,KAGMqyB,GACJwL,WAHF79B,EAAA,KAGc+gB,mBACZqb,YAAanS,EAAA5J,kBACbyd,eAAgBjU,EAAAjK,cAGlBzf,EAAAC,QAAeiyB,2qBCVf,MAAA3vB,EAAAC,EAAA3C,EAAA,IAEA2F,EAAA3F,EAAA,IAEA21C,EAAAz1C,EAAAF,EAAA,YAeA41C,UAAmDlzC,EAAMwC,UAMvDC,YAAYf,GACV4B,MAAM5B,GAHAmB,KAAAmd,UAAYhgB,EAAMwD,YAKxBX,KAAKpD,OACHgE,UAAW,KACXwc,SAAS,GAIbxd,SACE,MAAMkB,MAAEA,EAAFuc,UAASA,EAATC,UAAoBA,EAApBsb,MAA+BA,GAAU54B,KAAKnB,OAC9C+B,UAAEA,GAAcZ,KAAKpD,MAErBsE,EAA4B,MAAbN,EAAoBA,EAAYE,EAErD,OACE3D,EAAAU,cAACuyC,EAAAv1C,SACCiG,MAAOI,EACP03B,MAAOA,EACPvb,UAAWA,EACXC,UAAWA,EACXgzB,aAAchlC,GAAKA,EACnB7J,SAAUzB,KAAK0B,eACf6uC,SAAUvwC,KAAKwwC,eACfC,cAAY,IAMV7wC,eAAemC,GACrB,MAAMjB,EAAQiB,EAAEC,OAAOlB,MACvBd,KAAKud,cAAczc,GAIblB,eAAekB,GACrBd,KAAKud,cAAczc,EAAO,KACxBd,KAAKsC,gBAID1C,cAAckB,EAAe4vC,GACnC,MAAMlzB,EAAaxd,KAAKyd,UAAU3c,GAC5Bsc,GAAWI,EAEbxd,KAAKmd,UAAU3a,SACjBxC,KAAKmd,UAAU3a,QAAQL,kBAAkBqb,GAAc,IAGzDxd,KAAKoC,UAEDxB,UAAWE,EACXsc,WAEFszB,GAII9wC,cACN,MAAMgB,UAAEA,EAAFwc,QAAaA,GAAYpd,KAAKpD,OAC9B2F,SAAEA,GAAavC,KAAKnB,MAE1BmB,KAAKoC,UACHxB,UAAW,OAGRA,GAAcwc,GAInB7a,EAAS3B,GAGHhB,UAAUkB,GAChB,MAAMuc,UAAEA,EAAFC,UAAaA,GAActd,KAAKnB,MACtC,OAAiB,MAAbwe,KAAuBvc,GAASA,EAAMoH,OAASmV,6BAChBA,gBAGlB,MAAbC,GAAqBxc,EAAMoH,OAASoV,6BACJA,gBAG7B,MAtDT1a,GADCxC,EAAAyC,yCAIA,MAGDD,GADCxC,EAAAyC,yCAKA,MA9CHjI,EAAAC,QAAAw1C,ynBCnBA,MAAAlzC,EAAAC,EAAA3C,EAAA,IAEAk2C,EAAAh2C,EAAAF,EAAA,MAEAW,EAAAX,EAAA,GAEA8F,EAAA5F,EAAAF,EAAA,KACA4C,EAAA1C,EAAAF,EAAA,KACA6C,EAAA3C,EAAAF,EAAA,KASMm2C,EAAmBtzC,EAAAzC,QAAKkB,cAAc,OAAOyB;;cAErCqB,GAASzD,EAAAiK,SAASxG,GAAOlD,MAAK;EAGtCk1C,EAA6ChyC,GACjD1B,EAAAU,cAAC8yC,EAAA91C,QAAiB6B,OAAAuU,UACZpS,GACJie,YAAag0B,GAAc3zC,EAAAU,cAAC0C,EAAA1F,QAAK6B,OAAAuU,UAcrC,SACEpS,GAEA,MAAMkyC,IAAEA,GAAiBlyC,EAAZ+e,EAAA7M,EAAAlS,GAAA,QACb,OAAAnC,OAAAuU,UACM2M,GACJvc,SAAUxC,EAAMkyC,MApBsBC,CAAaF,KACnDG,WAAY,CAAChlC,EAAMilC,EAAel7B,IAChC7Y,EAAAU,cAAC+yC,GACClzC,OAAQwzC,EAAgB91C,EAAAoD,OAAOG,QAAUvD,EAAAoD,OAAOuW,YAE9ClW,EAAMoyC,YAmBhB,SACEhlC,EACAilC,EACAl7B,GAIA,OAFAA,EAAQA,OACFlY,MAAQ,OACPX,EAAAU,cAAA,OAAKmY,MAAOA,GAAQ/J,KA1BoBA,EAAMilC,EAAel7B,IAGlEm7B,WAAYtyC,EAAMsyC,YAqCtB,SACEtyC,EACA+5B,EACA93B,EACAswC,GAGA,MAAMC,EAAWzY,EAAMltB,IAAI,CAACJ,EAAGM,IAAMzO,EAAAU,cAAA,OAAKX,IAAK0O,GAAIN,IACnD,OACEnO,EAAAU,cAACyzC,GAAiB5zC,OAAQmB,EAAMnB,OAAQsY,MAAOo7B,GAC5CC,IA/CwCzc,KAAK,KAAM/1B,MAG1DgyC,EAAaj1C,YAAc,eAC3BhB,EAAAC,QAAeg2C,EAsBf,MAAMS,EAAmBj0C,EAAAxC,QAAI2C;gBACbqB,GAASzD,EAAAiK,SAASxG,GAAOyG,OAAOC,GAAGC;YACvC3G,IACR,MAAM8iB,EAAQvmB,EAAAiK,SAASxG,GACvB,SAAU8iB,EAAMlc,QAAQ,MACtBkc,EAAMrc,OAAO5H,OAAOmB,EAAMnB,QAAUtC,EAAAoD,OAAOuW;;yKChEjD,MAAAse,EAAA14B,EAAAF,EAAA,MACAG,EAAAC,QAAew4B,EAAAx4B,oVCDf,MAAAsC,EAAAC,EAAA3C,EAAA,IACAkK,EAAAlK,EAAA,GAEA6F,EAAA7F,EAAA,KACAW,EAAAX,EAAA,GAEAmK,EAAAjK,EAAAF,EAAA,MACAoK,EAAAlK,EAAAF,EAAA,MAEAsyB,EAAApyB,EAAAF,EAAA,KACAuM,EAAArM,EAAAF,EAAA,KACAgK,EAAA9J,EAAAF,EAAA,KA4CAG,EAAAC,QAAe8J,EAAAG,QACbF,EAAA/J,QACAgK,EAAAhK,QAFa8J,eAzCkBxH,EAAMwC,UACrCC,SACE,MAAM2xC,UAAEA,EAAFC,YAAaA,GAAgBxxC,KAAKnB,MAExC,IAAK0yC,GAAkC,IAArBA,EAAUrpC,OAC1B,OACE/K,EAAAU,cAACkvB,EAAAlyB,SAAc6C,OAAQtC,EAAAoD,OAAOmV,UAAWhW,OAAO,WAAS,sDAM7D,MAAMsgB,IAEFtgB,OAAQ,OACR8zC,UAAU,EACVC,YAAY,EACZ7yB,SAAU,WAGVlhB,OAAQ,WACR8zC,UAAU,EACVC,YAAY,EACZ7yB,SAAU,WACVE,KAAM,EAAGje,QAAO0d,aACdrhB,EAAAU,cAAC4G,EAAA5J,SACCoG,UAAU,SACVF,SAAU,EACVD,MAAOA,EACPyB,SAAUivC,EAAY5c,KAAK,KAAMpW,EAAQhI,SAG7Cm7B,WAAY,CAAC3zB,EAAM4zB,EAAQphC,IAClBwN,EAAK6zB,KAAK,CAACvhC,EAAGC,IAAMjQ,EAAA+P,QAAQC,EAAGC,EAAGC,MAK/C,OAAOrT,EAAAU,cAACmJ,EAAAnM,SAAUojB,QAASA,EAASD,KAAMuzB,sFCpD9C,MAAAzuC,EAAArI,EAAA,GAEAsI,EAAAtI,EAAA,GAMMq3C,EAFNr3C,EAAA,IAE0BsJ,6CAGxBhB,EAAAgvC,sBAAuB,eAAgB,wBAgCnC1jB,GACJkjB,UAzB2BzuC,EAAAa,eAAemuC,EAAmBP,IAC7D,IAAKA,EACH,OAAO,KAGT,MAAMvzB,KAEN,IAAK,IAAIpS,EAAI,EAAGA,EAAI2lC,EAAUrpC,OAAQ0D,IAAK,CACzC,MAAOomC,EAAMC,GAAYV,EAAU3lC,GAC7BsmC,EAASnvC,EAAAovC,gBAAgBH,EAAKh4B,MAC/Bk4B,GAGLl0B,EAAKzQ,MACH2kC,SACAE,SAAUJ,EAAKh4B,KACfi4B,WACAz7B,MAAO5K,IAIX,OAAOoS,KAOH4O,EAAkB9pB,EAAA+pB,yBACtBwB,GAEFzzB,EAAAC,QAAe+xB,iFClDf,MAAA7pB,EAAAtI,EAAA,GACA8pB,EAAA9pB,EAAA,IAEMqyB,GACJ0kB,YAAA,CAAYh7B,EAAey7B,IAClB1tB,EAAAvf,8BACLjC,EAAAgvC,sBACC,eAAgB,yBAA0Bv7B,IAAS,KACpDy7B,IAKNr3C,EAAAC,QAAeiyB,qKCbf,MAAAwG,EAAA34B,EAAAF,EAAA,MACAG,EAAAC,QAAey4B,EAAAz4B,oVCDf,MAAAsC,EAAAC,EAAA3C,EAAA,IACAkK,EAAAlK,EAAA,GAEAsI,EAAAtI,EAAA,GAEA6F,EAAA7F,EAAA,KACAW,EAAAX,EAAA,GAEAmK,EAAAjK,EAAAF,EAAA,MACAoK,EAAAlK,EAAAF,EAAA,MAEAsyB,EAAApyB,EAAAF,EAAA,KACAuM,EAAArM,EAAAF,EAAA,KACA47B,EAAA17B,EAAAF,EAAA,MACAgK,EAAA9J,EAAAF,EAAA,KA4DAG,EAAAC,QAAe8J,EAAAG,QACbF,EAAA/J,QACAgK,EAAAhK,QAFa8J,eAzDgBxH,EAAMwC,UACnCC,SACE,MAAMyyC,QAAEA,EAAFC,gBAAWA,GAAoBtyC,KAAKnB,MAE1C,IAAKwzC,EACH,OACEl1C,EAAAU,cAACkvB,EAAAlyB,SAAc6C,OAAQtC,EAAAoD,OAAOmV,UAAWhW,OAAO,WAAS,qDAM7D,MAAMqgB,EAAOjb,EAAAwvC,cAAc7mC,IAAI8mC,IAC7B,MAAMC,EAAcJ,EAAQvqB,UAAUxc,GAAKA,EAAEgT,KAAOk0B,GAC9CE,EAASD,GAAe,EAAIJ,EAAQI,GAAe,KACzD,OACED,WACAC,cACAE,cAAeD,EAASA,EAAOC,cAAgB,QAI7C10B,IAEFtgB,OAAQ,SACR8zC,UAAU,EACVC,YAAY,EACZ7yB,SAAU,aAGVlhB,OAAQ,iBACR8zC,UAAU,EACVC,YAAY,EACZ7yB,SAAU,gBACVE,KAAM,EAAGP,aACPrhB,EAAAU,cAACw4B,EAAAx7B,SACCiG,MAAO0d,EAAQm0B,cACfpwC,SAAU+vC,EAAgB1d,KACxB,KACApW,EAAQg0B,SACRh0B,EAAQi0B,aAEV11B,aAAc,KACdD,YAAaje,GACX1B,EAAAU,cAAC4G,EAAA5J,QAAY6B,OAAAuU,QAAChQ,UAAU,SAASF,SAAU,GAAOlC,MAIxD8yC,WAAY,CAAC3zB,EAAM4zB,EAAQphC,IAClBwN,EAAK6zB,KAAK,CAACvhC,EAAGC,IAAMjQ,EAAA+P,QAAQC,EAAGC,EAAGC,MAK/C,OAAOrT,EAAAU,cAACmJ,EAAAnM,SAAUojB,QAASA,EAASD,KAAMA,sFCvE9C,MAAAlb,EAAArI,EAAA,GAEAsI,EAAAtI,EAAA,GAWM4zB,GACJgkB,QARF53C,EAAA,IAEgBsJ,6CAGdhB,EAAA6vC,mBAAoB,eAAgB,qBAMhChmB,EAAkB9pB,EAAA+pB,yBACtBwB,GAEFzzB,EAAAC,QAAe+xB,iFCpBf,MAAA7pB,EAAAtI,EAAA,GAEA4pB,EAAA5pB,EAAA,KAKA8pB,EAAA9pB,EAAA,IAEMo4C,GAAe,eAAgB,mBAE/B/lB,GACJltB,gBACE4yC,EACAC,EACAE,GAEA,GAAqB,MAAjBA,GAAyBA,EAAgB,EAAG,CAC9C,IAAqB,IAAjBF,EAAoB,CAEtB,MAAMC,GACJp0B,GAAIk0B,EACJG,iBAEF,OAAOtuB,EAAA9N,sCACLxT,EAAA6vC,kBACAC,EACAH,GAIF,OAAOnuB,EAAAvf,8BACLjC,EAAA6vC,sBACIC,KAAgBJ,IAAe,iBACnCE,GAGC,GAAIF,GAAe,EAExB,OAAOpuB,EAAAzN,sCACL7T,EAAA6vC,kBACAC,EACAJ,IAIN7yC,eAAe6yC,MAGjB73C,EAAAC,QAAeiyB,qKCjDf,MAAAyG,EAAA54B,EAAAF,EAAA,MACAG,EAAAC,QAAe04B,EAAA14B,irBCDf,MAAAsC,EAAAC,EAAA3C,EAAA,IACAkK,EAAAlK,EAAA,GAEA2F,EAAA3F,EAAA,IAEAsI,EAAAtI,EAAA,GAEAmK,EAAAjK,EAAAF,EAAA,MACAoK,EAAAlK,EAAAF,EAAA,MAEA6C,EAAA3C,EAAAF,EAAA,KAEAk3B,EAAAh3B,EAAAF,EAAA,KACA+7B,EAAA77B,EAAAF,EAAA,MACAgK,EAAA9J,EAAAF,EAAA,KAEMkkB,EAAKrhB,EAAAzC,QAAKkB,cAAc,YAG9B+2C,UAA8B31C,EAAMwC,UAClCC,SACE,MAAMmzC,YACJA,EADIC,sBAEJA,EAFIC,UAGJA,EAHIC,mBAIJA,EAJIC,QAKJA,EALIC,iBAMJA,EANIC,SAOJA,EAPIC,kBAQJA,EARIC,OASJA,EATIC,gBAUJA,EAVIC,OAWJA,EAXIC,gBAYJA,EAZIC,QAaJA,EAbIC,iBAcJA,EAdIC,iBAeJA,EAfIC,oBAgBJA,EAhBIC,YAiBJA,EAjBIC,qBAkBJA,EAlBIC,cAmBJA,EAnBIC,uBAoBJA,EApBIC,UAqBJA,EArBIC,mBAsBJA,EAtBIC,SAuBJA,EAvBIC,kBAwBJA,EAxBIC,UAyBJA,EAzBIC,mBA0BJA,EA1BIC,OA2BJA,EA3BIC,gBA4BJA,EA5BIC,QA6BJA,EA7BIC,iBA8BJA,GACE50C,KAAKnB,MAEHsT,EAAUzV,OAAO0Q,KAAKrK,EAAA8xC,aACzBxnC,OAAO/B,GAAK7I,MAAMqyC,SAASxpC,KAC3BI,IAAIJ,KACHzL,MAAOyL,EACPxK,MAAOiC,EAAA8xC,YAAYvpC,MAMvB,OACEnO,EAAAU,cAACV,EAAM63B,SAAQ,KACb73B,EAAAU,cAAA,WACEV,EAAAU,cAACP,EAAAzC,QAAKiB,GAAE,iBACRqB,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,SAASC,QAAM,GAC9B3C,EAAAU,cAAC24B,EAAA37B,SACCiG,MAAOiyC,GAAehwC,EAAA8xC,YAAYE,QAClC5iC,QAASA,EACT5P,SAAUywC,KAGd71C,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,YAAYC,QAAM,GACjC3C,EAAAU,cAAC4G,EAAA5J,SACCiG,MAAOmyC,GAAa,EACpB1wC,SAAU2wC,EACVnyC,SAAU,KAGd5D,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,UAAUC,QAAM,GAC/B3C,EAAAU,cAAC4G,EAAA5J,SACCiG,MAAOqyC,GAAW,EAClBlyC,UAAU,SACVsB,SAAU6wC,EACVryC,SAAU,KAGd5D,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,WAAWC,QAAM,GAChC3C,EAAAU,cAAC4G,EAAA5J,SACCiG,MAAOuyC,GAAY,EACnBpyC,UAAU,SACVsB,SAAU+wC,EACVvyC,SAAU,KAGd5D,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,SAASC,QAAM,GAC9B3C,EAAAU,cAAC4G,EAAA5J,SACCiG,MAAOyyC,GAAU,EACjBtyC,UAAU,SACVsB,SAAUixC,EACVzyC,SAAU,KAGd5D,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,SAASC,QAAM,GAC9B3C,EAAAU,cAAC4G,EAAA5J,SACCiG,MAAO2yC,GAAU,EACjBxyC,UAAU,SACVsB,SAAUmxC,EACV3yC,SAAU,KAGd5D,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,UAAUC,QAAM,GAC/B3C,EAAAU,cAAC4G,EAAA5J,SACCiG,MAAO6yC,GAAW,EAClB1yC,UAAU,SACVsB,SAAUqxC,EACV7yC,SAAU,MAIhB5D,EAAAU,cAAA,WACEV,EAAAU,cAACP,EAAAzC,QAAKiB,GAAE,iBACRqB,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,eAAoBC,QAAM,GACzC3C,EAAAU,cAAC4G,EAAA5J,SACCkG,SAAU,EACVE,UAAU,SACVH,MAAOizC,GAAe,EACtBxxC,SAAUyxC,KAGd72C,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,iBACf1C,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,YAAYC,QAAM,GACjC3C,EAAAU,cAAC4G,EAAA5J,SACCiG,MAAO+yC,EAAmBA,EAAiB75B,KAAO,EAClDzX,SAAUvC,KAAKg1C,6BAGnB73C,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,QAAQC,QAAM,GAC7B3C,EAAAU,cAAC4G,EAAA5J,SACCkG,SAAU,EACVE,UAAU,SACVH,MAAOgzC,GAAuB,EAC9BvxC,SAAUvC,KAAKi1C,iCAIrB93C,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,cACf1C,EAAAU,cAAA,aACEV,EAAAU,cAAA,aACEV,EAAAU,cAAA,UACEV,EAAAU,cAAC8gB,EAAE,uBACHxhB,EAAAU,cAAA,UACEV,EAAAU,cAAC4G,EAAA5J,SACCkG,SAAU,EACVE,UAAU,SACVH,MAAOmzC,GAAiB,EACxB1xC,SAAU2xC,MAIhB/2C,EAAAU,cAAA,UACEV,EAAAU,cAAC8gB,EAAE,mBACHxhB,EAAAU,cAAA,UACEV,EAAAU,cAAC4G,EAAA5J,SACCkG,SAAU,EACVE,UAAU,SACVH,MAAOyzC,GAAa,EACpBhyC,SAAUiyC,MAIhBr3C,EAAAU,cAAA,UACEV,EAAAU,cAAC8gB,EAAE,eACHxhB,EAAAU,cAAA,UACEV,EAAAU,cAAC4G,EAAA5J,SACCkG,SAAU,EACVE,UAAU,SACVH,MAAO2zC,GAAU,EACjBlyC,SAAUmyC,MAIhBv3C,EAAAU,cAAA,UACEV,EAAAU,cAAC8gB,EAAE,oBACHxhB,EAAAU,cAAA,UACEV,EAAAU,cAAC4G,EAAA5J,SACCkG,SAAU,EACVE,UAAU,SACVH,MAAOqzC,GAAa,EACpB5xC,SAAU6xC,MAIhBj3C,EAAAU,cAAA,UACEV,EAAAU,cAAC8gB,EAAE,qBACHxhB,EAAAU,cAAA,UACEV,EAAAU,cAAC4G,EAAA5J,SACCkG,SAAU,EACVE,UAAU,SACVH,MAAOuzC,GAAY,EACnB9xC,SAAU+xC,MAIhBn3C,EAAAU,cAAA,UACEV,EAAAU,cAAC8gB,EAAE,gBACHxhB,EAAAU,cAAA,UACEV,EAAAU,cAAC4G,EAAA5J,SACCkG,SAAU,EACVE,UAAU,SACVH,MAAO6zC,GAAW,EAClBpyC,SAAUqyC,WAatBh1C,0BAA0BkB,GAChC,MAAMo0C,wBAAEA,GAA4Bl1C,KAAKnB,MACzCq2C,GAA0Bl7B,KAAMlZ,GAAS,GAInClB,6BAA6BkB,GACnC,MAAM+yC,iBAAEA,EAAFqB,wBAAoBA,GAA4Bl1C,KAAKnB,MAC3Dq2C,EAAwBrB,IAAsB75B,KAAM,GAAKlZ,IAR3D8B,GADCxC,EAAAyC,oDAIA,MAGDD,GADCxC,EAAAyC,uDAIA,MAEHjI,EAAAC,QAAe8J,EAAAG,QACbF,EAAA/J,QACAgK,EAAAhK,QAFa8J,CAGbmuC,kFCjPF,MAAAhwC,EAAArI,EAAA,GAUA06C,EAAA16C,EAAA,KAEAirB,EAAAjrB,EAAA,KAKA26C,EAAA36C,EAAA,KAEM4zB,GACJ0kB,YAAaoC,EAAAE,iCACbxB,iBAAkBnuB,EAAA4vB,sCAClBxB,oBAAqBpuB,EAAA6vB,yCACrBtC,UAAWmC,EAAAI,2CAA2C,aACtDrC,QAASiC,EAAAI,2CAA2C,WACpDnC,SAAU+B,EAAAI,2CAA2C,YACrDzB,YAAaqB,EAAAI,2CAA2C,eACxDjC,OAAQ6B,EAAAI,2CAA2C,UACnD/B,OAAQ2B,EAAAI,2CAA2C,UACnD7B,QAASyB,EAAAI,2CAA2C,WACpDvB,cAAemB,EAAAI,2CAA2C,iBAC1DrB,UAAWiB,EAAAI,2CAA2C,aACtDnB,SAAUe,EAAAI,2CAA2C,YACrDjB,UAAWa,EAAAI,2CAA2C,aACtDb,QAASS,EAAAI,2CAA2C,WACpDf,OAAQW,EAAAI,2CAA2C,WAG/C5oB,EAAkB9pB,EAAA+pB,yBACtBwB,GAEFzzB,EAAAC,QAAe+xB,iFCzCf,MAAA9pB,EAAArI,EAAA,GAEAsI,EAAAtI,EAAA,GAIAuI,EAAAvI,EAAA,IAEaG,EAAA66C,oCAAsC3yC,EAAAa,eACjDX,EAAA2E,sBACA9D,GACOA,EAIEd,EAAAe,YAAYD,EAAYd,EAAAukB,gBAHtB,MAOA1sB,EAAAy6C,iCAAoCz4C,KAC/C,MAAM2G,EAAW3I,EAAA66C,oCAAoC74C,GACrD,OAAK2G,EAGEA,EAAS6H,aAAamc,MAFpB,sFCtBX,MAAAxkB,EAAAtI,EAAA,GAIAa,EAAAb,EAAA,IAEaG,EAAA86C,qCAAuCp6C,EAAAoI,qCAClDX,EAAA6iB,wBAGWhrB,EAAA06C,sCAAyC14C,KACpD,MAAM2G,EAAW3I,EAAA86C,qCAAqC94C,GACtD,OAAK2G,EAGEA,EAAS6H,aAAaic,UAFpB,OAKEzsB,EAAA26C,yCAA4C34C,KACvD,MAAM2G,EAAW3I,EAAA86C,qCAAqC94C,GACtD,OAAK2G,EAGEA,EAAS6H,aAAasP,aAFpB,sFCrBX,MAAA5X,EAAArI,EAAA,GAEAoC,EAAApC,EAAA,IAEAsI,EAAAtI,EAAA,GAIAa,EAAAb,EAAA,IAEaG,EAAA+6C,uCAAyCr6C,EAAAoI,qCACpDX,EAAA0kB,yBAwBW7sB,EAAA46C,2CAA6C34C,EAAA+G,QArB1D,SACEgyC,GAEA,OAAO9yC,EAAAa,eAAe/I,EAAA+6C,uCAAwCpyC,IAC5D,IAAKA,EACH,OAAO,KAGT,MAAMiK,EAAYjK,EAASiK,UAC3B,IAAKA,EACH,OAAO,KAGT,MAAMka,EAASla,EAAUma,QAAQ3b,KAAKV,GAAKA,EAAER,OAAS8qC,GACtD,OAAKluB,EAGEA,EAAO5mB,MAAMA,MAFX,wFC7Bb,MAAA2jB,EAAAhqB,EAAA,KACAkqB,EAAAlqB,EAAA,KACA+pB,EAAA/pB,EAAA,KAEMqyB,GACJkmB,sBAAuBvuB,EAAA7J,gBACvBs4B,mBAAmBD,GACVtuB,EAAA1J,iBAAiB,YAAag4B,GAEvCG,iBAAiBD,GACRxuB,EAAA1J,iBAAiB,UAAWk4B,GAErCG,kBAAkBD,GACT1uB,EAAA1J,iBAAiB,WAAYo4B,GAEtCW,qBAAqB6B,GACZlxB,EAAA1J,iBAAiB,cAAe46B,GAEzCrC,gBAAgBqC,GACPlxB,EAAA1J,iBAAiB,SAAU46B,GAEpCnC,gBAAgBmC,GACPlxB,EAAA1J,iBAAiB,SAAU46B,GAEpCjC,iBAAiBiC,GACRlxB,EAAA1J,iBAAiB,UAAW46B,GAErC3B,uBAAuB2B,GACdlxB,EAAA1J,iBAAiB,gBAAiB46B,GAE3CzB,mBAAmByB,GACVlxB,EAAA1J,iBAAiB,YAAa46B,GAEvCvB,kBAAkBuB,GACTlxB,EAAA1J,iBAAiB,WAAY46B,GAEtCrB,mBAAmBqB,GACVlxB,EAAA1J,iBAAiB,YAAa46B,GAEvCjB,iBAAiBiB,GACRlxB,EAAA1J,iBAAiB,UAAW46B,GAErCnB,gBAAgBmB,GACPlxB,EAAA1J,iBAAiB,SAAU46B,GAGpCX,wBAAyB1wB,EAAA/J,0BAG3B7f,EAAAC,QAAeiyB,qKCjDf,MAAA0G,EAAA74B,EAAAF,EAAA,MACAG,EAAAC,QAAe24B,EAAA34B,oVCDf,MAAAsC,EAAAC,EAAA3C,EAAA,IACAkK,EAAAlK,EAAA,GAEAW,EAAAX,EAAA,GAEAmK,EAAAjK,EAAAF,EAAA,MACAoK,EAAAlK,EAAAF,EAAA,MAEAsyB,EAAApyB,EAAAF,EAAA,KACAuM,EAAArM,EAAAF,EAAA,KACAgK,EAAA9J,EAAAF,EAAA,KACA+hB,EAAA7hB,EAAAF,EAAA,KAqDAG,EAAAC,QAAe8J,EAAAG,QACbF,EAAA/J,QACAgK,EAAAhK,QAFa8J,eAlDaxH,EAAMwC,UAChCC,SACE,MAAMk2C,KAAEA,EAAFC,cAAQA,EAARC,WAAuBA,GAAeh2C,KAAKnB,MAEjD,IAAKi3C,GAAwB,IAAhBA,EAAK5tC,OAChB,OACE/K,EAAAU,cAACkvB,EAAAlyB,SAAc6C,OAAQtC,EAAAoD,OAAOmV,UAAWhW,OAAO,WAAS,6CAM7D,MAAMsgB,IAEFtgB,OAAQ,MACRkhB,SAAU,KACV4yB,UAAU,EACVC,YAAY,IAGZ/zC,OAAQ,aACR8zC,UAAU,EACVC,YAAY,EACZ7yB,SAAU,aACVE,KAAM,EAAGje,QAAO0d,aACdrhB,EAAAU,cAAC4G,EAAA5J,SACCoG,UAAU,SACVF,SAAU,EACVD,MAAOA,EACPyB,SAAUwzC,EAAcnhB,KAAK,KAAMpW,EAAQy3B,qBAK/Ct4C,OAAQ,UACR8zC,UAAU,EACVC,YAAY,EACZ7yB,SAAU,UACVE,KAAM,EAAGje,QAAO0d,aACdrhB,EAAAU,cAAC2e,EAAA3hB,SACCiG,MAAOA,EACPyB,SAAUyzC,EAAWphB,KAAK,KAAMpW,EAAQ03B,kBAMhD,OAAO/4C,EAAAU,cAACmJ,EAAAnM,SAAUojB,QAASA,EAASD,KAAM83B,sFC7D9C,MAAAhzC,EAAArI,EAAA,GAEAsI,EAAAtI,EAAA,GAIAa,EAAAb,EAAA,IAEM07C,EAAoB76C,EAAAyI,6CAGxBhB,EAAAgvC,sBAAuB,eAAgB,oBAEnCqE,EAAqB96C,EAAAyI,6CAGzBhB,EAAAgvC,sBAAuB,eAAgB,uBA+CnC1jB,GACJynB,KAtCmBhzC,EAAAa,eACnBwyC,EACAC,EACA,CAACC,EAAWC,KACV,IAAKD,IAAcC,EACjB,OAAO,KAGT,MAAMR,KAyBN,OAvBAO,EAAUp5C,QAAQ,CAACqO,EAAGM,KACpB,MAAO1O,EAAK4D,GAASwK,EACT,WAARpO,IAGJ44C,EAAK54C,IACHohB,GAAIphB,EACJq5C,QAASz1C,EACTo1C,aAActqC,EACd0qC,WAAY,EACZL,iBAAkB,MAItBK,EAAWr5C,QAAQ,CAACqO,EAAGM,KACrB,MAAO1O,EAAK4D,GAASwK,EACT,WAARpO,IAGJ44C,EAAK54C,GAAKo5C,WAAax1C,EACvBg1C,EAAK54C,GAAK+4C,gBAAkBrqC,KAGvBlP,OAAO0Q,KAAK0oC,GAAMpqC,IAAIJ,GAAKwqC,EAAKxqC,OAQrCshB,EAAkB9pB,EAAA+pB,yBACtBwB,GAEFzzB,EAAAC,QAAe+xB,iFCtEf,MAAA7pB,EAAAtI,EAAA,GAEA8pB,EAAA9pB,EAAA,IAEMqyB,GACJipB,cAAA,CAAcv/B,EAAe8/B,IACpB/xB,EAAAvf,8BACLjC,EAAAgvC,sBACC,eAAgB,wBAAyBv7B,IAAS,KACnD8/B,GAIJN,WAAA,CAAWx/B,EAAe+/B,IACjBhyB,EAAAvf,8BACLjC,EAAAgvC,sBACC,eAAgB,qBAAsBv7B,IAAS,KAChD+/B,IAKN37C,EAAAC,QAAeiyB,qKCtBf,MAAA2G,EAAA94B,EAAAF,EAAA,MACAG,EAAAC,QAAe44B,EAAA54B,oVCDf,MAAAsC,EAAAC,EAAA3C,EAAA,IACAkK,EAAAlK,EAAA,GAEAW,EAAAX,EAAA,GAEAmK,EAAAjK,EAAAF,EAAA,MACAoK,EAAAlK,EAAAF,EAAA,MAEAsyB,EAAApyB,EAAAF,EAAA,KACAuM,EAAArM,EAAAF,EAAA,KACAgK,EAAA9J,EAAAF,EAAA,KAqDAG,EAAAC,QAAe8J,EAAAG,QACbF,EAAA/J,QACAgK,EAAAhK,QAFa8J,eAlDexH,EAAMwC,UAClCC,SACE,MAAM42C,OAAEA,EAAFC,cAAUA,EAAVC,mBAAyBA,GAAuB12C,KAAKnB,MAE3D,IAAK23C,GAA4B,IAAlBA,EAAOtuC,OACpB,OACE/K,EAAAU,cAACkvB,EAAAlyB,SAAc6C,OAAQtC,EAAAoD,OAAOmV,UAAWhW,OAAO,WAAS,+CAM7D,MAAMqgB,EAAOw4B,EAAO9qC,IAAI,CAACJ,EAAGM,IAAMlP,OAAAuU,UAC7B3F,GACHkL,MAAO5K,KAGHqS,IAEFtgB,OAAQ,QACRkhB,SAAU,gBAGVlhB,OAAQ,QACRkhB,SAAU,QACVE,KAAM,EAAGje,QAAO0d,aACdrhB,EAAAU,cAAC4G,EAAA5J,SACCoG,UAAU,QACVF,SAAU,EACVD,MAAOA,EACPyB,SAAUk0C,EAAc7hB,KAAK,KAAMpW,EAAQhI,WAK/C7Y,OAAQ,aACRkhB,SAAU,aACVE,KAAM,EAAGje,QAAO0d,aACdrhB,EAAAU,cAAC4G,EAAA5J,SACCoG,UAAU,SACVH,MAAOA,EACPyB,SAAUm0C,EAAmB9hB,KAAK,KAAMpW,EAAQhI,WAMxD,OAAOrZ,EAAAU,cAACmJ,EAAAnM,SAAUojB,QAASA,EAASD,KAAMA,sFC5D9C,MAAAlb,EAAArI,EAAA,GAEAsI,EAAAtI,EAAA,GAMM4zB,GACJmoB,OAHF/7C,EAAA,IAGUsJ,6CAGNhB,EAAA4zC,2BAA4B,eAAgB,oBAG1C/pB,EAAkB9pB,EAAA+pB,yBACtBwB,GAEFzzB,EAAAC,QAAe+xB,iFClBf,MAAA7pB,EAAAtI,EAAA,GAEA8pB,EAAA9pB,EAAA,IAEMqyB,GACJ2pB,cAAA,CAAcjgC,EAAeq/B,IACpBtxB,EAAAvf,8BACLjC,EAAA4zC,2BACC,eAAgB,oBAAqBngC,IAAS,SAC/Cq/B,GAGJa,mBAAA,CAAmBlgC,EAAe8/B,IACzB/xB,EAAAvf,8BACLjC,EAAA4zC,2BACC,eAAgB,oBAAqBngC,IAAS,cAC/C8/B,IAKN17C,EAAAC,QAAeiyB,qKCrBf,MAAA4G,EAAA/4B,EAAAF,EAAA,MACAG,EAAAC,QAAe64B,EAAA74B,oVCDf,MAAAsC,EAAAC,EAAA3C,EAAA,IACAkK,EAAAlK,EAAA,GAEAsI,EAAAtI,EAAA,GAEAW,EAAAX,EAAA,GAEAmK,EAAAjK,EAAAF,EAAA,MACAoK,EAAAlK,EAAAF,EAAA,MAEAqjB,EAAAnjB,EAAAF,EAAA,MACAsyB,EAAApyB,EAAAF,EAAA,KACA+hB,EAAA7hB,EAAAF,EAAA,KAwCAG,EAAAC,QAAe8J,EAAAG,QACbF,EAAA/J,QACAgK,EAAAhK,QAFa8J,eArCexH,EAAMwC,UAClCC,SACE,MAAMg3C,OAAEA,EAAFC,WAAUA,GAAe72C,KAAKnB,MAEpC,GAAc,MAAV+3C,GAAoC,IAAlBA,EAAO1uC,OAC3B,OACE/K,EAAAU,cAACkvB,EAAAlyB,SAAc6C,OAAQtC,EAAAoD,OAAOmV,UAAWhW,OAAO,WAAS,+CAM7D,MAAMm5C,EAAO/zC,EAAAg0C,aAAa1pC,OAAO/B,GAAW,SAANA,GAAcI,IAAIsrC,GACtD75C,EAAAU,cAACigB,EAAAjjB,QAAMsjB,IAAGjhB,IAAK85C,GACb75C,EAAAU,cAACigB,EAAAjjB,QAAM8jB,GAAE,KACPxhB,EAAAU,cAAC2e,EAAA3hB,SACCiG,MAAO81C,EAAOK,KAAK3rC,GAAKA,IAAM0rC,GAC9Bz0C,SAAUs0C,EAAWjiB,KAAK,KAAMoiB,MAGpC75C,EAAAU,cAACigB,EAAAjjB,QAAM8jB,GAAE,KAAEq4B,KAIf,OACE75C,EAAAU,cAACigB,EAAAjjB,QAAK,KACJsC,EAAAU,cAACigB,EAAAjjB,QAAMqjB,MAAK,KACV/gB,EAAAU,cAACigB,EAAAjjB,QAAMsjB,GAAE,KACPhhB,EAAAU,cAACigB,EAAAjjB,QAAMwjB,GAAE,MACTlhB,EAAAU,cAACigB,EAAAjjB,QAAMwjB,GAAE,gBAGblhB,EAAAU,cAACigB,EAAAjjB,QAAM0jB,MAAK,KAAEu4B,sFC/CtB,MAAAh0C,EAAArI,EAAA,GAMM4zB,GACJuoB,OAHFn8C,EAAA,KAGUy8C,6BAGJtqB,EAAkB9pB,EAAA+pB,yBACtBwB,GAEFzzB,EAAAC,QAAe+xB,iFCbf,MAAA7pB,EAAAtI,EAAA,GAEAa,EAAAb,EAAA,IACAqI,EAAArI,EAAA,GAEaG,EAAAu1C,sCAAwC70C,EAAAoI,qCACnDX,EAAA6kB,kBAGWhtB,EAAAs8C,4BAA8Bp0C,EAAAa,eACzC/I,EAAAu1C,sCACA5sC,GACkB,MAAZA,EACK,KAGFA,EAAS6H,aAAayc,yFChBjC,MAEMiF,GACJ+pB,WAHFp8C,EAAA,KAGc2gB,UAGdxgB,EAAAC,QAAeiyB,qKCNf,MAAA6G,EAAAh5B,EAAAF,EAAA,MACAG,EAAAC,QAAe84B,EAAA94B,oVCDf,MAAAsC,EAAAC,EAAA3C,EAAA,IACAkK,EAAAlK,EAAA,GAEAW,EAAAX,EAAA,GAEAmK,EAAAjK,EAAAF,EAAA,MAEA6C,EAAA3C,EAAAF,EAAA,KACAk3B,EAAAh3B,EAAAF,EAAA,KACAiY,EAAA/X,EAAAF,EAAA,KACA6T,EAAA3T,EAAAF,EAAA,KAGM08C,EAAsC,EAAG/wB,oBACvB,MAAlBA,EACKjpB,EAAAU,cAACP,EAAAzC,SAAK6C,OAAQtC,EAAAoD,OAAOC,SAAO,2BAGnCtB,EAAAU,cAACV,EAAM63B,SAAQ,KACb73B,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,KACf1C,EAAAU,cAAC6U,EAAA7X,SACCoG,UAAU,SACVgE,SAAUmhB,EAAgB,WAAY,QAG1CjpB,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,KACf1C,EAAAU,cAAC6U,EAAA7X,SACCoG,UAAU,SACVgE,SAAUmhB,EAAgB,WAAY,QAG1CjpB,EAAAU,cAACyQ,EAAAzT,SAAkB4B,SAAS,YAC1BU,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,KACf1C,EAAAU,cAAC6U,EAAA7X,SACCoG,UAAU,SACVgE,SAAUmhB,EAAgB,WAAY,UAOlD+wB,EAAkBv7C,YAAc,oBAChChB,EAAAC,QAAe8J,EAAAG,QAAQF,EAAA/J,QAAR8J,CAAyBwyC,sKC3CxC,MAAAr0C,EAAArI,EAAA,GAMM4zB,GACJjI,eAHFzrB,EAAAF,EAAA,KAGkBI,SAGZ+xB,EAAkB9pB,EAAA+pB,yBACtBwB,GAEFzzB,EAAAC,QAAe+xB,qKCbf,MAAA8E,EAAA/2B,EAAAF,EAAA,MACAG,EAAAC,QAAe62B,EAAA72B,oVCDf,MAAAsC,EAAAC,EAAA3C,EAAA,IACAkK,EAAAlK,EAAA,GAEAsI,EAAAtI,EAAA,GAEAW,EAAAX,EAAA,GAEAmK,EAAAjK,EAAAF,EAAA,MACAoK,EAAAlK,EAAAF,EAAA,MAEAk0B,EAAAh0B,EAAAF,EAAA,KACAgW,EAAA9V,EAAAF,EAAA,MAEA28C,EAAAz8C,EAAAF,EAAA,MACA+7B,EAAA77B,EAAAF,EAAA,MACAsyB,EAAApyB,EAAAF,EAAA,KACAk3B,EAAAh3B,EAAAF,EAAA,KACAgK,EAAA9J,EAAAF,EAAA,KA6HAG,EAAAC,QAAe8J,EAAAG,QACbF,EAAA/J,QACAgK,EAAAhK,QAFa8J,eAxHYxH,EAAMwC,UAC/BC,SACE,MAAMy3C,WACJA,EADIC,oBAEJA,EAFIC,aAGJA,EAHIC,sBAIJA,EAJIC,eAKJA,EALIC,wBAMJA,EANIC,gBAOJA,EAPIC,yBAQJA,EARIC,oBASJA,EATIC,6BAUJA,EAVIC,qBAWJA,EAXIC,8BAYJA,GACEh4C,KAAKnB,MAET,GAAkB,MAAdw4C,EACF,OACEl6C,EAAAU,cAACkvB,EAAAlyB,SAAc8C,OAAO,sBAAsBD,OAAQtC,EAAAoD,OAAOmV,WAAS,uCAMxE,MAAMxB,EAAUpP,EAAAk1C,gBAAgBvsC,IAAIJ,KAClCzL,MAAOyL,EACPxK,MAAOwK,KAGT,OACEnO,EAAAU,cAAC8wB,EAAA9zB,SAAgB8C,OAAQR,EAAAU,cAAC4S,EAAA5V,QAAgB,gBACxCsC,EAAAU,cAAC8zB,EAAA92B,SAAUiF,QAAM,EAACD,MAAM,iBACtB1C,EAAAU,cAAC24B,EAAA37B,SACCsX,QAASA,EACTrR,MAAOu2C,EACP90C,SAAU+0C,KAGdn6C,EAAAU,cAACu5C,EAAAv8C,QAAQ,6JAGMsC,EAAAU,cAAA,WAGJ,iIACXV,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,iBACf1C,EAAAU,cAACu5C,EAAAv8C,QAAQ,wGAITsC,EAAAU,cAAC4G,EAAA5J,SACCkG,SAAU,EACVC,SAAU,EACVC,UAAU,SACVH,MAAOy2C,GAAgB,EACvBh1C,SAAUi1C,KAGdr6C,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,yBACf1C,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,mBACf1C,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,cACf1C,EAAAU,cAACu5C,EAAAv8C,QAAQ,uGAITsC,EAAAU,cAAC4G,EAAA5J,SACCkG,SAAU,EACVC,SAAU,EACVC,UAAU,SACVH,MAAO22C,GAAkB,EACzBl1C,SAAUm1C,KAGdv6C,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,kBACf1C,EAAAU,cAACu5C,EAAAv8C,QAAQ,iFAITsC,EAAAU,cAAC4G,EAAA5J,SACCkG,SAAU,EACVC,SAAU,EACVC,UAAU,SACVH,MAAO62C,GAAmB,EAC1Bp1C,SAAUq1C,OAKlBz6C,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,iBACf1C,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,cACf1C,EAAAU,cAACu5C,EAAAv8C,QAAQ,0EAGTsC,EAAAU,cAAC4G,EAAA5J,SACCkG,SAAU,EACVC,SAAU,EACVC,UAAU,SACVH,MAAO+2C,GAAuB,EAC9Bt1C,SAAUu1C,KAGd36C,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,eACf1C,EAAAU,cAACu5C,EAAAv8C,QAAQ,qFAITsC,EAAAU,cAAC4G,EAAA5J,SACCkG,SAAU,EACVC,SAAU,EACVC,UAAU,SACVH,MAAOi3C,GAAwB,EAC/Bx1C,SAAUy1C,yFCtIxB,MAAAl1C,EAAArI,EAAA,GAEAsI,EAAAtI,EAAA,GAIAa,EAAAb,EAAA,IAKMy9C,EAAyB58C,EAAAoI,qCAC7BX,EAAAo1C,gBAGI9pB,GACJgpB,WAAYv0C,EAAAa,eAAeu0C,EAAwB30C,IACjD,IAAKA,EACH,OAAO,KAGT,MAAMjC,EACHiC,EAAS6H,aAAagtC,eACrB70C,EAAS6H,aAAagtC,cAAcC,QACtC,KACF,OAAK/2C,GAIEyB,EAAAu1C,WAAWh3C,EAAK0Y,OAHd,OAKXu9B,aAAcj8C,EAAA2H,gDAGZF,EAAAo1C,gBAAiB,eAAgB,gBAAiB,aACpDV,eAAgBn8C,EAAA2H,gDAGdF,EAAAo1C,gBAAiB,eAAgB,gBAAiB,mBACpDR,gBAAiBr8C,EAAA2H,gDAGfF,EAAAo1C,gBAAiB,eAAgB,gBAAiB,oBACpDN,oBAAqBv8C,EAAA2H,gDAGnBF,EAAAo1C,gBAAiB,eAAgB,gBAAiB,wBACpDJ,qBAAsBz8C,EAAA2H,gDAGpBF,EAAAo1C,gBAAiB,eAAgB,gBAAiB,0BAGhDvrB,EAAkB9pB,EAAA+pB,yBACtBwB,GAEFzzB,EAAAC,QAAe+xB,iFCxDf,MAAA7pB,EAAAtI,EAAA,GAEA8pB,EAAA9pB,EAAA,IAEMqyB,GACJltB,oBAAoB0B,GAClB,MAAM0Y,EAAOjX,EAAAu1C,WAAWh3C,GACxB,GAAK0Y,EAGL,OAAOuK,EAAAvf,8BACLjC,EAAAo1C,gBACC,eAAgB,gBAAiB,UAClCn+B,IAGJw9B,sBAAsBe,GACbh0B,EAAAvf,8BACLjC,EAAAo1C,gBACC,eAAgB,gBAAiB,YAClCI,GAGJb,wBAAwB52C,GACfyjB,EAAAvf,8BACLjC,EAAAo1C,gBACC,eAAgB,gBAAiB,kBAClCr3C,GAGJ82C,yBAAyB92C,GAChByjB,EAAAvf,8BACLjC,EAAAo1C,gBACC,eAAgB,gBAAiB,mBAClCr3C,GAGJg3C,6BAA6Bh3C,GACpByjB,EAAAvf,8BACLjC,EAAAo1C,gBACC,eAAgB,gBAAiB,uBAClCr3C,GAGJk3C,8BAA8Bl3C,GACrByjB,EAAAvf,8BACLjC,EAAAo1C,gBACC,eAAgB,gBAAiB,wBAClCr3C,IAKNlG,EAAAC,QAAeiyB,8UCrDf,MAAA3vB,EAAAC,EAAA3C,EAAA,IAEA6C,EAAA3C,EAAAF,EAAA,KACAW,EAAAX,EAAA,GAEM+9C,EAAsB,EAAG56C,cAC7BT,EAAAU,cAACP,EAAAzC,QAAKoB,KAAIyB,OAAQtC,EAAAoD,OAAOE,KAAMqB,SAAQ,GACpCnC,GAGL46C,EAAS58C,YAAc,WACvBhB,EAAAC,QAAe29C,qKCXf,MAAAvnB,EAAAt2B,EAAAF,EAAA,MACAG,EAAAC,QAAeo2B,EAAAp2B,irBCDf,MAAAsC,EAAAC,EAAA3C,EAAA,IACAkK,EAAAlK,EAAA,GAEA2F,EAAA3F,EAAA,IAEA6C,EAAA3C,EAAAF,EAAA,KAEAg+C,EAAA99C,EAAAF,EAAA,MAEAi+C,EAAA/9C,EAAAF,EAAA,MAEAmK,EAAAjK,EAAAF,EAAA,MACAoK,EAAAlK,EAAAF,EAAA,MAEM4jB,EAAK/gB,EAAAzC,QAAKkB,cAAc,MACxB4iB,EAAKrhB,EAAAzC,QAAKkB,cAAc,YAG9B48C,UAAkCx7C,EAAMwC,UACtCC,YAAYf,GACV4B,MAAM5B,GAGRe,SACE,MAAM0M,OAAEA,GAAWtM,KAAKnB,MAElB+5C,EAAgBtsC,EAAOZ,IAAImtC,GAAS74C,KAAK84C,gBAAgBD,IAE/D,OACE17C,EAAAU,cAAC46C,EAAA59C,QAA4B,KAC3BsC,EAAAU,cAAA,aACEV,EAAAU,cAAA,aACEV,EAAAU,cAAA,UACEV,EAAAU,cAACwgB,EAAE,aACHlhB,EAAAU,cAACwgB,EAAE,gBAGPlhB,EAAAU,cAAA,aAAQ+6C,KAMRh5C,gBAAgBi5C,GACtB,MAAM1gC,MAAEA,EAAFjb,IAASA,EAAT4D,MAAcA,GAAU+3C,EAC9B,OACE17C,EAAAU,cAAA,MAAIX,IAAKA,GACPC,EAAAU,cAAC8gB,EAAE,KAAExG,GACLhb,EAAAU,cAAC8gB,EAAE,KACDxhB,EAAAU,cAAC66C,EAAA79C,SACCk+C,QAAS77C,EACT4D,MAAOA,EACPW,SAAUzB,KAAKg5C,mBAQjBp5C,eAAe1C,EAAa4D,GAClC,MAAMtE,aAAEA,EAAFy8C,SAAgBA,GAAaj5C,KAAKnB,MACxCo6C,MAAaz8C,EAAcU,GAAM4D,IAFnC8B,GADCxC,EAAAyC,yCAIA,MAEHjI,EAAAC,QAAe8J,EAAAG,QACbF,EAAA/J,QACAgK,EAAAhK,QAFa8J,CAGbg0C,sKCpEF,MAAAv9C,EAAAT,EAAAF,EAAA,IAEMy+C,EAA+B99C,EAAAP,QAAO40B,MAC5CypB,EAA6Bt9C,YAAc,+BAC3ChB,EAAAC,QAAeq+C,2lBCJf,MAAA/7C,EAAAC,EAAA3C,EAAA,IAEA2F,EAAA3F,EAAA,UAOA0+C,UAAyCh8C,EAAMwC,UAC7CC,SACE,MAAMkB,MAAEA,GAAUd,KAAKnB,MACvB,OACE1B,EAAAU,cAAA,SACEyD,KAAK,OACLG,SAAUzB,KAAK6d,UACf/c,MAAOs4C,KAAKC,UAAUv4C,KAMpBlB,UAAUmC,GAChB,MAAMg3C,QAAEA,EAAFt3C,SAAWA,GAAazB,KAAKnB,MAC7BiC,EAAQiB,EAAEC,OAAOlB,MACvB,IAEEW,EAASs3C,EADWK,KAAKE,MAAMx4C,IAE/B,MAAAgQ,MANJlO,GADCxC,EAAAyC,oCAQA,MApBHjI,EAAAC,QAAAs+C,qKCTA,MAAAr2C,EAAArI,EAAA,GAIA6M,EAAA3M,EAAAF,EAAA,KACAo3B,EAAAl3B,EAAAF,EAAA,KASM6R,EAASxJ,EAAAa,eACbkuB,EAAAh3B,QACCi3B,GACMA,EAIDynB,EAAYznB,MAKTp1B,OAAO0Q,KAAK0kB,GAChBzkB,OAAOnQ,GAAOq8C,EAAYznB,EAAc50B,KACxCwO,IAAIxO,IAOH,OAJEib,MAAOjb,EACPA,MACA4D,MAJYgxB,EAAc50B,UAW9Bs8C,GACJh9C,aAAA8K,EAAAzM,QACAyR,UAGIsgB,EAAkB9pB,EAAA+pB,yBACtB2sB,GAEF5+C,EAAAC,QAAe+xB,EAEf,MAAM6sB,GAAkB,SAAU,SAAU,WAC5C,SAAAF,EAAqBz3B,GACnB,MAAM43B,SAAiB53B,EACvB,OAA4C,IAArC23B,EAAezsC,QAAQ0sC,mFCrDhC,MAEM5sB,GACJmsB,SAHFx+C,EAAA,IAGYkT,eAGZ/S,EAAAC,QAAeiyB,qKCNf,MAAAoE,EAAAv2B,EAAAF,EAAA,MACAG,EAAAC,QAAeq2B,EAAAr2B,oVCDf,MAAAsC,EAAAC,EAAA3C,EAAA,IACAkK,EAAAlK,EAAA,GAEAW,EAAAX,EAAA,GAEA6C,EAAA3C,EAAAF,EAAA,KACAk/C,EAAAh/C,EAAAF,EAAA,MAEAmK,EAAAjK,EAAAF,EAAA,MAEAm/C,EAAAj/C,EAAAF,EAAA,MAEAo/C,EAAAl/C,EAAAF,EAAA,MACAq/C,EAAAn/C,EAAAF,EAAA,MAwCAG,EAAAC,QAAe8J,EAAAG,QAAQF,EAAA/J,QAAR8J,eArCcxH,EAAMwC,UACjCC,SACE,MAAMrD,QAAEA,GAAYyD,KAAKnB,MACzB,OACE1B,EAAAU,cAAC+7C,EAAA/+C,QAAuB,KACrB0B,EACCyD,KAAK+5C,iBAEL58C,EAAAU,cAACP,EAAAzC,SAAK6C,OAAQtC,EAAAoD,OAAOE,MAAI,mBAMzBkB,iBACN,MAAMrD,EAAUyD,KAAKnB,MAAMtC,QACrBy9C,EAAiBz9C,EAAQ0N,YAAYgwC,OACzC,CAACC,EAAOh0B,IAAQg0B,EAAQh0B,EAAIjc,YAAY/B,OACxC,GAEF,OACE/K,EAAAU,cAACV,EAAM63B,SAAQ,KACb73B,EAAAU,cAACg8C,EAAAh/C,SAAc6C,OAAQtC,EAAAoD,OAAOG,SAC3BpC,EAAQoB,OAAOgM,SAASC,UAE3BzM,EAAAU,cAAC87C,EAAA9+C,SAASiG,MAAOvE,EAAQoB,OAAOgM,SAASwwC,gBAAc,UAGvDh9C,EAAAU,cAAC87C,EAAA9+C,SAASiG,MAAOvE,EAAQoB,OAAOgM,SAASywC,oBAAkB,cAG3Dj9C,EAAAU,cAAC87C,EAAA9+C,SAASiG,MAAOk5C,GAAc,gBAC/B78C,EAAAU,cAACi8C,EAAAj/C,QAAc,sVChDvB,MAAAsC,EAAAC,EAAA3C,EAAA,IAEA6C,EAAA3C,EAAAF,EAAA,KACAW,EAAAX,EAAA,GAYAG,EAAAC,QAL2C,GAAGiG,QAAOlD,cACnDT,EAAAU,cAAA,WACEV,EAAAU,cAACP,EAAAzC,SAAK6C,OAAQtC,EAAAoD,OAAOuW,WAAYjU,OAAc3D,EAAAU,cAACP,EAAAzC,QAAI,KAAE+C,wKCZ1D,MAAAkF,EAAArI,EAAA,GAMM4zB,GACJ9xB,QAHF5B,EAAAF,EAAA,KAGEI,SAGI+xB,EAAkB9pB,EAAA+pB,yBACtBwB,GAEFzzB,EAAAC,QAAe+xB,qKCbf,MAAAxxB,EAAAT,EAAAF,EAAA,IAEM4/C,EAA0Bj/C,EAAAP,QAAO40B;;;EAIvC4qB,EAAwBz+C,YAAc,0BACtChB,EAAAC,QAAew/C,qKCPf,MAAA/8C,EAAA3C,EAAAF,EAAA,KAEM6/C,EAAgBh9C,EAAAzC,QAAKkB,cAAc,MAAMyB;;EAG/C88C,EAAc1+C,YAAc,gBAC5BhB,EAAAC,QAAey/C,qKCNf,MAAAR,EAAAn/C,EAAAF,EAAA,MACAG,EAAAC,QAAei/C,EAAAj/C,oVCDf,MAAAsC,EAAAC,EAAA3C,EAAA,IACAkK,EAAAlK,EAAA,GAEAW,EAAAX,EAAA,GAEAmK,EAAAjK,EAAAF,EAAA,MAEA0K,EAAAxK,EAAAF,EAAA,KAEA8/C,EAAA5/C,EAAAF,EAAA,MACA+/C,EAAA7/C,EAAAF,EAAA,MACAggD,EAAA9/C,EAAAF,EAAA,MAwBAG,EAAAC,QAAe8J,EAAAG,QAAQF,EAAA/J,QAAR8J,eArBcxH,EAAMwC,UACjCC,SACE,MAAM86C,kBAAEA,EAAFC,iBAAqBA,GAAqB36C,KAAKnB,MACrD,IAAK67C,IAAsBC,EACzB,MAAO,iBAGT,MAAMC,EAAqBD,EAAiBjvC,IAAIJ,GAC9CnO,EAAAU,cAAC08C,EAAA1/C,SAAkBqC,IAAKoO,EAAGuvC,gBAAiBvvC,KAG9C,OACEnO,EAAAU,cAAC28C,EAAA3/C,QAAuB,KACtBsC,EAAAU,cAACsH,EAAAtK,SAAkB6C,OAAQtC,EAAAoD,OAAOG,QAASsG,KAAMy1C,GAAiB,cAGlEv9C,EAAAU,cAAC48C,EAAA5/C,QAAqB,KAAE+/C,0KC9BhC,MAAA93C,EAAArI,EAAA,GAEAoC,EAAApC,EAAA,IAIA8M,EAAA5M,EAAAF,EAAA,KAwBM4zB,GACJqsB,kBAvBwB53C,EAAAa,eAAe4D,EAAA1M,QAAS0B,IAChD,IAAKA,EACH,OAAO,KAET,MAAMia,EAAQja,EAAQ0N,YAAY6d,UAAUxc,GAAgB,WAAXA,EAAER,MACnD,OAAe,IAAX0L,EACK,MAED,iBAAkBA,OAgB1BmkC,iBAbuB73C,EAAAa,eAAe4D,EAAA1M,QAAS0B,IAC/C,IAAKA,EACH,SAEF,MAAMu+C,EAAYv+C,EAAQ0N,YAAY+B,KAAKV,GAAgB,WAAXA,EAAER,MAClD,OAAKgwC,EAGEj+C,EAAAk+C,MAAMD,EAAU7wC,YAAY/B,cAQ/B0kB,EAAkB9pB,EAAA+pB,yBACtBwB,GAEFzzB,EAAAC,QAAe+xB,qKCtCf,MAAA2tB,EAAA5/C,EAAAF,EAAA,MACAG,EAAAC,QAAe0/C,EAAA1/C,oVCDf,MAAAsC,EAAAC,EAAA3C,EAAA,IACAkK,EAAAlK,EAAA,GAEAW,EAAAX,EAAA,GAIAmK,EAAAjK,EAAAF,EAAA,MAEA6C,EAAA3C,EAAAF,EAAA,KACA0K,EAAAxK,EAAAF,EAAA,KACA+kB,EAAA7kB,EAAAF,EAAA,MA6BAG,EAAAC,QAAe8J,EAAAG,QAAQF,EAAA/J,QAAR8J,eA1BiBxH,EAAMwC,UACpCC,SACE,MAAMqF,KAAEA,EAAF6F,KAAQA,EAARiQ,OAAcA,EAAdigC,aAAsBA,GAAiBh7C,KAAKnB,MAClD,OACE1B,EAAAU,cAAC2hB,EAAA3kB,QAAQ,KACPsC,EAAAU,cAAC2hB,EAAA3kB,QAAS0C,OAAM,KACb0H,EACC9H,EAAAU,cAACsH,EAAAtK,SAAkB6C,OAAQtC,EAAAoD,OAAOG,QAASsG,KAAMA,GAC9C6F,GAGH,kBAGJ3N,EAAAU,cAAC2hB,EAAA3kB,QAASogD,OAAM,KACd99C,EAAAU,cAAA,WACEV,EAAAU,cAACP,EAAAzC,SAAK6C,OAAQtC,EAAAoD,OAAOuW,WAAYgG,IAEnC5d,EAAAU,cAAA,WACEV,EAAAU,cAACP,EAAAzC,SAAK6C,OAAQtC,EAAAoD,OAAOuW,WAAYimC,EAA+B,wLCjC5E,MAAA9oB,EAAAv3B,EAAAF,EAAA,MACAsI,EAAAtI,EAAA,GAIA8M,EAAA5M,EAAAF,EAAA,KAIMogD,EAAkB,CAAClvC,EAAa9M,IACpCA,EAAMg8C,gBAEFK,EAAmBL,EAEnBh3C,EAAaquB,EAAAr3B,QACjB0M,EAAA1M,QACAggD,EACA,CAACt+C,EAASs+C,KACR,IAAKt+C,EACH,OAAO,KAET,MAAM4+C,EAAa5+C,EAAQ0N,YAAY+B,KAAKV,GAAgB,WAAXA,EAAER,MACnD,OAAKqwC,GAIEA,EAAWlxC,YAAY4wC,IAHrB,MATM3oB,CAcjBgpB,GAEIE,EAAoBlpB,EAAAr3B,QAAqBgJ,EAAYA,IACzD,IAAKA,EACH,OAAO,KAET,MAAMw3C,EAAgBt4C,EAAAe,YAAYD,EAAYd,EAAAwiB,wBAC9C,OAAK81B,GAAkBA,EAAcjwC,aAG9BiwC,EAAcjwC,aAFZ,MANe8mB,CASvBgpB,GAEGj2C,EAAO,CAACrI,EAAiBiC,KAC7B,MAAMy8C,EAAW/zC,EAAA1M,QAAQ+B,GACzB,IAAK0+C,EACH,OAAO,KAET,MAAMC,EAAaD,EAASrxC,YAAY6d,UAAUxc,GAAgB,WAAXA,EAAER,MACzD,OAAoB,IAAhBywC,EACK,MAGD,iBAAkBA,IAAc,iBAD1BV,EAAgBj+C,EAAOiC,OAIjCiM,EAAO,CAAClO,EAAiBiC,KAC7B,MAAMy4B,EAAQ8jB,EAAkBx+C,EAAOiC,GACvC,OAAQy4B,GAASA,EAAMxsB,MAAS,MAG5BiQ,EAAS,CAACne,EAAiBiC,KAC/B,MAAMy4B,EAAQ8jB,EAAkBx+C,EAAOiC,GACvC,OAAQy4B,GAASA,EAAM9P,iBAAoB,MAGvCwzB,EAAe,CAACp+C,EAAiBiC,KACrC,MAAMy4B,EAAQ8jB,EAAkBx+C,EAAOiC,GACvC,OAAQy4B,IAAUA,EAAMkkB,YAAc,KAAKjwC,QAAQ,IAAO,MAY5D3Q,EAAAC,QATA,SAAyB+B,EAAiBiC,GACxC,OACEoG,KAAMA,EAAKrI,EAAOiC,GAClBiM,KAAMA,EAAKlO,EAAOiC,GAClBkc,OAAQA,EAAOne,EAAOiC,GACtBm8C,aAAcA,EAAap+C,EAAOiC,wKC1EtC,MAAAzD,EAAAT,EAAAF,EAAA,IAEAa,EAAAb,EAAA,IAEAY,EAAAZ,EAAA,GAEAghD,EAAA9gD,EAAAF,EAAA,MACAihD,EAAA/gD,EAAAF,EAAA,MAEMkhD,EAAWvgD,EAAAP,QAAO40B;mBACL5wB,GAASxD,EAAAgK,SAASxG,GAAO4W,MAAK;sBAC3B5W,GAASxD,EAAAgK,SAASxG,GAAOyG,OAAOC,GAAGC;;;;;;;EAQzDm2C,EAAS//C,YAAc,WAEvBhB,EAAAC,QAAeS,EAAAO,YAAY8/C,GACzBp+C,OAAAk+C,EAAA5gD,QACAogD,OAAAS,EAAA7gD,6KCvBF,MAAAO,EAAAT,EAAAF,EAAA,IAKMmhD,EAAiBxgD,EAAAP,QAAkC;IAHzDJ,EAAA,GAIIe;;;;;;EAOJogD,EAAehgD,YAAc,iBAC7BhB,EAAAC,QAAe+gD,qKCdf,MAAAxgD,EAAAT,EAAAF,EAAA,IAKMohD,EAAiBzgD,EAAAP,QAAmC;IAH1DJ,EAAA,GAIIe;;;;;;;;EASJqgD,EAAejgD,YAAc,iBAC7BhB,EAAAC,QAAeghD,8UChBf,MAAA1+C,EAAAC,EAAA3C,EAAA,IAEAW,EAAAX,EAAA,GAEA4C,EAAA1C,EAAAF,EAAA,KAEMqhD,EAAqC,EAAGl+C,cAC5CT,EAAAU,cAACR,EAAAxC,SACCiD,MAAM,OACNS,GAAE,EACFF,EAAC,EACDL,OAAM,EACNE,YAAa9C,EAAA+C,MAAM4yB,kBAElBnzB,GAILk+C,EAAwBlgD,YAAc,0BACtChB,EAAAC,QAAeihD,qKCnBf,MAAA1gD,EAAAT,EAAAF,EAAA,IAEMshD,EAAwB3gD,EAAAP,QAAO40B;;;;;;EAOrCssB,EAAsBngD,YAAc,wBACpChB,EAAAC,QAAekhD,qKCVf,MAAA5qB,EAAAx2B,EAAAF,EAAA,MACAG,EAAAC,QAAes2B,EAAAt2B,oVCDf,MAAAsC,EAAAC,EAAA3C,EAAA,IACAkK,EAAAlK,EAAA,GAEAW,EAAAX,EAAA,GAGAmK,EAAAjK,EAAAF,EAAA,MAEA6C,EAAA3C,EAAAF,EAAA,KACMkkB,EAAKrhB,EAAAzC,QAAKkB,cAAc,MAE9BigD,EAAArhD,EAAAF,EAAA,MAEAwhD,EAAAthD,EAAAF,EAAA,MA2CAG,EAAAC,QAAe8J,EAAAG,QAAQF,EAAA/J,QAAR8J,eAxCoBxH,EAAMwC,UACvCC,SACE,MAAMkN,aAAEA,EAAFf,SAAgBA,EAAhBS,SAA0BA,EAA1BhQ,aAAoCA,GAAiBwD,KAAKnB,MAEhE,IAAIsiB,EACJ,GAAIpV,EAAU,CACZ,MAAMmwC,MACAnwC,EAASO,cACTP,EAASQ,gBACbb,IAAIJ,IACJ,MAAM6wC,EAAcF,EAAAphD,QAA0ByQ,EAAEhK,MAAM,GACtD,OACEnE,EAAAU,cAAA,MAAIX,IAAKoO,EAAER,MACT3N,EAAAU,cAAC8gB,EAAE,KAAErT,EAAER,MACP3N,EAAAU,cAAA,UACEV,EAAAU,cAACs+C,GAAYl3C,SAAUzI,EAAc8O,EAAER,YAM/CqW,EACEhkB,EAAAU,cAAA,aACEV,EAAAU,cAAA,aAAQq+C,SAGP,GAAI1vC,EAAU,CACnB,MAAM2vC,EAAcF,EAAAphD,QAA0B2R,GAC9C2U,EAAUhkB,EAAAU,cAACs+C,GAAYl3C,KAAMzI,SAE7B2kB,EAAUhkB,EAAAU,cAACP,EAAAzC,SAAK6C,OAAQtC,EAAAoD,OAAOmV,WAAS,oBAE1C,OACExW,EAAAU,cAACm+C,EAAAnhD,QAA6B,KAC5BsC,EAAAU,cAACP,EAAAzC,QAAKiB,IAAG4B,OAAQtC,EAAAoD,OAAOG,SAAUmO,GACjCqU,yKCnDT,MAAAre,EAAArI,EAAA,GAEAsI,EAAAtI,EAAA,GAUA4M,EAAA5M,EAAA,IAEA8M,EAAA5M,EAAAF,EAAA,KACA6M,EAAA3M,EAAAF,EAAA,KAOM+R,EAAW1J,EAAAa,eACf4D,EAAA1M,QAJmB,CAAC8Q,EAAa9M,IACjCA,EAAMiO,aAKNxF,EAAAzM,QACA,CAAC0B,EAASuQ,EAActQ,KACtB,IAAKD,EACH,OAAO,KAIT,MAAM6/C,EAAY/0C,EAAAqQ,yBAChB,kBACA5K,EACAtQ,EACAD,GAEF,IAAK6/C,EACH,OAAO,KAGT,MAAMC,EAAmBD,EAAUn3C,KAC7Bq3C,EAAe9/C,EAAa2P,MAAMkwC,EAAiBn0C,QAEzD,IAAIsE,GACFG,KAAM5J,EAAAw5C,sBAAsB1vC,YAC5BC,gBAEEf,EAAWxP,EAAQsN,UAAUmC,KAAKV,GAAKA,EAAER,OAASgC,GAEtD,IAAK,IAAIlB,EAAI,EAAGA,EAAI0wC,EAAap0C,OAAQ0D,IAAK,CAC5C,MAAMQ,EAAOkwC,EAAa1wC,GAE1B,GAAgB,MAAZG,EACF,OAAO,KAGT,MAAMM,EACJN,EAASO,OAAON,KAAKV,GAAKA,EAAER,OAASsB,IACrCL,EAASQ,WAAWP,KAAKV,GAAKA,EAAER,OAASsB,GAC3C,IAAKC,EACH,OAAO,KAGTG,EAAWH,EAAO/K,KAElB,MAAMk7C,EAAWz5C,EAAA2J,YAAYF,EAASG,MAEtC,GAAI6vC,IAAaz5C,EAAA6J,sBAAsBC,YACrCd,EAAWxP,EAAQsN,UAAUmC,KAC3BV,GAAKA,EAAER,OAASuB,EAAO/K,KAAKwL,mBAEzB,IAAsC,IAAlC/J,EAAAgK,WAAWC,QAAQwvC,GAAkB,CAE9C,KADA5wC,IACU0wC,EAAap0C,OAErB,MAIAnF,EAAA2J,YAAYF,EAASS,SAAU,GAAGN,QAClC5J,EAAA6J,sBAAsBC,cAEtBL,EAAWA,EAASS,SAAU,GAC9BlB,EAAWxP,EAAQsN,UAAUmC,KAC3BV,GAAKA,EAAER,OAAS0B,EAASM,mBAGxB,IAAI0vC,IAAaz5C,EAAA6J,sBAAsBO,WA8B5C,OAAO,KA9BiD,CAExD,KADAvB,IACU0wC,EAAap0C,OAErB,MAKF,KADA0D,IACU0wC,EAAap0C,OAAQ,CAG7BsE,GACEG,KAAM5J,EAAAw5C,sBAAsB1oC,KAC5B5G,SAAUT,EAASS,UAErB,MAEF,IAAIwvC,EAAgB1jB,OAAOujB,EAAa1wC,IAExC,KADAY,EAAWA,EAASS,SAAUwvC,IAE5B,MAGE15C,EAAA2J,YAAYF,EAASG,QAAU5J,EAAA6J,sBAAsBC,cACvDd,EAAWxP,EAAQsN,UAAUmC,KAC3BV,GAAKA,EAAER,OAAS0B,EAASM,iBAQjC,OAAON,IAkBL6hB,GACJtiB,SAfejJ,EAAAa,eAAe4D,EAAA1M,QAAS2R,EAAU,CAACjQ,EAASiQ,KAC3D,IAAKjQ,IAAYiQ,EACf,OAAO,KAIT,GADiBzJ,EAAA2J,YAAYF,EAASG,QACrB5J,EAAA6J,sBAAsBC,YACrC,OAAO,KAIT,OADetQ,EAAQsN,UAAUmC,KAAKV,GAAKA,EAAER,OAAS0B,EAASM,gBAM/DN,WACAhQ,aAAA8K,EAAAzM,SAGI+xB,EAAkB9pB,EAAA+pB,yBAItBwB,GACFzzB,EAAAC,QAAe+xB,qKCxJf,MAAAxxB,EAAAT,EAAAF,EAAA,IAEMiiD,EAAgCthD,EAAAP,QAAO40B,MAC7CitB,EAA8B9gD,YAAc,gCAC5ChB,EAAAC,QAAe6hD,8UCJf,MAAAv/C,EAAAC,EAAA3C,EAAA,IAIA6C,EAAA3C,EAAAF,EAAA,KAEAiK,EAAA/J,EAAAF,EAAA,KAKAW,EAAAX,EAAA,GAEAwhD,EAAAthD,EAAAF,EAAA,MAEMkkB,EAAKrhB,EAAAzC,QAAKkB,cAAc,MAKxB4gD,EAAiE,EACrE13C,OACA+N,UACAlS,YAEA,GAAa,MAATA,EACF,OAAO3D,EAAAU,cAACP,EAAAzC,SAAK6C,OAAQtC,EAAAoD,OAAOE,MAAI,cAElC,MAAMk+C,EAAeX,EAAAphD,QAAqBmY,GACpCq+B,EAAYvwC,EAAgB4K,IAAI,CAACC,EAAGC,IAEtCzO,EAAAU,cAAA,MAAIX,IAAK0O,GACPzO,EAAAU,cAAC8gB,EAAE,KAAE/S,GACLzO,EAAAU,cAAA,UACEV,EAAAU,cAAC++C,GAAa33C,SAAUA,KAAS2G,UAKzC,OACEzO,EAAAU,cAAA,aACEV,EAAAU,cAAA,aACEV,EAAAU,cAAA,UACEV,EAAAU,cAAA,UACEV,EAAAU,cAACP,EAAAzC,SAAK6C,OAAQtC,EAAAoD,OAAOG,SAAO,QAE9BxB,EAAAU,cAAA,UACEV,EAAAU,cAACP,EAAAzC,SAAK6C,OAAQtC,EAAAoD,OAAOG,SAAO,YAIlCxB,EAAAU,cAAA,aAAQwzC,KAIdsL,EAAe/gD,YAAc,iBAC7BhB,EAAAC,QAAe6J,EAAA7J,SAAA6J,CAAqBi4C,sKCxDpC,MAAAngC,EAAA7hB,EAAAF,EAAA,KAEAiK,EAAA/J,EAAAF,EAAA,KAEAG,EAAAC,QAAe6J,EAAA7J,SAAA6J,CAAqB8X,EAAA3hB,qVCJpC,MAAAsC,EAAAC,EAAA3C,EAAA,IAEAk3B,EAAAh3B,EAAAF,EAAA,KAIAiY,EAAA/X,EAAAF,EAAA,KAEMoiD,EAA0C,EAAG53C,UACjD9H,EAAAU,cAAA,WACEV,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,KACf1C,EAAAU,cAAC6U,EAAA7X,SACCoG,UAAU,SACVF,SAAU,EACVC,SAAU,EACViE,SAAUA,EAAM,QAGpB9H,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,KACf1C,EAAAU,cAAC6U,EAAA7X,SACCoG,UAAU,SACVF,SAAU,EACVC,SAAU,EACViE,SAAUA,EAAM,QAGpB9H,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,KACf1C,EAAAU,cAAC6U,EAAA7X,SACCoG,UAAU,SACVF,SAAU,EACVC,SAAU,EACViE,SAAUA,EAAM,QAGpB9H,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,KACf1C,EAAAU,cAAC6U,EAAA7X,SACCoG,UAAU,SACVF,SAAU,EACVC,SAAU,EACViE,SAAUA,EAAM,SAKxB43C,EAAWjhD,YAAc,aACzBhB,EAAAC,QAAegiD,8UC7Cf,MAAA1/C,EAAAC,EAAA3C,EAAA,IAIA6C,EAAA3C,EAAAF,EAAA,KAEAiK,EAAA/J,EAAAF,EAAA,KAKAW,EAAAX,EAAA,GAEAwhD,EAAAthD,EAAAF,EAAA,MAEMkkB,EAAKrhB,EAAAzC,QAAKkB,cAAc,MAKxB+gD,EAAmE,EACvE73C,OACA+N,UACAlS,YAEA,MAAM87C,EAAeX,EAAAphD,QAAqBmY,GACpCq+B,EAAYvwC,EAAgB4K,IAAI,EAAExO,EAAK4D,GAAQ8K,IAEjDzO,EAAAU,cAAA,MAAIX,IAAK0O,GACPzO,EAAAU,cAAC8gB,EAAE,KAAEy6B,KAAKC,UAAUn8C,IACpBC,EAAAU,cAAA,UACEV,EAAAU,cAAC++C,GAAa33C,SAAUA,KAAS2G,IAAK,UAK9C,OACEzO,EAAAU,cAAA,aACEV,EAAAU,cAAA,aACEV,EAAAU,cAAA,UACEV,EAAAU,cAAA,UACEV,EAAAU,cAACP,EAAAzC,SAAK6C,OAAQtC,EAAAoD,OAAOG,SAAO,QAE9BxB,EAAAU,cAAA,UACEV,EAAAU,cAACP,EAAAzC,SAAK6C,OAAQtC,EAAAoD,OAAOG,SAAO,YAIlCxB,EAAAU,cAAA,aAAQwzC,KAIdyL,EAAgBlhD,YAAc,kBAC9BhB,EAAAC,QAAe6J,EAAA7J,SAAA6J,CAAqBo4C,4qBCrDpC,MAAA3/C,EAAAC,EAAA3C,EAAA,IAEA2F,EAAA3F,EAAA,IACAsI,EAAAtI,EAAA,GAEAW,EAAAX,EAAA,GAEA6C,EAAA3C,EAAAF,EAAA,KACAgK,EAAA9J,EAAAF,EAAA,KACAwX,EAAAtX,EAAAF,EAAA,MAEAiK,EAAA/J,EAAAF,EAAA,WAUAsiD,UAA+B5/C,EAAMwC,UACnCC,SACE,MAAM0T,gBAAEA,EAAFxS,MAAmBA,EAAnByB,SAA0BA,GAAavC,KAAKnB,MAC5Cm+C,EA0CV,SACE1pC,GAEA,IACG5W,OAAOugD,UAAUC,eAAe/zB,KAAKpmB,EAAAo6C,mBAAoB7pC,GAE1D,OAAO,KAGT,OAAQvQ,EAAAo6C,mBAA2B7pC,GAnDb8pC,CAAe9pC,GACnC,GAAK0pC,EAOE,CAEL,MAKM7qC,EALWzV,OAAO0Q,KAAK4vC,GAAa3vC,OAGxC/B,GAAK7I,MAAMqyC,SAASxpC,KAEqBI,IAAIJ,KAC7CzL,MAAOyL,EACPxK,MAAOk8C,EAAY1xC,MAErB,OACEnO,EAAAU,cAACoU,EAAApX,SACCiG,MAAOA,EACPqR,QAASA,EACT1Q,SAAUzB,KAAKq9C,qBACfv/C,MAAM,UAtBV,OACEX,EAAAU,cAAA,YACEV,EAAAU,cAAC4G,EAAA5J,SAAaiG,MAAOA,EAAOyB,SAAUA,IACtCpF,EAAAU,cAACP,EAAAzC,SAAK6C,OAAQtC,EAAAoD,OAAOE,MAAO4U,EAAiC,eA0B7D1T,qBAAqBkB,GAC3B,IAAKA,EACH,OAEF,MAAMyB,SAAEA,GAAavC,KAAKnB,MAC1B0D,EAASzB,IALX8B,GADCxC,EAAAyC,+CAOA,MAGHjI,EAAAC,QAAe6J,EAAA7J,SAAA6J,CAAqBq4C,sKChEpC,MAAAzmB,EAAA37B,EAAAF,EAAA,MAEAiK,EAAA/J,EAAAF,EAAA,KAEAG,EAAAC,QAAe6J,EAAA7J,SAAA6J,CAAqB4xB,EAAAz7B,qVCJpC,MAAAsC,EAAAC,EAAA3C,EAAA,IAEAk3B,EAAAh3B,EAAAF,EAAA,KAIAiY,EAAA/X,EAAAF,EAAA,KAEM6iD,EAA4C,EAAGr4C,UACnD9H,EAAAU,cAAA,WACEV,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,IAAIC,QAAM,GACzB3C,EAAAU,cAAC6U,EAAA7X,SAAaoG,UAAU,SAASgE,SAAUA,EAAM,QAEnD9H,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,IAAIC,QAAM,GACzB3C,EAAAU,cAAC6U,EAAA7X,SAAaoG,UAAU,SAASgE,SAAUA,EAAM,SAIvDq4C,EAAa1hD,YAAc,eAC3BhB,EAAAC,QAAeyiD,8UCnBf,MAAAngD,EAAAC,EAAA3C,EAAA,IAEAk3B,EAAAh3B,EAAAF,EAAA,KAIAiY,EAAA/X,EAAAF,EAAA,KAEM8iD,EAA6C,EAAGt4C,UACpD9H,EAAAU,cAAA,WACEV,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,IAAIC,QAAM,GACzB3C,EAAAU,cAAC6U,EAAA7X,SAAaoG,UAAU,QAAQgE,SAAUA,EAAM,QAElD9H,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,IAAIC,QAAM,GACzB3C,EAAAU,cAAC6U,EAAA7X,SAAaoG,UAAU,QAAQgE,SAAUA,EAAM,SAItDs4C,EAAc3hD,YAAc,gBAC5BhB,EAAAC,QAAe0iD,8UCnBf,MAAApgD,EAAAC,EAAA3C,EAAA,IAEAk3B,EAAAh3B,EAAAF,EAAA,KAIAiY,EAAA/X,EAAAF,EAAA,KAEM+iD,EAA4C,EAAGv4C,UACnD9H,EAAAU,cAAA,WACEV,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,IAAIC,QAAM,GACzB3C,EAAAU,cAAC6U,EAAA7X,SAAaoG,UAAU,SAASgE,SAAUA,EAAM,QAEnD9H,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,IAAIC,QAAM,GACzB3C,EAAAU,cAAC6U,EAAA7X,SAAaoG,UAAU,SAASgE,SAAUA,EAAM,QAEnD9H,EAAAU,cAAC8zB,EAAA92B,SAAUgF,MAAM,IAAIC,QAAM,GACzB3C,EAAAU,cAAC6U,EAAA7X,SAAaoG,UAAU,SAASgE,SAAUA,EAAM,SAIvDu4C,EAAa5hD,YAAc,eAC3BhB,EAAAC,QAAe2iD,qKCtBf,MAAApsB,EAAAz2B,EAAAF,EAAA,MACAG,EAAAC,QAAeu2B,EAAAv2B,oVCDf,MAAAsC,EAAAC,EAAA3C,EAAA,IACAkK,EAAAlK,EAAA,GAEAmK,EAAAjK,EAAAF,EAAA,MAEAW,EAAAX,EAAA,GAEA0K,EAAAxK,EAAAF,EAAA,KACAuM,EAAArM,EAAAF,EAAA,KAEAk0B,EAAAh0B,EAAAF,EAAA,KAmCAG,EAAAC,QAAe8J,EAAAG,QAAQF,EAAA/J,QAAR8J,eAhCmBxH,EAAMwC,UACtCC,SACE,MAAM69C,iBAAEA,GAAqBz9C,KAAKnB,MAE5Bof,IAEFtgB,OAAQ,mBACR2gB,GAAI,OACJO,SAAU,OACVE,KAAM,EAAGP,aACPrhB,EAAAU,cAACsH,EAAAtK,SAAkB6C,OAAQtC,EAAAoD,OAAOG,QAASsG,KAAMuZ,EAAQvZ,MACtDuZ,EAAQ1T,MAGb2mC,UAAU,EAGVC,YAAY,IAGZ/zC,OAAQ,QACRkhB,SAAU,QACV4yB,UAAU,IAGd,OACEt0C,EAAAU,cAAC8wB,EAAA9zB,SAAgB8C,OAAO,oBACtBR,EAAAU,cAACmJ,EAAAnM,SAAUojB,QAASA,EAASD,KAAMy/B,2KCxC3C,MAAA36C,EAAArI,EAAA,GAEAoC,EAAApC,EAAA,IAMA8M,EAAA5M,EAAAF,EAAA,KACA4M,EAAA5M,EAAA,IACAijD,EAAA/iD,EAAAF,EAAA,KAkCM4zB,GACJovB,iBA3BuB36C,EAAAa,eACvB4D,EAAA1M,QACA6iD,EAAA7iD,QACA,CAAC0B,EAASE,KACR,IAAKF,EACH,SASF,OANwB8K,EAAA+Q,uBACrB,eACD7b,EACAE,GAGqBiP,IAAI,CAACzG,EAAM2G,KAChC,MAAMsZ,EAAQroB,EAAA2G,IAAIjH,EAAS0I,GAM3B,OAJE6F,KAAMoa,EAAMpa,KACZovC,MAAOh1B,EAAMjb,YAAY/B,OACzBjD,aAWF2nB,EAAkB9pB,EAAA+pB,yBACtBwB,GAEFzzB,EAAAC,QAAe+xB,qKCnDf,MAAAyE,EAAA12B,EAAAF,EAAA,MACAG,EAAAC,QAAew2B,EAAAx2B,oVCDf,MAAAsC,EAAAC,EAAA3C,EAAA,IACAkK,EAAAlK,EAAA,GAEAW,EAAAX,EAAA,GAGAmK,EAAAjK,EAAAF,EAAA,MAEA+kB,EAAA7kB,EAAAF,EAAA,MACA0K,EAAAxK,EAAAF,EAAA,KACAkjD,EAAAhjD,EAAAF,EAAA,MAEAk0B,EAAAh0B,EAAAF,EAAA,KAsBAG,EAAAC,QAAe8J,EAAAG,QAAQF,EAAA/J,QAAR8J,eAnBcxH,EAAMwC,UACjCC,SACE,MAAMg+C,gBAAEA,GAAoB59C,KAAKnB,MAC3Bg/C,EAAYD,EAAgBlyC,IAAIJ,GACpCnO,EAAAU,cAAC2hB,EAAA3kB,SAASqC,IAAKoO,EAAER,MACf3N,EAAAU,cAAC2hB,EAAA3kB,QAAS0C,QAAO4Y,UAAU,aACzBhZ,EAAAU,cAACsH,EAAAtK,SAAkB6C,OAAQtC,EAAAoD,OAAOG,QAASsG,KAAMqG,EAAErG,MAChDqG,EAAER,SAKX,OACE3N,EAAAU,cAAC8wB,EAAA9zB,SAAgB8C,OAAO,eACtBR,EAAAU,cAAC8/C,EAAA9iD,QAAqB,KAAEgjD,0KC7BhC,MAAA/6C,EAAArI,EAAA,GAIAoC,EAAApC,EAAA,IAIA8M,EAAA5M,EAAAF,EAAA,KACA6M,EAAA3M,EAAAF,EAAA,KAEA4M,EAAA5M,EAAA,IAgDM4zB,GACJuvB,gBArCsB96C,EAAAa,eACtB4D,EAAA1M,QACAyM,EAAAzM,QAVyB,CAAC8Q,EAAa9M,IACvCA,EAAM0yB,aAAc,EAWpB,CAACh1B,EAASC,EAAc+0B,KACtB,IAAKh1B,EACH,SAGF,IAAIuhD,EACJ,GAAIvsB,EAAY,CAEdusB,EADkCjhD,EAAA2G,IAAIjH,EAASC,GACjBkP,IAAI,CAACC,EAAGC,QAAUpP,KAAiBoP,UAC5D,CACL,MAAMsZ,EAAyBroB,EAAA2G,IAAIjH,EAASC,GAC5C,IAAK0oB,EACH,SAEF44B,EAAkB54B,EAAMjb,YAAYyB,IAAI,CAACC,EAAGC,QACvCpP,EACH,iBACGoP,MAIP,OAAOkyC,EAAgBpyC,IAAIzG,IAMzB,OAHE6F,KAFWzD,EAAAuQ,iBAAiB3S,EAAM1I,GAGlC0I,aAWF2nB,EAAkB9pB,EAAA+pB,yBAItBwB,GACFzzB,EAAAC,QAAe+xB,qKCpEf,MAAAxxB,EAAAT,EAAAF,EAAA,IAEMsjD,EAAmB3iD,EAAAP,QAAO40B;;;;;;EAOhCsuB,EAAiBniD,YAAc,mBAC/BhB,EAAAC,QAAekjD,qKCVf,MAAA3iD,EAAAT,EAAAF,EAAA,IAEMujD,EAAsB5iD,EAAAP,QAAO40B;;;;;EAMnC70B,EAAAC,QAAemjD,qKCRf,MAAA5iD,EAAAT,EAAAF,EAAA,IAIMwjD,EAAmB7iD,EAAAP,QAAO40B;;;;;;;;EAShC70B,EAAAC,QAAeojD,qKCbf,MAAA7iD,EAAAT,EAAAF,EAAA,IAEMsM,EAAkB3L,EAAAP,QAAO40B;;;;;EAM/B1oB,EAAgBnL,YAAc,kBAC9BhB,EAAAC,QAAekM,qKCTf,MAAA6nB,EAAAj0B,EAAAF,EAAA,MACAG,EAAAC,QAAe+zB,EAAA/zB,oVCDf,MAAAsC,EAAAC,EAAA3C,EAAA,IAEAiF,EAAA/E,EAAAF,EAAA,KAEAyjD,EAAAvjD,EAAAF,EAAA,MAEA0jD,EAAAxjD,EAAAF,EAAA,MACA2jD,EAAAzjD,EAAAF,EAAA,MAEM4jD,EAAqB,IACzBlhD,EAAAU,cAACqgD,EAAArjD,QAAgB,KACfsC,EAAAU,cAAC6B,EAAA7E,SAAKwE,UAAU,SAAStB,OAAO,QAC9BZ,EAAAU,cAACsgD,EAAAtjD,QAAkB,MACnBsC,EAAAU,cAAC6B,EAAA7E,QAAKyE,MAAKN,YAAU,EAACC,UAAU,UAC9B9B,EAAAU,cAACugD,EAAAvjD,QAAiB,SAK1BwjD,EAAQziD,YAAc,UACtBhB,EAAAC,QAAewjD,qKCpBf,MAAAC,EAAA3jD,EAAAF,EAAA,MAEM8jD,EAAmBD,EAAAzjD,QAAM2C;;;;;;EAO/B+gD,EAAiB3iD,YAAc,mBAC/BhB,EAAAC,QAAe0jD,qKCVf,MAAAnjD,EAAAT,EAAAF,EAAA,IACAU,EAAAV,EAAA,IACAY,EAAAZ,EAAA,GAIM+jD,EAAQpjD,EAAAP,QAAwB;IAClCM,EAAA2C;IACA3C,EAAA4C;sBACkBc,GAASxD,EAAAgK,SAASxG,GAAOyG,OAAOC,GAAGC;EAEzDg5C,EAAM5iD,YAAc,QACpBhB,EAAAC,QAAe2jD,qKCZf,MAAAL,EAAAxjD,EAAAF,EAAA,MACAG,EAAAC,QAAesjD,EAAAtjD,irBCDf,MAAAsC,EAAAC,EAAA3C,EAAA,IACAkK,EAAAlK,EAAA,GAEA2F,EAAA3F,EAAA,IAEAW,EAAAX,EAAA,GAEAoK,EAAAlK,EAAAF,EAAA,MAEA6C,EAAA3C,EAAAF,EAAA,KACA8F,EAAA5F,EAAAF,EAAA,WAGAgkD,UAAiCthD,EAAMwC,UACrCC,SACE,OACEzC,EAAAU,cAAA,WACEV,EAAAU,cAACP,EAAAzC,QAAKmB,OAAM0iD,QAAQ,gBAAgBhhD,OAAQtC,EAAAoD,OAAOuW,WAAS,iBAG5D5X,EAAAU,cAAC0C,EAAA1F,SACCyjB,GAAG,gBACHhd,KAAK,WACLG,SAAUzB,KAAK2+C,yBAOf/+C,sBAAsBmC,GAC5B,MAAM6Z,YAAEA,GAAgB5b,KAAKnB,MAC7B+c,EAAY7Z,EAAEC,OAAOqG,QAAU,WAAa,WAF9CzF,GADCxC,EAAAyC,gDAIA,MAEHjI,EAAAC,QAAe8J,EAAAG,aACb+Q,EACAhR,EAAAhK,QAFa8J,CAGb85C,kFCtCF,MAEM3xB,GACJlR,YAHFnhB,EAAA,KAGEmhB,aAGFhhB,EAAAC,QAAeiyB,qKCNf,MAAAsxB,EAAAzjD,EAAAF,EAAA,MACAG,EAAAC,QAAeujD,EAAAvjD,oVCDf,MAAAsC,EAAAC,EAAA3C,EAAA,IAEAmkD,EAAAjkD,EAAAF,EAAA,MACAokD,EAAAlkD,EAAAF,EAAA,MAGAG,EAAAC,sBAA+CsC,EAAMwC,UAArDC,kCACUI,KAAA8+C,cAAgB3hD,EAAMwD,YAE9Bf,SACE,OACEzC,EAAAU,cAAC+gD,EAAA/jD,SAA2BwG,SAAUrB,KAAK8+C,eACzC3hD,EAAAU,cAACghD,EAAAhkD,SACCkkD,gBACAC,gBAAiBh/C,KAAK8+C,sLCdhC,MAAA1jD,EAAAT,EAAAF,EAAA,IAEMwkD,EAA6B7jD,EAAAP,QAAO40B;;;;EAK1C70B,EAAAC,QAAeokD,qKCPf,MAAAJ,EAAAlkD,EAAAF,EAAA,MACAG,EAAAC,QAAegkD,EAAAhkD,irBCDf,MAAAsC,EAAAC,EAAA3C,EAAA,IAEAkK,EAAAlK,EAAA,GAEA2F,EAAA3F,EAAA,IAEAykD,EAAAvkD,EAAAF,EAAA,MAEAW,EAAAX,EAAA,GAGAmK,EAAAjK,EAAAF,EAAA,MACAoK,EAAAlK,EAAAF,EAAA,MAEA0kD,EAAAxkD,EAAAF,EAAA,MACA2kD,EAAAzkD,EAAAF,EAAA,MACA4kD,EAAA1kD,EAAAF,EAAA,YAOA6kD,UAAyCniD,EAAMwC,UAG7CC,YAAYf,GACV4B,MAAM5B,GAENmB,KAAKu/C,KAAOpiD,EAAMwD,YAElBX,KAAKpD,OACH4iD,YAAY,GAIhB5/C,oBACqC,aAA/BI,KAAKnB,MAAM4gD,iBACbz/C,KAAK0/C,kBAIT9/C,mBAAmB+/C,GAEc,aAA7BA,EAASF,iBACsB,aAA/Bz/C,KAAKnB,MAAM4gD,iBAEXz/C,KAAK0/C,kBAIT9/C,SACE,MAAMuY,MAAEA,EAAFsnC,gBAASA,EAATG,WAA0BA,EAA1BZ,gBAAsCA,GAAoBh/C,KAAKnB,MACrE,IAAI2gD,WAAEA,GAAex/C,KAAKpD,MAE1B,MAAMijD,EAAeD,EAAW13C,OAAS,EAEzC,IAAI43C,EACJ,OAAQL,GACN,QACEK,EAAc1kD,EAAAoD,OAAOC,QACrB,MACF,IAAK,UACHqhD,EAAc1kD,EAAAoD,OAAOuW,UACrByqC,EAAaK,EACb,MACF,IAAK,WACHC,EAAc1kD,EAAAoD,OAAOG,QAIzB,IAAIohD,EAAuC,KAc3C,OAbIF,GAAgBL,IAClBO,EAAeH,EAAWl0C,IAAIs0C,IAC5B,MAAM9iD,EAAM8iD,EAAUA,EAAU93C,OAAS,GACzC,OACE/K,EAAAU,cAACoiD,GACC/iD,IAAKA,EACL6hD,aAAciB,EACdhB,gBAAiBA,OAOvB7hD,EAAAU,cAACshD,EAAAtkD,QAA0B,KACzBsC,EAAAU,cAACuhD,EAAAvkD,SACCwG,SAAUrB,KAAKu/C,KACfW,WAAYL,EACZM,SAAUX,EACV7hD,OAAQwa,EACRza,OAAQoiD,EACR9xB,QAAShuB,KAAKuvB,SACd6wB,eAAgBpgD,KAAKqgD,kBAEvBljD,EAAAU,cAACwhD,EAAAxkD,QAAwB,KAAEklD,IAKzBngD,kBACN,MAAM0gD,EAActgD,KAAKu/C,KAAK/8C,SACxBo9C,WAAEA,EAAFZ,gBAAcA,GAAoBh/C,KAAKnB,MAEzC+gD,EAAW13C,OAAS,GACtBlI,KAAKoC,UACHo9C,YAAY,IAIZc,GAAetB,EAAgBx8C,SACjC08C,EAAArkD,QAAeylD,EAAatB,EAAgBx8C,SAC1C+9C,uBAAuB,EACvBC,oBAAoB,EACpBC,aAAc,IACdC,UAAW,MAMT9gD,WACN,MAAMm/C,aAAEA,EAAF/wB,QAAgBA,GAAYhuB,KAAKnB,MACvCmB,KAAKoC,UACHo9C,YAAY,IAEdxxB,EAAQ+wB,GAIFn/C,kBACNI,KAAKoC,UACHo9C,YAAax/C,KAAKpD,MAAM4iD,cAX5B58C,GADCxC,EAAAyC,mCAOA,MAGDD,GADCxC,EAAAyC,0CAKA,MAEH,MAAMo9C,EAAoBt7C,EAAAG,QACxBF,EAAA/J,QACAgK,EAAAhK,QAFwB8J,CAGxB26C,GACF1kD,EAAAC,QAAeolD,wKC5If,MAAA/tB,EAAAv3B,EAAAF,EAAA,MAEAkmD,EAAAhmD,EAAAF,EAAA,MAIA4M,EAAA5M,EAAA,IAMA8M,EAAA5M,EAAAF,EAAA,KACA6M,EAAA3M,EAAAF,EAAA,KACAijD,EAAA/iD,EAAAF,EAAA,KAIMmmD,EAAoB,CAACj1C,EAAa9M,IACtCA,EAAMkgD,aAAa96C,KAAK,KAEpB48C,EAAmB,CAACl1C,EAAa9M,IACrCA,EAAMkgD,aAEF5mC,EAAQ+Z,EAAAr3B,QAOZgmD,EACAt5C,EAAA1M,QACA,CAACoK,EAAMgD,IACLA,EAAWZ,EAAAuQ,iBAAiB3S,EAAMgD,GAAY,cAVpCiqB,CAWZ0uB,GAEInB,EAAkBvtB,EAAAr3B,QAMtBgmD,EAAkBv5C,EAAAzM,QAAsB,CAACimD,EAAUtkD,KAEnD,OADmBskD,EAASC,MAAM,CAACz1C,EAAGM,IAAMpP,EAAaoP,IAAMN,GAK3Dw1C,EAAS54C,SAAW1L,EAAa0L,OAC5B,WAGF,UAPE,cATagqB,CAiBrB0uB,GAEGhB,EAAa1tB,EAAAr3B,QAQjBgmD,EACAt5C,EAAA1M,QACA6iD,EAAA7iD,QACA,CAACoK,EAAMgD,EAAUxL,KACf,GAAgB,MAAZwL,EACF,SAOF,OADmBZ,EAAA+Q,sBAAsBnT,EAAMgD,EAAUxL,GACvCo1C,KAAK,CAACvhC,EAAGC,KACzB,MAAMywC,EAAS35C,EAAAuQ,iBAAiBtH,EAAGrI,GAC7Bg5C,EAAS55C,EAAAuQ,iBAAiBrH,EAAGtI,GACnC,OAAO04C,EAAA9lD,QAAemmD,EAAQC,MAvBjB/uB,CA0BjB0uB,GAiBFhmD,EAAAC,QAfwB,SACtB+B,EACAiC,GAUA,OALEsZ,MAAOA,EAAMvb,EAAOiC,GACpB4gD,gBAAiBA,EAAgB7iD,EAAOiC,GACxC+gD,WAAYA,EAAWhjD,EAAOiC,qFC9FlC,MAEMiuB,GACJkB,QAHFvzB,EAAA,IAGWuT,YAGXpT,EAAAC,QAAeiyB,qKCNf,MAAA1xB,EAAAT,EAAAF,EAAA,IAEMymD,EAA6B9lD,EAAAP,QAAO40B,MAC1CyxB,EAA2BtlD,YAAc,6BACzChB,EAAAC,QAAeqmD,qKCJf,MAAA9B,EAAAzkD,EAAAF,EAAA,MACAG,EAAAC,QAAeukD,EAAAvkD,oVCDf,MAAAsC,EAAAC,EAAA3C,EAAA,IAEAW,EAAAT,EAAAF,EAAA,IAEA0mD,EAAAxmD,EAAAF,EAAA,MACA2mD,EAAAzmD,EAAAF,EAAA,MAaM4mD,EAAmCjmD,EAAAP,QAAOymD;;;EAIhDD,EAAiCzlD,YAAc,6BAE/C,MAAM2lD,EAEF,EACF5kC,YACAujC,aACAC,WACAxiD,SACAD,SACAswB,UACAoyB,iBACA/+C,cAEAlE,EAAAU,cAACwjD,GAAiChgD,SAAUA,EAAUsb,UAAWA,GAC9DujC,GACC/iD,EAAAU,cAACsjD,EAAAtmD,SACCslD,SAAUA,EACVnyB,QAASkyB,EAAaE,OAAiBvqC,IAG3C1Y,EAAAU,cAACujD,EAAAvmD,SAAS6C,OAAQA,EAAQswB,QAASA,GAChCrwB,IAIP4jD,EAAwB3lD,YAAc,0BACtChB,EAAAC,QAAe0mD,8PCjDf,MAAApkD,EAAAC,EAAA3C,EAAA,IAyBAG,EAAAC,QAfoE,GAClE8hB,YACAwjC,WACAnyB,aAEA7wB,EAAAU,cAAA,OACE8e,UAAWA,EACX7e,MAfc,GAgBdC,OAhBc,GAiBdyjD,QAAS,UACTxzB,QAASA,GAET7wB,EAAAU,cAAA,QAAM+yB,EAAGuvB,EAnBS,6BACC,yBAkBiCsB,KAAK,+KCtB7D,MAAArmD,EAAAX,EAAA,GAEA6C,EAAA3C,EAAAF,EAAA,KAEMinD,EAAWpkD,EAAAzC,QAAK2C;iBACLqB,GAASzD,EAAAiK,SAASxG,GAAOlD,MAAK;EAE/Cf,EAAAC,QAAe6mD,qKCPf,MAAAtmD,EAAAT,EAAAF,EAAA,IAEMknD,EAA2BvmD,EAAAP,QAAO40B;;EAGxC70B,EAAAC,QAAe8mD,qKCLf,MAAAvmD,EAAAT,EAAAF,EAAA,IAEAU,EAAAV,EAAA,IAEAY,EAAAZ,EAAA,GAKMmnD,EAAYxmD,EAAAP,QAA8B;;kBAE9BgE,GACdxD,EAAA0K,cAAclH,EAAM2W,OAASna,EAAA8C,MAAM4yB,iBAAnC11B,CAAqDwD;IACrD1D,EAAA2C;IACA3C,EAAAQ;;EAGJimD,EAAUhmD,YAAc,YACxBhB,EAAAC,QAAe+mD,qKClBf,MAAAxmD,EAAAT,EAAAF,EAAA,IAEAY,EAAAZ,EAAA,GAEMonD,EAAezmD,EAAAP,QAAO40B;;;;;;sBAMN5wB,GAASxD,EAAAgK,SAASxG,GAAOyG,OAAOC,GAAG1K;EAEzDgnD,EAAajmD,YAAc,eAC3BhB,EAAAC,QAAegnD,qKCbf,MAAAzmD,EAAAT,EAAAF,EAAA,IAEMonD,EAAezmD,EAAAP,QAAO40B;;;;;EAM5BoyB,EAAajmD,YAAc,eAC3BhB,EAAAC,QAAegnD,qKCTf,MAAAt1B,EAAA5xB,EAAAF,EAAA,MACAG,EAAAC,QAAe0xB,EAAA1xB,irBCDf,MAAAsC,EAAAC,EAAA3C,EAAA,IACAkK,EAAAlK,EAAA,GAEA2F,EAAA3F,EAAA,IAEAylB,EAAAzlB,EAAA,IAEA0lB,EAAA1lB,EAAA,IAEAW,EAAAX,EAAA,GAEA66B,EAAA36B,EAAAF,EAAA,MACAqzB,EAAAnzB,EAAAF,EAAA,KAEAoK,EAAAlK,EAAAF,EAAA,MAEAqnD,EAAAnnD,EAAAF,EAAA,MAEAsnD,EAAApnD,EAAAF,EAAA,MACAunD,EAAArnD,EAAAF,EAAA,MACAwnD,EAAAtnD,EAAAF,EAAA,YAGAynD,UAAqB/kD,EAAMwC,UAA3BC,kCACUI,KAAAU,OAA6B,KAErCd,SACE,MAAMuiD,eAAEA,GAAmBniD,KAAKnB,MAChC,OACE1B,EAAAU,cAACikD,EAAAjnD,QAAe,KACdsC,EAAAU,cAACmkD,EAAAnnD,QAAe,kBAChBsC,EAAAU,cAACkkD,EAAAlnD,QAAW,KACVsC,EAAAU,cAAA,SACEkzC,IAAKqR,GAAOpiD,KAAKU,OAAS0hD,EAC1BpsC,OAASqsC,QAAS,QAClB/gD,KAAK,OACLooB,OAAO,OACPjoB,SAAUzB,KAAKsiD,mBAEjBnlD,EAAAU,cAACiwB,EAAAjzB,SAAOmzB,QAAShuB,KAAKuiD,iBAAkBp0C,cAAc,UACpDhR,EAAAU,cAACqiB,EAAAqN,OAAMC,QAAS,kBAAgB,UAEhCrN,EAAAtX,QACA1L,EAAAU,cAACiwB,EAAAjzB,SAAOmzB,QAASm0B,EAAgBh0C,cAAc,UAAQ,QAIzDhR,EAAAU,cAACiwB,EAAAjzB,SACC6C,OAAQtC,EAAAoD,OAAOG,QACfqvB,QAAShuB,KAAKwiD,iBACdr0C,cAAc,UAEdhR,EAAAU,cAACqiB,EAAAqN,OAAMC,QAAS,kBAAgB,SAElCrwB,EAAAU,cAAA,KACEsa,MAAM,SACNsqC,KAAK,6CACLzgD,OAAO,UAEP7E,EAAAU,cAACy3B,EAAAz6B,QAAKgX,QACJnU,OAAQtC,EAAAoD,OAAOE,KACfqB,SAAQ,EACRoO,cAAc,YAGlBhR,EAAAU,cAACokD,EAAApnD,QAAc,QAOf+E,mBACDI,KAAKU,QAGVV,KAAKU,OAAOgiD,QAIN9iD,iBAAiBmC,GACvB,MAAM4gD,EAAQ5gD,EAAEC,OAAO2gD,MACvB,IAAKA,GAA0B,IAAjBA,EAAMz6C,OAClB,OAEF,MAAM+T,EAAO0mC,EAAM,IAEbC,OAAEA,GAAW5iD,KAAKnB,MACxB+jD,EAAO3mC,GAIDrc,mBACN,MAAMijD,OAAEA,GAAW7iD,KAAKnB,MAExBgkD,EAQJ,SAAuB/3C,EAAcg4C,GACnC,OAAIh4C,EAAKi4C,SAASD,GAAah4C,EACxBA,EAAOg4C,EAXKE,CAAc,UAAW,UAtB5CpgD,GADCxC,EAAAyC,2CAMA,MAGDD,GADCxC,EAAAyC,2CAUA,MAGDD,GADCxC,EAAAyC,2CAKA,MAEHjI,EAAAC,QAAe8J,EAAAG,QACb,KACAD,EAAAhK,QAFa8J,CAGbub,EAAA0N,WAAA1N,CAAYgiC,uKCrGd,MAAAe,EAAAtoD,EAAAF,EAAA,MAEA4tB,EAAA5tB,EAAA,KACA6tB,EAAA7tB,EAAA,KAEAupB,EAAAvpB,EAAA,IAEMqyB,GACJ81B,OAAQv6B,EAAArM,YACRmmC,eAAgB,IAAMn+B,EAAAnd,sBAAsBo8C,EAAApoD,SAC5CgoD,OAAQv6B,EAAAnM,aAEVvhB,EAAAC,QAAeiyB,i2yjHCZf,MAAA1xB,EAAAT,EAAAF,EAAA,IAEAY,EAAAZ,EAAA,GAEMyoD,EAAkB9nD,EAAAP,QAAO40B;;;;;;;sBAOT5wB,GAASxD,EAAAgK,SAASxG,GAAOyG,OAAOC,GAAG+P;EAEzD4tC,EAAgBtnD,YAAc,kBAC9BhB,EAAAC,QAAeqoD,qKCdf,MAAA9nD,EAAAT,EAAAF,EAAA,IAEM0oD,EAAc/nD,EAAAP,QAAO40B;;;;;EAM3B0zB,EAAYvnD,YAAc,cAC1BhB,EAAAC,QAAesoD,qKCTf,MAAA/nD,EAAAT,EAAAF,EAAA,IACAY,EAAAZ,EAAA,GAEM2oD,EAAkBhoD,EAAAP,QAAOymD;;;WAGpBziD,GAASxD,EAAAgK,SAASxG,GAAOyG,OAAO5H,OAAOiI;EAElDy9C,EAAgBxnD,YAAc,kBAC9BhB,EAAAC,QAAeuoD,8UCTf,MAAAjmD,EAAAC,EAAA3C,EAAA,IAIA4oD,EAAA1oD,EAAAF,EAAA,MACA66B,EAAA36B,EAAAF,EAAA,MAEA6oD,EAAA3oD,EAAAF,EAAA,MAEAG,EAAAC,sBAA4CsC,EAAMwC,UAChDC,SACE,OACEzC,EAAAU,cAACwlD,EAAAxoD,SACC0oD,OACEpmD,EAAAU,cAACy3B,EAAAz6B,QAAKmX,UAASjS,SAAQ,EAAoBoO,cAAc,YAG3DhR,EAAAU,cAACylD,EAAAzoD,SAAmBqtB,KAAK,MAAI,gBAC7B/qB,EAAAU,cAACylD,EAAAzoD,SAAmBqtB,KAAK,MAAI,sLClBrC,MAAAm7B,EAAA1oD,EAAAF,EAAA,MACAG,EAAAC,QAAewoD,EAAAxoD,irBCDf,MAAAsC,EAAAC,EAAA3C,EAAA,IAEA2F,EAAA3F,EAAA,IAEA+oD,EAAA7oD,EAAAF,EAAA,MACAgpD,EAAA9oD,EAAAF,EAAA,MAEAipD,EAAA/oD,EAAAF,EAAA,YAUAkpD,UAA0CxmD,EAAMwC,UAC9CC,YAAYf,GACV4B,MAAM5B,GAENmB,KAAKpD,OACHgnD,QAAQ,GAIZhkD,SACE,MAAM2jD,OAAEA,GAAWvjD,KAAKnB,OAClB+kD,OAAEA,GAAW5jD,KAAKpD,MACxB,OACEO,EAAAU,cAAA,YACEV,EAAAU,cAAA,QAAMmwB,QAAShuB,KAAK6jD,iBAAkBN,GACrCK,GAAU5jD,KAAK8jD,mBAKdlkD,kBACN,MAAMhC,SAAEA,GAAaoC,KAAKnB,MAC1B,OACE1B,EAAAU,cAAC2lD,EAAA3oD,QAAqB,KACpBsC,EAAAU,cAAC4lD,EAAA5oD,QAAiB,KAChBsC,EAAAU,cAAC6lD,EAAA7oD,SAAKkpD,aAAc/jD,KAAKgkD,gBAAiBpmD,KAO1CgC,kBACNI,KAAKoC,UACHwhD,QAAS5jD,KAAKpD,MAAMgnD,SAKhBhkD,iBACNI,KAAKoC,UACHwhD,QAAQ,KATZhhD,GADCxC,EAAAyC,0CAKA,MAGDD,GADCxC,EAAAyC,yCAKA,MA3CHjI,EAAAC,QAAA8oD,qKCjBA,MAAAvoD,EAAAT,EAAAF,EAAA,IAEMwpD,EAAwB7oD,EAAAP,QAAO40B;;EAGrCw0B,EAAsBroD,YAAc,wBACpChB,EAAAC,QAAeopD,qKCNf,MAAA7oD,EAAAT,EAAAF,EAAA,IAEMypD,EAAoB9oD,EAAAP,QAAO40B;;;EAIjCy0B,EAAkBtoD,YAAc,oBAChChB,EAAAC,QAAeqpD,qKCPf,MAAAR,EAAA/oD,EAAAF,EAAA,MACAG,EAAAC,QAAe6oD,EAAA7oD,+iBCDf,MAAAsC,EAAAC,EAAA3C,EAAA,IACAW,EAAAgC,EAAA3C,EAAA,IAcM0pD,EAAkB/oD,EAAAP,QAAmC;;;;aAI9CO,EAAAiL,cAAa;;IAEtBxH,GACCA,EAAMulD,kBAGHvuC,kBAFgBza,EAAA6K,eAAc,WAChC7K,EAAA2K,cAAc3K,EAAA+C,MAAM8W;;IAGtBpW,GACCA,EAAMwlD,mBAGHxuC,mBAFiBza,EAAA6K,eAAc,WACjC7K,EAAA2K,cAAc3K,EAAA+C,MAAM8W;;;kBAIR7Z,EAAA6K,eAAc;QACxB7K,EAAA2K,cAAc3K,EAAA+C,MAAM8W;;;;qBAIP7Z,EAAA6K,eAAc;QAC3B7K,EAAA2K,cAAc3K,EAAA+C,MAAM8W;;EAItBqvC,EAAgBlpD,EAAAP,QAAO0pD;;gBAEbnpD,EAAA2K,cAAc3K,EAAA+C,MAAMghB;;;;EAOpCvkB,EAAAC,sBAAkCsC,EAAMwC,UACtCC,SACE,MAAMkR,EAAA9Q,KAAAnB,OAAAjB,SAAEA,GAAQkT,EAAEjS,EAAAkS,EAAAD,GAAA,aACZ0zC,EAAYrnD,EAAMm3B,SAAS5oB,IAAI9N,EAAU,CAAC6mD,EAAO74C,IACrDzO,EAAAU,cAACsmD,GAAgBC,cAAc,EAAOC,eAAe,GAClDI,IAGL,OAAOtnD,EAAAU,cAACymD,EAAa5nD,OAAAuU,UAAKpS,GAAQ2lD,wKC7DtC,MAAAlB,EAAA3oD,EAAAF,EAAA,MAEAG,EAAAC,QAAeyoD,EAAAzoD,oVCFf,MAAAsC,EAAAC,EAAA3C,EAAA,IACAkK,EAAAlK,EAAA,GAEAW,EAAAX,EAAA,GAEAoK,EAAAlK,EAAAF,EAAA,MACAmK,EAAAjK,EAAAF,EAAA,MAEAqzB,EAAAnzB,EAAAF,EAAA,KAmBAG,EAAAC,QAAe8J,EAAAG,QACbF,EAAA/J,QACAgK,EAAAhK,QAFa8J,CAb8B,EAC3CujB,OACA/rB,WACAuoD,gBACA9mD,cAEAT,EAAAU,cAACiwB,EAAAjzB,SACC6C,OAAQwqB,IAAS/rB,EAAWf,EAAAoD,OAAOG,QAAUvD,EAAAoD,OAAOuW,UACpDiZ,QAAS,IAAM02B,EAAcx8B,IAE5BtqB,mFCxBL,MAEMkvB,GACJ43B,cAHFjqD,EAAA,KAGiBqhB,aAGjBlhB,EAAAC,QAAeiyB,qKCNf,MAAAhqB,EAAArI,EAAA,GAMMkyB,GACJxwB,SAHFxB,EAAAF,EAAA,MAGEI,SAGI+xB,EAAkB9pB,EAAA+pB,yBACtBF,GAEF/xB,EAAAC,QAAe+xB,iFCVfhyB,EAAAC,QAD0B+B,IAAoBA,EAAMT","file":"client.8433227d73984855f8cc.bundle.js","sourcesContent":["import \"./style.css\";\r\n\r\nimport styled from \"./styled\";\r\nexport default styled;\r\n\r\nexport * from \"./styles\";\r\nexport * from \"./theme\";\r\n\r\nexport * from \"./intent\";\r\n\r\nexport {\r\n  ThemeProvider,\r\n  ThemeProps,\r\n  ThemedOuterStyledProps,\r\n  injectGlobal,\r\n  css\r\n} from \"./styled\";\r\n","import {\r\n  AlignSelfProps,\r\n  JustifySelfProps,\r\n  SpaceProps,\r\n  alignSelf,\r\n  justifySelf,\r\n  space\r\n} from \"styled-system\";\r\n\r\nimport styled from \"@/style\";\r\n\r\nimport { TextProps as TextStyleProps, text } from \"@/style\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nexport type TextProps = TextStyleProps &\r\n  AlignSelfProps &\r\n  JustifySelfProps &\r\n  SpaceProps;\r\nconst Text = styled<TextProps, \"span\">(\"span\")`\r\n  ${text};\r\n  ${alignSelf};\r\n  ${justifySelf};\r\n  ${space};\r\n`;\r\nText.displayName = \"Text\";\r\nexport default attachProps(Text, {\r\n  H4: Text.withComponent(\"h4\") as StyledWithComponentTag<\"h4\", TextProps>,\r\n  Label: Text.withComponent(\"label\") as StyledWithComponentTag<\r\n    \"label\",\r\n    TextProps\r\n  >,\r\n  Div: Text.withComponent(\"div\") as StyledWithComponentTag<\"div\", TextProps>\r\n});\r\n","import { SaveGame } from \"oni-save-parser\";\r\nimport { EditMode } from \"@/services/save-structure\";\r\n\r\nexport type LoadingState = \"idle\" | \"loading\" | \"saving\" | \"ready\";\r\n\r\nexport interface AppState {\r\n  language: string;\r\n  loadingState: LoadingState;\r\n  loadingProgressMessage: string | null;\r\n  error: Error | null;\r\n  oniSave: SaveGame | null;\r\n  selectedPath: string[];\r\n  editMode: EditMode;\r\n}\r\nexport const defaultAppState: Readonly<AppState> = {\r\n  language: \"en\",\r\n  loadingState: \"idle\" as \"idle\",\r\n  loadingProgressMessage: null,\r\n  error: null,\r\n  oniSave: null,\r\n  selectedPath: [],\r\n  editMode: \"normal\"\r\n};\r\nObject.freeze(defaultAppState);\r\n","import { AppState } from \"@/state\";\r\n\r\nconst oniSaveSelector = (state: AppState) => state.oniSave;\r\nexport default oniSaveSelector;\r\n","import { forEach } from \"lodash-es\";\r\n\r\nexport function attachProps<\r\n  TTarget,\r\n  TSubComponents extends Record<string, any>\r\n>(component: TTarget, subComponents: TSubComponents): TTarget & TSubComponents {\r\n  const c = component as any;\r\n  forEach(subComponents, (component, key) => {\r\n    c[key] = component;\r\n  });\r\n  return c as any;\r\n}\r\n","import { AppState } from \"@/state\";\r\n\r\nconst selectedPathSelector = (state: AppState) => state.selectedPath;\r\nexport default selectedPathSelector;\r\n","import * as React from \"react\";\r\nimport { IntentProps, Border, Radius, Intent, Space, Color } from \"@/style\";\r\n\r\nimport Box from \"@/components/Box\";\r\nimport Text from \"@/components/Text\";\r\n\r\nexport interface NonIdealStatProps extends IntentProps {\r\n  header?: React.ReactNode;\r\n}\r\n\r\nconst Header = Text.H4.extend`\r\n  margin-top: 0;\r\n  width: auto;\r\n`;\r\nHeader.displayName = \"Header\";\r\nconst NonIdealState: React.SFC<NonIdealStatProps> = ({\r\n  intent,\r\n  header,\r\n  children\r\n}) => (\r\n  <Box width=\"100%\" height=\"100%\">\r\n    <Box\r\n      width=\"75%\"\r\n      intent={intent}\r\n      border={Border.Thick}\r\n      borderRadius={Radius.Medium}\r\n      borderColor={Color.HintIntent}\r\n      p={Space.Medium}\r\n      mx=\"auto\"\r\n      mt={Space.Large}\r\n    >\r\n      {header && (\r\n        <Header\r\n          intent={\r\n            intent === Intent.Default || intent === Intent.Hint\r\n              ? Intent.Primary\r\n              : intent\r\n          }\r\n        >\r\n          {header}\r\n        </Header>\r\n      )}\r\n      {children}\r\n    </Box>\r\n  </Box>\r\n);\r\nNonIdealState.displayName = \"NonIdealState\";\r\nexport default NonIdealState;\r\n","import { attachProps } from \"@/utils\";\r\n\r\nimport Box, { BoxProps } from \"@/components/Box\";\r\n\r\nimport {\r\n  AlignContentProps,\r\n  JustifyContentProps,\r\n  alignContent,\r\n  justifyContent\r\n} from \"styled-system\";\r\n\r\nexport interface FlexItemProps extends BoxProps {\r\n  grow?: boolean;\r\n  shrink?: boolean;\r\n  fillParent?: boolean;\r\n  constrain?: \"row\" | \"column\";\r\n}\r\n\r\nconst FlexItem = Box.extend<FlexItemProps>`\r\n  ${props => props.grow && \"flex-grow: 1\"};\r\n  ${props => props.shrink && \"flex-shrink: 1\"};\r\n  ${props =>\r\n    props.fillParent &&\r\n    (props.constrain ? \"flex: 0 1 auto\" : \"flex: 1 1 auto\")};\r\n  ${props =>\r\n    props.constrain &&\r\n    (props.constrain === \"row\"\r\n      ? [\"min-width: 0;\", \"width: 100%;\"]\r\n      : [\"min-height: 0;\", \"height: 100%;\"])};\r\n  ${props => props.shrink && \"min-height: 0;\"};\r\n  flex-basis: auto;\r\n  box-sizing: border-box;\r\n`;\r\nFlexItem.displayName = \"FlexItem\";\r\n\r\nexport interface FlexProps\r\n  extends BoxProps,\r\n    AlignContentProps,\r\n    JustifyContentProps {\r\n  direction: \"row\" | \"column\";\r\n}\r\n\r\nconst Flex = Box.extend<FlexProps>`\r\n  display: flex;\r\n  ${alignContent};\r\n  ${justifyContent};\r\n  flex-direction: ${props => props.direction};\r\n  align-items: stretch;\r\n`;\r\nFlex.displayName = \"Flex\";\r\n\r\nexport default attachProps(Flex, {\r\n  Item: FlexItem\r\n});\r\n","import * as styledComponents from \"styled-components\";\r\nimport {\r\n  ThemedStyledComponentsModule,\r\n  ThemedOuterStyledProps as _ThemedOuterStyledProps\r\n} from \"styled-components\";\r\n\r\nimport { Theme } from \"./theme\";\r\n\r\nconst {\r\n  default: styled,\r\n  css,\r\n  injectGlobal,\r\n  keyframes,\r\n  ThemeProvider\r\n} = styledComponents as ThemedStyledComponentsModule<Theme>;\r\n\r\nexport type ThemeProps = {\r\n  theme?: Theme;\r\n};\r\nexport type ThemedOuterStyledProps<P> = _ThemedOuterStyledProps<P, Theme>;\r\n\r\nexport { css, injectGlobal, keyframes, ThemeProvider };\r\nexport default styled;\r\n","export * from \"./utils\";\r\nexport * from \"./types\";\r\n","import * as React from \"react\";\r\nimport { FontSizeProps } from \"styled-system\";\r\n\r\nimport { Intent, Space } from \"@/style\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\nimport Box from \"@/components/Box\";\r\nimport Text from \"@/components/Text\";\r\n\r\nexport interface FormGroupProps extends FontSizeProps {\r\n  label: string;\r\n  inline?: boolean;\r\n  intent?: Intent;\r\n}\r\ntype Props = FormGroupProps;\r\nexport default class FormGroup extends React.Component<Props> {\r\n  render() {\r\n    const { label, intent, inline, fontSize } = this.props;\r\n\r\n    let children = this.props.children;\r\n\r\n    return (\r\n      <Flex direction={inline ? \"row\" : \"column\"} mb={Space.Small}>\r\n        <Text.Label\r\n          alignSelf=\"baseline\"\r\n          fontSize={fontSize}\r\n          mr={inline ? Space.Small : Space.None}\r\n          intent={intent}\r\n        >\r\n          {label}\r\n        </Text.Label>\r\n        <Box\r\n          width=\"100%\"\r\n          alignSelf=\"baseline\"\r\n          px={inline ? Space.None : Space.Medium}\r\n        >\r\n          {children}\r\n        </Box>\r\n      </Flex>\r\n    );\r\n  }\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Keys from \"@/keys\";\r\n\r\nimport { NumberPrecision, clamp, isFloatingPoint } from \"@/math\";\r\n\r\nimport Input from \"@/components/Input\";\r\n\r\nexport interface NumericInputProps {\r\n  value: number;\r\n  minValue?: number;\r\n  maxValue?: number;\r\n  precision?: NumberPrecision;\r\n  onCommit(value: number): void;\r\n}\r\n\r\ntype Props = NumericInputProps;\r\ninterface State {\r\n  editValue: string | null;\r\n  validationMessage: string | null;\r\n}\r\nexport default class NumericInput extends React.Component<Props, State> {\r\n  private _input = React.createRef<HTMLInputElement>();\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      editValue: null,\r\n      validationMessage: null\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { value, minValue, maxValue, precision } = this.props;\r\n    const { editValue } = this.state;\r\n\r\n    const currentValue = editValue != null ? editValue : value;\r\n\r\n    const step = isFloatingPoint(precision || \"int32\") ? \"any\" : 1;\r\n\r\n    return (\r\n      <Input\r\n        innerRef={this._input}\r\n        type=\"number\"\r\n        min={minValue}\r\n        max={maxValue}\r\n        value={currentValue}\r\n        onChange={this._onValueChange}\r\n        onKeyPress={this._onInputKeyPress}\r\n        onBlur={this._onInputBlur}\r\n        step={step}\r\n      />\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onValueChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const { minValue, maxValue } = this.props;\r\n    const editValue = e.target.value;\r\n    const numberValue = parseFloat(editValue);\r\n    let validationMessage: string | null = null;\r\n\r\n    if (maxValue != null && numberValue > maxValue) {\r\n      validationMessage = `Value must be less than ${maxValue}`;\r\n    } else if (minValue != null && numberValue < minValue) {\r\n      validationMessage = `Value must be greater than ${minValue}`;\r\n    }\r\n\r\n    e.target.setCustomValidity(validationMessage || \"\");\r\n\r\n    this.setState({\r\n      editValue,\r\n      validationMessage\r\n    });\r\n  }\r\n\r\n  @autobind()\r\n  private _onInputKeyPress(e: React.KeyboardEvent<HTMLInputElement>) {\r\n    if (e.key === Keys.Enter) {\r\n      this._commitEdit();\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onInputBlur() {\r\n    this._commitEdit();\r\n  }\r\n\r\n  private _commitEdit() {\r\n    const { editValue, validationMessage } = this.state;\r\n    const { precision = \"int32\", onCommit } = this.props;\r\n\r\n    // Reset validation\r\n    if (validationMessage && this._input.current) {\r\n      this._input.current.setCustomValidity(\"\");\r\n    }\r\n\r\n    this.setState({\r\n      editValue: null,\r\n      validationMessage: null\r\n    });\r\n\r\n    if (!editValue || validationMessage) {\r\n      return;\r\n    }\r\n\r\n    const numberValue = parseFloat(editValue);\r\n    if (isNaN(numberValue)) {\r\n      return;\r\n    }\r\n\r\n    const newValue = clamp(precision, numberValue);\r\n    if (isNaN(newValue)) {\r\n      return;\r\n    }\r\n\r\n    onCommit(newValue);\r\n  }\r\n}\r\n","import { createSelector, Selector } from \"reselect\";\r\n\r\nimport { memoize, get } from \"lodash-es\";\r\n\r\nimport { BehaviorName, GameObjectBehavior, getBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport getSelectedGameObject from \"@/selectors/game-object\";\r\n\r\nfunction createCurrentGameObjectBehaviorSelector<T extends GameObjectBehavior>(\r\n  behaviorName: BehaviorName<T>\r\n): Selector<AppState, T | null> {\r\n  return createSelector(getSelectedGameObject, gameObject => {\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n\r\n    return getBehavior(gameObject, behaviorName) || null;\r\n  });\r\n}\r\n\r\n// Using an inline function breaks the inference of the behavior.\r\nexport const getCurrentGameObjectBehaviorSelector = memoize(\r\n  createCurrentGameObjectBehaviorSelector\r\n) as typeof createCurrentGameObjectBehaviorSelector;\r\n\r\nexport function createCurrentGameObjectBehaviorPropertySelector<\r\n  T extends GameObjectBehavior,\r\n  TResult\r\n>(\r\n  behaviorName: BehaviorName<T>,\r\n  valueSelector: string[] | Selector<T, TResult>\r\n): Selector<AppState, TResult | null> {\r\n  let valueSelectFunc: Selector<T, TResult>;\r\n  if (Array.isArray(valueSelector)) {\r\n    valueSelectFunc = behavior => get(behavior, valueSelector);\r\n  } else {\r\n    valueSelectFunc = valueSelector;\r\n  }\r\n\r\n  const behaviorSelector = getCurrentGameObjectBehaviorSelector(behaviorName);\r\n  return createSelector(behaviorSelector, behavior => {\r\n    if (!behavior) {\r\n      return null;\r\n    }\r\n    return valueSelectFunc(behavior);\r\n  });\r\n}\r\n\r\ntype getCGOBByPath = <T extends GameObjectBehavior, TResult>(\r\n  behaviorName: BehaviorName<T>,\r\n  valuePath: string[]\r\n) => Selector<AppState, TResult>;\r\n\r\nexport const getCurrentGameObjectBehaviorPropertySelector = memoize(\r\n  createCurrentGameObjectBehaviorPropertySelector,\r\n  (behaviorName: string, behaviorPath: string[]) =>\r\n    [behaviorName, behaviorPath.join(\".\")].join(\"::\")\r\n) as getCGOBByPath;\r\n","import { BehaviorName, GameObjectBehavior, getBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { produceFromGameObject } from \"@/reducer/game-object/utils\";\r\n\r\nexport function produceFromBehavior<TBehav extends GameObjectBehavior>(\r\n  state: AppState,\r\n  behaviorName: BehaviorName<TBehav>,\r\n  producer: (behavior: TBehav) => void\r\n): AppState {\r\n  return produceFromGameObject(state, gameObject => {\r\n    const behavior = getBehavior(gameObject, behaviorName);\r\n    if (!behavior) {\r\n      return;\r\n    }\r\n\r\n    return producer(behavior);\r\n  });\r\n}\r\n","import {\r\n  AlignSelfProps,\r\n  JustifySelfProps,\r\n  WidthProps,\r\n  HeightProps,\r\n  SpaceProps,\r\n  alignSelf,\r\n  justifySelf,\r\n  width,\r\n  height,\r\n  space\r\n} from \"styled-system\";\r\n\r\nimport styled, {\r\n  BorderProps,\r\n  IntentBorderProps,\r\n  intentBorder,\r\n  IntentProps,\r\n  border,\r\n  intent\r\n} from \"@/style\";\r\n\r\nexport type BoxProps = AlignSelfProps &\r\n  JustifySelfProps &\r\n  WidthProps &\r\n  HeightProps &\r\n  SpaceProps &\r\n  BorderProps &\r\n  IntentBorderProps &\r\n  IntentProps;\r\n\r\nconst Box = styled<BoxProps, \"div\">(\"div\")`\r\n  ${alignSelf};\r\n  ${justifySelf};\r\n  ${width};\r\n  ${height};\r\n  ${space};\r\n  ${border};\r\n  /* ${intentBorder}; */\r\n  ${intent};\r\n  box-sizing: border-box;\r\n`;\r\nBox.displayName = \"Box\";\r\nBox.defaultProps = {\r\n  intentIsBg: false\r\n};\r\nexport default Box;\r\n","import NumericInput from \"@/components/NumericInput\";\r\n\r\nimport connectEditorField from \"./connect-field\";\r\n\r\nexport default connectEditorField()(NumericInput);\r\n","import { connect } from \"react-redux\";\r\n\r\nexport * from \"./props\";\r\n\r\nimport { EditorFieldProps } from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\nimport { AppState } from \"@/state\";\r\n\r\nexport type InjectedProps = StateProps & DispatchProps;\r\n\r\nexport default function connectEditorField() {\r\n  return connect<StateProps, DispatchProps, EditorFieldProps, AppState>(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  );\r\n}\r\n","import { GameObjectBehavior, BehaviorName } from \"oni-save-parser\";\r\n\r\nexport const ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE =\r\n  \"oni-save/current-object/behaviors/set-value\";\r\nexport function setCurrentObjectBehaviorValue<T extends GameObjectBehavior>(\r\n  behaviorName: BehaviorName<T>,\r\n  path: string[],\r\n  value: any\r\n) {\r\n  return {\r\n    type: ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE as typeof ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE,\r\n    payload: { behaviorName, path, value }\r\n  };\r\n}\r\nexport type SetCurrentObjectBehaviorValueAction<\r\n  T extends GameObjectBehavior = GameObjectBehavior\r\n> = {\r\n  type: typeof ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE;\r\n  payload: {\r\n    behaviorName: BehaviorName<T>;\r\n    path: string[];\r\n    value: any;\r\n  };\r\n};\r\n","export * from \"./props\";\r\nimport SaveStructureLink from \"./SaveStructureLink\";\r\nexport default SaveStructureLink;\r\n","import { WidthProps, width } from \"styled-system\";\r\n\r\nimport styled, { TextProps, getTheme, text, css } from \"@/style\";\r\n\r\n// Note: Should extend TextCssProps, but doing so causes some odd typing issues\r\n//  Props will somehow demand but refuse 'ref'\r\nexport interface InputStyleProps extends TextProps, WidthProps {}\r\n\r\nexport const inputStyle = css<InputStyleProps>`\r\n  ${text};\r\n  ${width};\r\n  padding: 2px;\r\n  background-color: ${props => getTheme(props).colors.bg.panel};\r\n  border: ${props => getTheme(props).borders[1]};\r\n  border-color: ${props => getTheme(props).colors.intent.secondary};\r\n  &:focus {\r\n    border-color: ${props => getTheme(props).colors.intent.primary};\r\n    outline: none;\r\n  }\r\n  &:invalid {\r\n    border-color: ${props => getTheme(props).colors.intent.dangerous};\r\n  }\r\n`;\r\n\r\nconst Input = styled<InputStyleProps, \"input\">(\"input\")`\r\n  ${inputStyle};\r\n`;\r\nInput.displayName = \"Input\";\r\n\r\nexport type InputProps = StyledComponentProps<typeof Input>;\r\nexport default Input;\r\n","export * from \"./theme\";\r\n\r\nexport { Color, getThemeColor } from \"./colors\";\r\nexport { Border, getThemeBorder } from \"./borders\";\r\nexport { FontSize } from \"./font-sizes\";\r\nexport { Radius, getThemeRadius } from \"./radii\";\r\nexport { Space, getThemeSpace } from \"./space\";\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nexport const ACTION_RECEIVE_ONISAVE_BEGIN = \"oni-save/receive:begin\";\r\nexport const receiveOniSaveBegin = (\r\n  operation: \"loading\" | \"saving\",\r\n  clearExisting?: boolean\r\n) => ({\r\n  type: ACTION_RECEIVE_ONISAVE_BEGIN as typeof ACTION_RECEIVE_ONISAVE_BEGIN,\r\n  payload: { operation, clearExisting }\r\n});\r\nexport type ReceiveOniSaveBeginAction = ReturnType<typeof receiveOniSaveBegin>;\r\n\r\nexport const ACTION_RECEIVE_ONISAVE_ERROR = \"oni-save/receive:error\";\r\nexport const receiveOniSaveError = (error: Error) => ({\r\n  type: ACTION_RECEIVE_ONISAVE_ERROR as typeof ACTION_RECEIVE_ONISAVE_ERROR,\r\n  payload: error\r\n});\r\nexport type ReceiveOniSaveErrorAction = ReturnType<typeof receiveOniSaveError>;\r\n\r\nexport const ACTION_RECEIVE_ONISAVE_SUCCESS = \"oni-save/receive:success\";\r\nexport const receiveOniSaveSuccess = (oniSave: SaveGame) => ({\r\n  type: ACTION_RECEIVE_ONISAVE_SUCCESS as typeof ACTION_RECEIVE_ONISAVE_SUCCESS,\r\n  payload: oniSave\r\n});\r\nexport type ReceiveOniSaveSuccessAction = ReturnType<\r\n  typeof receiveOniSaveSuccess\r\n>;\r\n\r\nexport type ReceiveOniSaveAction =\r\n  | ReceiveOniSaveBeginAction\r\n  | ReceiveOniSaveErrorAction\r\n  | ReceiveOniSaveSuccessAction;\r\n","import * as React from \"react\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\n\r\nimport EditorHeader from \"./EditorHeader\";\r\nimport { Space } from \"@/style\";\r\n\r\nexport interface EditorContainerProps {\r\n  header: React.ReactNode;\r\n}\r\nconst EditorContainer: React.SFC<EditorContainerProps> = ({\r\n  header,\r\n  children\r\n}) => (\r\n  <Flex direction=\"column\" width=\"100%\" height=\"100%\">\r\n    <EditorHeader>{header}</EditorHeader>\r\n    <Flex.Item fillParent constrain=\"column\" p={Space.Small}>\r\n      {children}\r\n    </Flex.Item>\r\n  </Flex>\r\n);\r\nEditorContainer.displayName = \"EditorContainer\";\r\nexport default EditorContainer;\r\n","import DataTable from \"./DataTable\";\r\nexport default DataTable;\r\nexport * from \"./DataTable\";\r\n","import { includes } from \"lodash\";\r\n\r\nexport enum Intent {\r\n  Default = \"default\",\r\n  Primary = \"primary\",\r\n  Secondary = \"secondary\",\r\n  Dangerous = \"dangerous\",\r\n  Hint = \"hint\"\r\n}\r\n\r\nexport function isIntent(str: string | null | undefined): str is Intent {\r\n  return includes(Intent, str);\r\n}\r\n","import { createSelector } from \"reselect\";\r\n\r\nimport { GameObject } from \"oni-save-parser\";\r\n\r\nimport { get } from \"lodash-es\";\r\n\r\nimport { getLastSaveItemOfType } from \"@/services/save-structure\";\r\n\r\nimport selectedPath from \"./selected-path\";\r\nimport oniSave from \"./oni-save\";\r\n\r\n/**\r\n * Gets the path to the deepest game object in the selected path.\r\n *\r\n */\r\nexport const getGameObjectPathInSelection = createSelector(\r\n  selectedPath,\r\n  oniSave,\r\n  (path, oniSave) => {\r\n    if (!path || !oniSave) {\r\n      return null;\r\n    }\r\n\r\n    const found = getLastSaveItemOfType(\"game-object\", path, oniSave);\r\n    if (!found) {\r\n      return null;\r\n    }\r\n    return found.path;\r\n  }\r\n);\r\n\r\nexport const getSelectedGameObject = createSelector(\r\n  oniSave,\r\n  getGameObjectPathInSelection,\r\n  (oniSave, path) => {\r\n    if (!oniSave || !path) {\r\n      return null;\r\n    }\r\n\r\n    return get(oniSave, path) as GameObject;\r\n  }\r\n);\r\n\r\nexport const getSelectedGameObjectPosition = createSelector(\r\n  getSelectedGameObject,\r\n  gameObject => {\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n    return gameObject.position;\r\n  }\r\n);\r\n\r\nexport const getSelectedGameObjectScale = createSelector(\r\n  getSelectedGameObject,\r\n  gameObject => {\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n    return gameObject.scale;\r\n  }\r\n);\r\n\r\nexport default getSelectedGameObject;\r\n","import { createSelector } from \"reselect\";\r\n\r\nimport { getSaveItemEditValue } from \"@/services/save-structure\";\r\n\r\nimport selectedPath from \"./selected-path\";\r\nimport oniSave from \"./oni-save\";\r\n\r\nconst selectedValueSelector = createSelector(\r\n  oniSave,\r\n  selectedPath,\r\n  (saveGame, selectedPath) => {\r\n    if (!saveGame) {\r\n      return null;\r\n    }\r\n\r\n    if (selectedPath.length === 0) {\r\n      return saveGame;\r\n    }\r\n\r\n    return getSaveItemEditValue(selectedPath, saveGame);\r\n  }\r\n);\r\nexport default selectedValueSelector;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Input from \"@/components/Input\";\r\n\r\nexport interface CheckInputProps {\r\n  value: boolean;\r\n  onCommit(value: boolean): void;\r\n}\r\n\r\ntype Props = CheckInputProps;\r\nexport default class CheckInput extends React.Component<Props> {\r\n  render() {\r\n    const { value } = this.props;\r\n    return (\r\n      <Input type=\"checkbox\" checked={value} onChange={this._onValueChange} />\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onValueChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const { onCommit } = this.props;\r\n    const value = e.target.checked;\r\n    onCommit(value);\r\n  }\r\n}\r\n","import i18n from \"./i18n\";\r\nexport default i18n;\r\n","import platform from \"platform\";\r\n\r\nconst OS_WINDOWS = /windows/i;\r\nconst OS_MAC = /Mac|iOS|(OS\\ X)/;\r\nconst OS_LINUX = /linux/i;\r\n\r\nexport type OSType = \"windows\" | \"mac\" | \"linux\" | \"unknown\";\r\n\r\nconst osPlatform = (platform.os && platform.os.family) || \"unknown\";\r\nexport const OSType: OSType = OS_WINDOWS.test(osPlatform)\r\n  ? \"windows\"\r\n  : OS_MAC.test(osPlatform)\r\n    ? \"mac\"\r\n    : OS_LINUX.test(osPlatform)\r\n      ? \"linux\"\r\n      : \"unknown\";\r\n\r\nexport const isProd: boolean = process.env.NODE_ENV === \"production\";\r\n","import { css } from \"../styled\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { Intent } from \"../intent\";\r\n\r\nimport { Color, getThemeColor } from \"../theme\";\r\n\r\nexport interface IntentColorProps {\r\n  intent?: Intent;\r\n}\r\n\r\nconst intentColorOf = (intent: Intent) => css`\r\n  color: ${getThemeColor(Color.fromIntent(intent))};\r\n`;\r\n\r\nconst intentColorFromProps = css<IntentColorProps>`\r\n  ${props => intentColorOf(props.intent || Intent.Default)};\r\n`;\r\n\r\nexport const intentColor = attachProps(intentColorFromProps, {\r\n  of: intentColorOf\r\n});\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nimport gameObjectsStructure from \"./gameObjects\";\r\nimport { SaveStructureDef } from \"./types\";\r\n\r\n// The default 'any' makes this useful for variables, but useless for asignment.\r\n//  This is because type 'any' includes all fields, and overrides our selective\r\n//  exclusion of $-prefix fields\r\nconst defaultAdvancedField: SaveStructureDef<{}> = { $advanced: true };\r\n\r\nconst saveStructure: SaveStructureDef<SaveGame> = {\r\n  $type: \"save-root\",\r\n  $uiPathName: (obj: SaveGame) => obj.header.gameInfo.baseName || \"Save Game\",\r\n\r\n  /**\r\n   * Version info and precalculated values.\r\n   * Changing this stuff can confuse the game or display bad data\r\n   * for the loading screen.\r\n   */\r\n  header: defaultAdvancedField,\r\n\r\n  /**\r\n   * Data templates for the rest of the save.  Changing anything in here\r\n   * is guarenteed to result in a corrupt save.\r\n   */\r\n  templates: defaultAdvancedField,\r\n\r\n  /**\r\n   * World width and height, and opaque engine data we do not understand.\r\n   * Contents of the worldmap and state of the fluid/gas/electrical networks\r\n   * live in here.\r\n   */\r\n  world: defaultAdvancedField,\r\n\r\n  /**\r\n   * Settings for the master game object handler.\r\n   * None of these are related to user-settings, and changing them\r\n   * will most likely result in an immediately or eventually corrupt save.\r\n   */\r\n  settings: defaultAdvancedField,\r\n\r\n  /**\r\n   * Game version info.  Should mirror the same data\r\n   * stored in header.\r\n   * Should never be touched, as ONI makes decisions on how to load the file\r\n   * based on this.\r\n   */\r\n  version: defaultAdvancedField,\r\n\r\n  /**\r\n   * Game objects.  These are the interesting bits\r\n   */\r\n  gameObjects: gameObjectsStructure,\r\n\r\n  /**\r\n   * Another blob of generalized non-object-specific game data\r\n   */\r\n  gameData: {\r\n    $type: \"template-object\",\r\n    $subType: \"Game+GameSaveData\",\r\n    $advanced: true,\r\n\r\n    /**\r\n     * Presumably tracks the flow of material through the gas conduits.\r\n     * I am reasonably sure this also ties into native game data,\r\n     * and changing this will probably get the engine into an\r\n     * inconsistant state.\r\n     */\r\n    gasConduitFlow: defaultAdvancedField,\r\n\r\n    /**\r\n     * Presumably tracks the flow of material through the loquid conduits.\r\n     * I am reasonably sure this also ties into native game data,\r\n     * and changing this will probably get the engine into an\r\n     * inconsistant state.\r\n     */\r\n    liquidConduitFlow: defaultAdvancedField,\r\n\r\n    /**\r\n     * Probably deals with limiting the area of the map that the game is running logic for.\r\n     */\r\n    simActiveRegionMin: defaultAdvancedField,\r\n\r\n    /**\r\n     * Probably deals with limiting the area of the map that the game is running logic for.\r\n     */\r\n    simActiveRegionMax: defaultAdvancedField,\r\n\r\n    fallingWater: defaultAdvancedField,\r\n\r\n    unstableGround: defaultAdvancedField,\r\n\r\n    /**\r\n     * While this does contain (multiple) worldgen seeds,\r\n     *  all seeds are the same and reflect the definitivie chosen seed in customGameSettings.\r\n     * It also has a bunch of polygons indicating regions of the overworld.  Not sure what it represents,\r\n     *  might be biome regions.\r\n     */\r\n    worldDetail: defaultAdvancedField,\r\n\r\n    customGameSettings: defaultAdvancedField\r\n  }\r\n};\r\nexport default saveStructure;\r\n","import { isObject } from \"lodash-es\";\r\nimport { GameObjectBehavior, GameObjectGroup } from \"oni-save-parser\";\r\n\r\nexport function gameObjectIs(type: string): (obj: GameObjectGroup) => boolean {\r\n  return obj => isObject(obj) && obj.name === type;\r\n}\r\n\r\nexport function behaviorIs(type: string): (obj: GameObjectBehavior) => boolean {\r\n  return obj => isObject(obj) && obj.name === type;\r\n}\r\n","import { GameObject, KPrefabIDBehavior, getBehavior } from \"oni-save-parser\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\n\r\nimport behavior from \"../behaviors\";\r\n\r\nexport const defaultGameObject: SaveStructureDef<GameObject> = {\r\n  $type: \"game-object\",\r\n\r\n  $uiPathName(obj: GameObject) {\r\n    const idBehavior = getBehavior(obj, KPrefabIDBehavior);\r\n    const id =\r\n      (idBehavior &&\r\n        idBehavior.templateData &&\r\n        idBehavior.templateData.InstanceID) ||\r\n      \"[malformed]\";\r\n    const pos = `(${obj.position.x.toFixed(0)}, ${obj.position.y.toFixed(0)})`;\r\n    return `#${id} ${pos}`;\r\n  },\r\n\r\n  $uiChildren(gameObject: GameObject) {\r\n    const { behaviors } = gameObject;\r\n    if (!behaviors) {\r\n      return [];\r\n    }\r\n\r\n    return behaviors.map((_, i) => [\"behaviors\", `${i}`]);\r\n  },\r\n\r\n  behaviors: {\r\n    $uiPathName: false,\r\n    \"*\": behavior\r\n  }\r\n};\r\n","import {\r\n  GameObjectBehavior,\r\n  SaveGame,\r\n  getTypeCode,\r\n  SerializationTypeCode,\r\n  TypeTemplate,\r\n  TypeInfo,\r\n  LIST_TYPES\r\n} from \"oni-save-parser\";\r\n\r\nimport { get, isObject } from \"lodash-es\";\r\n\r\nimport { getLastSaveItemOfType } from \"../../../utils\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\n\r\nconst defaultBehaviorTemplateDataObj: SaveStructureDef<{}> = {\r\n  $type: \"template-object\",\r\n  $subType(_: any, path: string[], saveGame: SaveGame) {\r\n    const found = getLastSaveItemOfType(\"game-object-behavior\", path, saveGame);\r\n    if (!found) {\r\n      return null;\r\n    }\r\n\r\n    const { templates } = saveGame;\r\n\r\n    // Check that the template exists\r\n    let template: TypeTemplate | undefined = templates.find(\r\n      x => x.name === found.item.name\r\n    );\r\n    if (!template) {\r\n      return null;\r\n    }\r\n\r\n    // +1 for templateData\r\n    const subPath = path.slice(found.path.length + 1);\r\n\r\n    // Chase the path up the template to see if we have entered\r\n    //  any sub-templates.\r\n\r\n    for (let i = 0; i < subPath.length; i++) {\r\n      const part = subPath[i];\r\n\r\n      const member =\r\n        template.fields.find(x => x.name === part) ||\r\n        template.properties.find(x => x.name === part);\r\n      if (!member) {\r\n        break;\r\n      }\r\n\r\n      const typeInfo: TypeInfo = member.type;\r\n      const code = getTypeCode(typeInfo.info);\r\n\r\n      if (code === SerializationTypeCode.UserDefined) {\r\n        template = templates.find(x => x.name === typeInfo.templateName);\r\n        if (template == null) {\r\n          // Unknown template.\r\n          return null;\r\n        }\r\n      } else if (LIST_TYPES.indexOf(code) !== -1) {\r\n        i++;\r\n\r\n        if (\r\n          getTypeCode(typeInfo.subTypes![0].info) ===\r\n          SerializationTypeCode.UserDefined\r\n        ) {\r\n          const arrayTypeInfo = typeInfo.subTypes![0];\r\n          template = templates.find(x => x.name === arrayTypeInfo.templateName);\r\n          if (template == null) {\r\n            // Unknown template.\r\n            return null;\r\n          }\r\n        }\r\n      } else if (code === SerializationTypeCode.Dictionary) {\r\n        i++;\r\n        if (\r\n          getTypeCode(typeInfo.subTypes![1].info) ===\r\n          SerializationTypeCode.UserDefined\r\n        ) {\r\n          const arrayTypeInfo = typeInfo.subTypes![1];\r\n          template = templates.find(x => x.name === arrayTypeInfo.templateName);\r\n          if (template == null) {\r\n            // Unknown template.\r\n            return null;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return template.name;\r\n  },\r\n\r\n  $uiPathName: false,\r\n\r\n  $uiChildren(value: any) {\r\n    let keys = (isObject(value) && Object.keys(value)) || [];\r\n    keys = keys.filter(x => isObject(value[x]));\r\n    if (keys.length === 0) {\r\n      return false;\r\n    }\r\n    return keys.map(x => [x]);\r\n  }\r\n};\r\ndefaultBehaviorTemplateDataObj[\"*\"] = defaultBehaviorTemplateDataObj;\r\n\r\nexport const defaultBehavior: SaveStructureDef<GameObjectBehavior> = {\r\n  $type: \"game-object-behavior\",\r\n  $subType(value: GameObjectBehavior) {\r\n    return value.name;\r\n  },\r\n\r\n  $advanced: true,\r\n\r\n  $uiPathName(behavior: GameObjectBehavior) {\r\n    return behavior.name;\r\n  },\r\n\r\n  $uiChildren(behavior: GameObjectBehavior) {\r\n    const children: string[][] = [];\r\n    if (\r\n      behavior.templateData &&\r\n      Object.keys(behavior.templateData).length > 0\r\n    ) {\r\n      // forEach(behavior.templateData, (_, key) => {\r\n      //   if (isObject(behavior.templateData[key])) {\r\n      //     children.push([\"templateData\", key]);\r\n      //   }\r\n      // });\r\n      children.push([\"templateData\"]);\r\n    }\r\n    if (behavior.extraData) {\r\n      children.push([\"extraData\"]);\r\n    }\r\n    return children.length > 0 ? children : false;\r\n  },\r\n\r\n  templateData: {\r\n    $uiPathName: false,\r\n    $type: \"template-object\",\r\n    $subType(_: any, path: string[], saveGame: SaveGame) {\r\n      const gameObject = get(saveGame, path.slice(0, -1)) as GameObjectBehavior;\r\n      return gameObject ? gameObject.name : null;\r\n    },\r\n\r\n    $uiChildren(value: any) {\r\n      return Object.keys(value)\r\n        .filter(x => isObject(value[x]))\r\n        .map(x => [x]);\r\n    },\r\n\r\n    \"*\": defaultBehaviorTemplateDataObj\r\n  } as SaveStructureDef<{}>\r\n};\r\n","export const ACTION_ONISAVE_MODIFY = \"oni-save/modify\";\r\nexport const modifyOniSave = (path: string[], value: any) => ({\r\n  type: ACTION_ONISAVE_MODIFY as typeof ACTION_ONISAVE_MODIFY,\r\n  payload: { path, value }\r\n});\r\nexport type ModifyOniSaveAction = ReturnType<typeof modifyOniSave>;\r\n","export const ACTION_ONISAVE_PARSE_PROGRESS = \"onisave/parse-progress\";\r\nexport const parseProgress = (message: string) => ({\r\n  type: ACTION_ONISAVE_PARSE_PROGRESS as typeof ACTION_ONISAVE_PARSE_PROGRESS,\r\n  payload: { message }\r\n});\r\nexport type ParseProgressAction = ReturnType<typeof parseProgress>;\r\n","export const ACTION_SELECT_PATH = \"editor/select-path\";\r\nexport const selectPath = (path: string[]) => ({\r\n  type: ACTION_SELECT_PATH as typeof ACTION_SELECT_PATH,\r\n  payload: path\r\n});\r\nexport type SelectPathAction = ReturnType<typeof selectPath>;\r\n","import * as React from \"react\";\r\n\r\nimport { SpaceProps, space } from \"styled-system\";\r\n\r\nimport styled, {\r\n  Space,\r\n  FontSize,\r\n  Radius,\r\n  VerticalAlignProps,\r\n  getThemeRadius,\r\n  verticalAlign\r\n} from \"@/style\";\r\n\r\nimport { Intent, getTheme, intentFill } from \"@/style\";\r\n\r\nexport interface ButtonProps extends SpaceProps, VerticalAlignProps {\r\n  intent?: Intent;\r\n  onClick?(e: React.MouseEvent<HTMLDivElement>): void;\r\n}\r\n\r\nconst Button = styled<ButtonProps, \"button\">(\"button\")`\r\n  ${intentFill};\r\n  ${verticalAlign};\r\n  ${space} border: none;\r\n  user-select: none;\r\n  border-radius: ${getThemeRadius(Radius.Button)}px;\r\n  font-size: ${props => getTheme(props).fontSizes[FontSize.Button]}px;\r\n  cursor: pointer;\r\n`;\r\nButton.displayName = \"Button\";\r\nButton.defaultProps = {\r\n  intent: Intent.Default,\r\n  m: Space.Small\r\n};\r\n\r\nexport default Button;\r\n","import EditModeCondition from \"./EditModeCondition\";\r\nexport default EditModeCondition;\r\n","import { AppState } from \"@/state\";\r\n\r\nconst editModeSelector = (state: AppState) => state.editMode;\r\nexport default editModeSelector;\r\n","const Keys = {\r\n  Enter: \"Enter\",\r\n  Esc: \"Escape\"\r\n};\r\n\r\nexport default Keys;\r\n","interface ConstrainedArrayConstructor {\r\n  new (length: number): {\r\n    [value: number]: number;\r\n  };\r\n}\r\n\r\nfunction createClamp(\r\n  type: ConstrainedArrayConstructor\r\n): (value: number) => number {\r\n  const clampArray = new type(1);\r\n  return (value: number) => {\r\n    clampArray[0] = value;\r\n    return clampArray[0];\r\n  };\r\n}\r\n\r\nexport type NumberPrecision =\r\n  | \"int8\"\r\n  | \"uint8\"\r\n  | \"int16\"\r\n  | \"uint16\"\r\n  | \"int32\"\r\n  | \"uint32\"\r\n  | \"single\"\r\n  | \"double\";\r\n\r\nexport const clampInt8 = createClamp(Int8Array);\r\nexport const clampUInt8 = createClamp(Uint8Array);\r\n\r\nexport const clampInt16 = createClamp(Int16Array);\r\nexport const clampUInt16 = createClamp(Uint16Array);\r\n\r\nexport const clampInt32 = createClamp(Int32Array);\r\nexport const clampUInt32 = createClamp(Uint32Array);\r\n\r\nexport const clampSingle = createClamp(Float32Array);\r\nexport const clampDouble = createClamp(Float64Array);\r\n\r\nconst CLAMPS_BY_PRECISION: Record<\r\n  NumberPrecision,\r\n  (value: number) => number\r\n> = {\r\n  int8: clampInt8,\r\n  uint8: clampUInt8,\r\n  int16: clampInt16,\r\n  uint16: clampUInt16,\r\n  int32: clampInt32,\r\n  uint32: clampUInt32,\r\n  single: clampSingle,\r\n  double: clampDouble\r\n};\r\n\r\nexport function clamp(precision: NumberPrecision, value: number): number {\r\n  const clamper = CLAMPS_BY_PRECISION[precision];\r\n  if (!clamper) {\r\n    throw new Error(`Unknown precision \"${precision}\".`);\r\n  }\r\n\r\n  return clamper(value);\r\n}\r\n\r\nexport function isFloatingPoint(\r\n  precision: NumberPrecision\r\n): precision is \"single\" | \"double\" {\r\n  return precision === \"single\" || precision === \"double\";\r\n}\r\n\r\nexport function compare(a: number, b: number, sortAscending?: boolean) {\r\n  if (a > b) return sortAscending ? 1 : -1;\r\n  if (a < b) return sortAscending ? -1 : 1;\r\n  return 0;\r\n}\r\n","import GameObjectHeader from \"./GameObjectHeader\";\r\nexport default GameObjectHeader;\r\n","import * as React from \"react\";\r\n\r\nimport { FontSizeProps, SpaceProps, fontSize, space } from \"styled-system\";\r\n\r\nimport {\r\n  FontAwesomeIcon,\r\n  Props as FontAwesomeIconProps\r\n} from \"@fortawesome/react-fontawesome\";\r\n\r\nimport {\r\n  faCog,\r\n  faLanguage,\r\n  faPencilAlt,\r\n  IconDefinition\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { faGithubSquare } from \"@fortawesome/free-brands-svg-icons\";\r\n\r\nimport styled, {\r\n  IntentColorProps,\r\n  VerticalAlignProps,\r\n  Space,\r\n  intentColor,\r\n  verticalAlign\r\n} from \"@/style\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nexport type IconProps = FontAwesomeIconProps &\r\n  IntentColorProps &\r\n  SpaceProps &\r\n  VerticalAlignProps &\r\n  FontSizeProps;\r\nconst CleanFontAwesomeIcon: React.SFC<IconProps> = ({\r\n  verticalAlign,\r\n  ...props\r\n}) => <FontAwesomeIcon {...props} />;\r\nconst Icon = styled<IconProps>(CleanFontAwesomeIcon)`\r\n  ${intentColor};\r\n  ${fontSize};\r\n  ${verticalAlign};\r\n  ${space};\r\n`;\r\nIcon.defaultProps = {\r\n  m: Space.Small\r\n};\r\n\r\nfunction createIcon(\r\n  icon: IconDefinition\r\n): React.SFC<Omit<IconProps, \"icon\" | \"ref\">> {\r\n  return props => <Icon {...props} icon={icon} />;\r\n}\r\n\r\nconst GithubIcon = createIcon(faGithubSquare);\r\nconst LanguageIcon = createIcon(faLanguage);\r\nconst PencilIcon = createIcon(faPencilAlt);\r\nconst SettingsIcon = createIcon(faCog);\r\n\r\nexport default attachProps(Icon, {\r\n  Github: GithubIcon,\r\n  Language: LanguageIcon,\r\n  Pencil: PencilIcon,\r\n  Settings: SettingsIcon\r\n});\r\n","import * as React from \"react\";\r\n\r\nimport Select, { SelectProps, Option } from \"@/components/Select\";\r\n\r\nexport type SelectInputProps = Omit<\r\n  SelectProps,\r\n  \"value\" | \"options\" | \"onChange\"\r\n> & {\r\n  value: any;\r\n  options: Option<any>[];\r\n  onCommit(value: any): void;\r\n};\r\n\r\ntype Props = SelectInputProps;\r\nexport default class SelectInput extends React.Component<Props> {\r\n  static defaultProps = {\r\n    clearable: false\r\n  };\r\n\r\n  render() {\r\n    const { value, options, onCommit, ...props } = this.props;\r\n\r\n    return (\r\n      <Select {...props} value={value} options={options} onChange={onCommit} />\r\n    );\r\n  }\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport { TypeInfo, SerializationTypeCode, getTypeCode } from \"oni-save-parser\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\n\r\nimport { EditorFieldProps } from \"./connect-field\";\r\n\r\nimport ArrayLikeField from \"./ArrayLikeField\";\r\nimport CheckField from \"./CheckField\";\r\nimport ColorField from \"./ColorField\";\r\nimport DictionaryField from \"./DictionaryField\";\r\nimport EnumerationField from \"./EnumerationField\";\r\nimport NumericField from \"./NumericField\";\r\nimport TextField from \"./TextField\";\r\nimport Vector2Field from \"./Vector2Field\";\r\nimport Vector2IField from \"./Vector2IField\";\r\nimport Vector3Field from \"./Vector3Field\";\r\n\r\nexport default function getFieldElementClass(\r\n  typeInfo: TypeInfo,\r\n  short?: boolean\r\n): React.ComponentType<EditorFieldProps> {\r\n  const code = getTypeCode(typeInfo.info);\r\n  switch (code) {\r\n    case SerializationTypeCode.Array:\r\n      return (props: EditorFieldProps) =>\r\n        short ? (\r\n          <SaveStructureLink intent={Intent.Primary} path={props.path}>\r\n            [Edit Array]\r\n          </SaveStructureLink>\r\n        ) : (\r\n          <ArrayLikeField {...props} subType={typeInfo.subTypes![0]} />\r\n        );\r\n    case SerializationTypeCode.Boolean:\r\n      return (props: EditorFieldProps) => <CheckField {...props} />;\r\n    case SerializationTypeCode.Byte:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} minValue={0} maxValue={0xff} />\r\n      );\r\n    case SerializationTypeCode.Colour:\r\n      return (props: EditorFieldProps) => <ColorField {...props} />;\r\n    case SerializationTypeCode.Dictionary:\r\n      return (props: EditorFieldProps) =>\r\n        short ? (\r\n          <SaveStructureLink intent={Intent.Primary} path={props.path}>\r\n            [Edit Dictionary]\r\n          </SaveStructureLink>\r\n        ) : (\r\n          <DictionaryField subType={typeInfo.subTypes![1]} {...props} />\r\n        );\r\n    case SerializationTypeCode.Double:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"double\" />\r\n      );\r\n    case SerializationTypeCode.Enumeration:\r\n      return (props: EditorFieldProps) => (\r\n        <EnumerationField {...props} enumerationName={typeInfo.templateName!} />\r\n      );\r\n    case SerializationTypeCode.HashSet:\r\n      return (props: EditorFieldProps) =>\r\n        short ? (\r\n          <SaveStructureLink intent={Intent.Primary} path={props.path}>\r\n            [Edit HashSet]\r\n          </SaveStructureLink>\r\n        ) : (\r\n          <ArrayLikeField {...props} subType={typeInfo.subTypes![0]} />\r\n        );\r\n    case SerializationTypeCode.Int16:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"int16\" />\r\n      );\r\n    case SerializationTypeCode.Int32:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"int32\" />\r\n      );\r\n    case SerializationTypeCode.Int64:\r\n      return () => <Text intent={Intent.Dangerous}>TODO Int64</Text>;\r\n    case SerializationTypeCode.List:\r\n      return (props: EditorFieldProps) =>\r\n        short ? (\r\n          <SaveStructureLink intent={Intent.Primary} path={props.path}>\r\n            [Edit Array]\r\n          </SaveStructureLink>\r\n        ) : (\r\n          <ArrayLikeField {...props} subType={typeInfo.subTypes![0]} />\r\n        );\r\n    case SerializationTypeCode.Pair:\r\n      return () => <Text intent={Intent.Dangerous}>TODO Pair</Text>;\r\n    case SerializationTypeCode.SByte:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} minValue={-128} maxValue={127} />\r\n      );\r\n    case SerializationTypeCode.Queue:\r\n      return (props: EditorFieldProps) => (\r\n        <ArrayLikeField {...props} subType={typeInfo.subTypes![0]} />\r\n      );\r\n    case SerializationTypeCode.Single:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"single\" />\r\n      );\r\n    case SerializationTypeCode.String:\r\n      return (props: EditorFieldProps) => <TextField {...props} />;\r\n    case SerializationTypeCode.UInt16:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"uint16\" />\r\n      );\r\n    case SerializationTypeCode.UInt32:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"uint32\" />\r\n      );\r\n    case SerializationTypeCode.UInt64:\r\n      return () => <Text intent={Intent.Dangerous}>TODO UInt64</Text>;\r\n    case SerializationTypeCode.UserDefined:\r\n      return (props: EditorFieldProps) => (\r\n        <SaveStructureLink intent={Intent.Primary} path={props.path}>\r\n          [{typeInfo.templateName || \"Edit Object\"}]\r\n        </SaveStructureLink>\r\n      );\r\n    case SerializationTypeCode.Vector2:\r\n      return Vector2Field;\r\n    case SerializationTypeCode.Vector2I:\r\n      return Vector2IField;\r\n    case SerializationTypeCode.Vector3:\r\n      return Vector3Field;\r\n    default:\r\n      return handleUnknownType(code);\r\n  }\r\n}\r\n\r\nfunction handleUnknownType(type: never): never {\r\n  throw new Error(`Type code \"${type}\" is unknown.`);\r\n}\r\n","import { themeGet } from \"styled-system\";\r\n\r\nimport { ThemeProps } from \"../styled\";\r\n\r\nexport const enum Border {\r\n  None,\r\n  Normal,\r\n  Thick\r\n}\r\n\r\nexport const borders = [0, \"1px solid\", \"2px solid\"];\r\n\r\nexport function getThemeBorder(border: Border): (props: ThemeProps) => string {\r\n  return themeGet(\"borders.\" + border, \"borders.\" + Border.Normal);\r\n}\r\n","import { themeGet } from \"styled-system\";\r\n\r\nimport { Intent } from \"../intent\";\r\nimport { ThemeProps } from \"../styled\";\r\n\r\nconst intentColors: Record<Intent, string> = {\r\n  default: \"#86BBD8\",\r\n  primary: \"#FFB238\",\r\n  secondary: \"#658E27\",\r\n  dangerous: \"#F34213\",\r\n  hint: \"#86BBD8\"\r\n};\r\n\r\nconst intentContrastColors: Record<Intent, string> = {\r\n  default: \"black\",\r\n  primary: \"black\",\r\n  secondary: \"black\",\r\n  dangerous: \"white\",\r\n  hint: \"black\"\r\n};\r\n\r\nconst backgroundColors = {\r\n  default: \"#313a57\", //\"#3A435E\",\r\n  navbar: \"#355d95\", //\"#313E50\",\r\n\r\n  // TODO: This is used for inputs as well.  make an input background.\r\n  panel: \"#36444f\" //\"#455561\",\r\n};\r\n\r\nexport enum Color {\r\n  DefaultIntent = \"intent.default\",\r\n  PrimaryIntent = \"intent.primary\",\r\n\r\n  // TODO: THis is used as borders everywhere.  Make a borderColors section.\r\n  SecondaryIntent = \"intent.secondary\",\r\n  DangerousIntent = \"intent.dangerous\",\r\n  HintIntent = \"intent.hint\",\r\n\r\n  DefaultIntentContrast = \"intent.contrast.default\",\r\n  PrimaryIntentContrast = \"intent.contrast.primary\",\r\n  SecondaryIntentContrast = \"intent.contrast.secondary\",\r\n  DangerousIntentContrast = \"intent.contrast.dangerous\",\r\n  HintIntentContrast = \"intent.contrast.hint\",\r\n\r\n  DefaultBackground = \"bg.default\",\r\n  NavbarBackground = \"bg.navbar\",\r\n  PanelBackground = \"bg.panel\",\r\n\r\n  DefaultSeparator = \"separator\"\r\n}\r\nexport namespace Color {\r\n  export function fromIntent(intent: Intent, contrast?: boolean) {\r\n    switch (intent) {\r\n      default:\r\n        return contrast ? Color.DefaultIntentContrast : Color.DefaultIntent;\r\n      case Intent.Primary:\r\n        return contrast ? Color.PrimaryIntentContrast : Color.PrimaryIntent;\r\n      case Intent.Secondary:\r\n        return contrast ? Color.SecondaryIntentContrast : Color.SecondaryIntent;\r\n      case Intent.Dangerous:\r\n        return contrast ? Color.DangerousIntentContrast : Color.DangerousIntent;\r\n      case Intent.Hint:\r\n        return contrast ? Color.HintIntentContrast : Color.HintIntent;\r\n    }\r\n  }\r\n}\r\n\r\nexport const colors = {\r\n  intent: {\r\n    ...intentColors,\r\n    contrast: intentContrastColors\r\n  },\r\n  bg: backgroundColors,\r\n\r\n  separator: \"#6C6F7F\"\r\n};\r\n\r\nexport function getThemeColor(color: Color): (props: ThemeProps) => string {\r\n  return themeGet(\"colors.\" + color, \"colors.\" + Color.DefaultIntent);\r\n}\r\n","import { themeGet } from \"styled-system\";\r\n\r\nimport { ThemeProps } from \"../styled\";\r\n\r\nexport const enum Radius {\r\n  None = 0,\r\n\r\n  Small = 1,\r\n  Button = 1,\r\n\r\n  Medium = 2,\r\n  Large = 3\r\n}\r\n\r\nexport const radii = [0, 2, 4, 8];\r\n\r\nexport function getThemeRadius(radius: Radius): (props: ThemeProps) => string {\r\n  return themeGet(\"radii.\" + radius, \"radii.\" + Radius.None);\r\n}\r\n","import { themeGet } from \"styled-system\";\r\n\r\nimport { ThemeProps } from \"../styled\";\r\n\r\nexport const enum Space {\r\n  None,\r\n  Small,\r\n  Medium,\r\n  Large\r\n}\r\n\r\nexport const space = [0, 4, 8, 12];\r\n\r\nexport function getThemeSpace(space: Space): (props: ThemeProps) => string {\r\n  return themeGet(\"space.\" + space, \"space.\" + Space.None);\r\n}\r\n","import { css } from \"../styled\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { Intent } from \"../intent\";\r\n\r\nimport { Color, getThemeColor } from \"../theme\";\r\n\r\nexport interface IntentFillProps {\r\n  intent?: Intent;\r\n}\r\n\r\nconst intentFillOf = (intent: Intent) => css`\r\n  color: ${getThemeColor(Color.fromIntent(intent, true))};\r\n  background-color: ${getThemeColor(Color.fromIntent(intent))};\r\n`;\r\n\r\nconst intentFillFromProps = css<IntentFillProps>`\r\n  ${props => (props.intent ? intentFillOf(props.intent) : undefined)};\r\n`;\r\n\r\nexport const intentFill = attachProps(intentFillFromProps, {\r\n  of: intentFillOf\r\n});\r\n","import * as CSS from \"csstype\";\r\n\r\nimport {\r\n  FontSizeProps,\r\n  FontWeightProps,\r\n  fontSize,\r\n  fontWeight,\r\n  style\r\n} from \"styled-system\";\r\n\r\nimport { css } from \"../styled\";\r\n\r\nimport { IntentColorProps, intentColor } from \"./intent-color\";\r\n\r\nexport interface WordWrapProps {\r\n  wordWrap?: CSS.WordWrapProperty;\r\n}\r\nexport const wordWrap = style({\r\n  prop: \"wordWrap\",\r\n  cssProperty: \"word-wrap\"\r\n});\r\n\r\nexport interface WordBreakProps {\r\n  wordBreak?: CSS.WordBreakProperty;\r\n}\r\nexport const wordBreak = style({\r\n  prop: \"wordBreak\",\r\n  cssProperty: \"word-break\"\r\n});\r\n\r\nexport interface WhitespaceProps {\r\n  whiteSpace?: CSS.WhiteSpaceProperty;\r\n}\r\nexport const whiteSpace = style({\r\n  prop: \"whiteSpace\",\r\n  cssProperty: \"white-space\"\r\n});\r\n\r\nexport type TextProps = IntentColorProps &\r\n  FontSizeProps &\r\n  FontWeightProps &\r\n  WordWrapProps &\r\n  WordBreakProps &\r\n  WhitespaceProps;\r\n\r\nexport const text = css<TextProps>`\r\n  ${intentColor};\r\n  ${fontSize};\r\n  ${fontWeight};\r\n  ${wordWrap};\r\n  ${wordBreak};\r\n  ${whiteSpace};\r\n`;\r\n","import { Action } from \"redux\";\r\nimport { GameObjectBehavior, BehaviorName } from \"oni-save-parser\";\r\n\r\nexport const ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM =\r\n  \"oni-save/current-object/behaviors/modify-array/insert-item\";\r\nexport function insertCurrentObjectBehaviorArrayValue<\r\n  T extends GameObjectBehavior\r\n>(behaviorName: BehaviorName<T>, path: string[], value: any, index?: number) {\r\n  return {\r\n    type: ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM as typeof ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM,\r\n    payload: { behaviorName, path, value, index }\r\n  };\r\n}\r\nexport type InsertCurrentObjectBehaviorArrayValueAction = ReturnType<\r\n  typeof insertCurrentObjectBehaviorArrayValue\r\n>;\r\n\r\nexport const ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM =\r\n  \"oni-save/current-object/behaviors/modify-array/remove-item\";\r\nexport function removeCurrentObjectBehaviorArrayValue<\r\n  T extends GameObjectBehavior\r\n>(behaviorName: BehaviorName<T>, path: string[], value: any) {\r\n  return {\r\n    type: ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM as typeof ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM,\r\n    payload: { behaviorName, path, value }\r\n  };\r\n}\r\nexport type RemoveCurrentObjectBehaviorArrayValueAction<\r\n  T extends GameObjectBehavior = GameObjectBehavior\r\n> = ReturnType<typeof removeCurrentObjectBehaviorArrayValue>;\r\n\r\nexport const ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX =\r\n  \"oni-save/current-object/behaviors/modify-array/remove-index\";\r\nexport function removeCurrentObjectBehaviorArrayIndex<\r\n  T extends GameObjectBehavior\r\n>(behaviorName: BehaviorName<T>, path: string[], index: number) {\r\n  return {\r\n    type: ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX as typeof ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX,\r\n    payload: { behaviorName, path, index }\r\n  };\r\n}\r\nexport type RemoveCurrentObjectBehaviorArrayValueIndex<\r\n  T extends GameObjectBehavior = GameObjectBehavior\r\n> = ReturnType<typeof removeCurrentObjectBehaviorArrayIndex>;\r\n\r\nexport type CurrentObjectBehaviorArrayAction =\r\n  | InsertCurrentObjectBehaviorArrayValueAction\r\n  | RemoveCurrentObjectBehaviorArrayValueAction\r\n  | RemoveCurrentObjectBehaviorArrayValueIndex;\r\n\r\nexport function isCurrentObjectBehaviorArrayAction(\r\n  action: Action\r\n): action is CurrentObjectBehaviorArrayAction {\r\n  switch (action.type) {\r\n    case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM:\r\n    case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM:\r\n    case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX:\r\n      return true;\r\n    default:\r\n      return false;\r\n  }\r\n}\r\n","import produce from \"immer\";\r\n\r\nimport { get } from \"lodash-es\";\r\n\r\nimport { GameObject } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getGameObjectPathInSelection } from \"@/selectors/game-object\";\r\n\r\nexport function produceFromGameObject(\r\n  state: AppState,\r\n  producer: (gameObject: GameObject) => void\r\n): AppState {\r\n  if (state.loadingState !== \"ready\") {\r\n    return state;\r\n  }\r\n\r\n  const path = getGameObjectPathInSelection(state);\r\n  if (!path) {\r\n    return state;\r\n  }\r\n\r\n  return produce(state, state => {\r\n    const gameObject: GameObject = get(state.oniSave, path);\r\n    if (!gameObject) {\r\n      return;\r\n    }\r\n\r\n    return producer(gameObject);\r\n  });\r\n}\r\n","import {\r\n  SaveGame,\r\n  GameObjectBehavior,\r\n  GameObject,\r\n  GameObjectGroup\r\n} from \"oni-save-parser\";\r\n\r\nimport { get, isObject } from \"lodash-es\";\r\n\r\nimport { EditMode, SaveItemBreadcrumb } from \"./types\";\r\n\r\nimport {\r\n  SaveStructureDef,\r\n  getSaveStructureDef,\r\n  walkSaveStructurePath,\r\n  ValueSelector,\r\n  SaveStructureItemType,\r\n  SaveStructurePrimaryType\r\n} from \"./structure\";\r\n\r\nexport function getSaveItemType(\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): SaveStructureItemType | null {\r\n  const def = getSaveStructureDef(path, saveGame);\r\n  const type = (def && def.$type) || null;\r\n  if (type == null) {\r\n    return null;\r\n  }\r\n  let subType = (def && def.$subType) || null;\r\n  if (subType) {\r\n    subType = resolveValueSelector(subType, path, saveGame);\r\n  }\r\n  return {\r\n    type,\r\n    subType: subType || undefined\r\n  };\r\n}\r\n\r\nexport interface FoundSaveItem<T> {\r\n  path: string[];\r\n  item: T;\r\n}\r\n/**\r\n * Gets the deepest save item of the given type\r\n */\r\nexport function getLastSaveItemOfType(\r\n  type: \"game-object-group\",\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): FoundSaveItem<GameObjectGroup> | undefined;\r\nexport function getLastSaveItemOfType(\r\n  type: \"game-object\",\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): FoundSaveItem<GameObject> | undefined;\r\nexport function getLastSaveItemOfType(\r\n  type: \"game-object-behavior\",\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): FoundSaveItem<GameObjectBehavior> | undefined;\r\nexport function getLastSaveItemOfType<T = any>(\r\n  type: SaveStructurePrimaryType,\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): FoundSaveItem<T> | undefined;\r\nexport function getLastSaveItemOfType<T>(\r\n  type: SaveStructurePrimaryType,\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): FoundSaveItem<T> | undefined {\r\n  let foundPath: string[] | undefined;\r\n  for (const pair of walkSaveStructurePath(path, saveGame)) {\r\n    if (pair.def.$type === type) {\r\n      foundPath = pair.path;\r\n    }\r\n  }\r\n\r\n  if (foundPath) {\r\n    const item = foundPath.length > 0 ? get(saveGame, foundPath) : saveGame;\r\n    return {\r\n      path: foundPath,\r\n      item\r\n    };\r\n  }\r\n\r\n  return undefined;\r\n}\r\n\r\nexport function getLastSaveItemOfSubType<T>(\r\n  type: SaveStructurePrimaryType,\r\n  subType: string,\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): FoundSaveItem<T> | undefined {\r\n  let foundPath: string[] | undefined;\r\n  for (const pair of walkSaveStructurePath(path, saveGame)) {\r\n    const pairSubType = pair.def.$subType\r\n      ? resolveValueSelector(pair.def.$subType, pair.path, saveGame)\r\n      : null;\r\n    if (pair.def.$type === type && pairSubType === subType) {\r\n      foundPath = pair.path;\r\n    }\r\n  }\r\n\r\n  if (foundPath) {\r\n    const item = foundPath.length > 0 ? get(saveGame, foundPath) : saveGame;\r\n    return {\r\n      path: foundPath,\r\n      item\r\n    };\r\n  }\r\n\r\n  return undefined;\r\n}\r\n\r\n// const GAME_OBJECT_GROUP_PATH_ROOT = [\"gameObjects\", \"*\"];\r\n// export function getPathGameObjectGroup(\r\n//   path: string[],\r\n//   saveGame: SaveGame\r\n// ): GameObjectGroup | null {\r\n//   if (path.length < GAME_OBJECT_GROUP_PATH_ROOT.length) {\r\n//     return null;\r\n//   }\r\n\r\n//   path = path.slice(0, GAME_OBJECT_GROUP_PATH_ROOT.length);\r\n\r\n//   if (\r\n//     !path.every((x, i) => comparePathMatch(x, i, GAME_OBJECT_GROUP_PATH_ROOT))\r\n//   ) {\r\n//     return null;\r\n//   }\r\n\r\n//   return get(saveGame, path);\r\n// }\r\n\r\n// const GAME_OBJECT_PATH_ROOT = [\"gameObjects\", \"*\", \"gameObject\", \"*\"];\r\n// export function getPathGameObject(\r\n//   path: string[],\r\n//   saveGame: SaveGame\r\n// ): GameObject | null {\r\n//   if (path.length < GAME_OBJECT_PATH_ROOT.length) {\r\n//     return null;\r\n//   }\r\n\r\n//   path = path.slice(0, GAME_OBJECT_PATH_ROOT.length);\r\n\r\n//   if (!path.every((x, i) => comparePathMatch(x, i, GAME_OBJECT_PATH_ROOT))) {\r\n//     return null;\r\n//   }\r\n\r\n//   return get(saveGame, path);\r\n// }\r\n\r\n// const GAME_OBJECT_BEHAVIOR_PATH_ROOT = [\r\n//   \"gameObjects\",\r\n//   \"*\",\r\n//   \"gameObject\",\r\n//   \"*\",\r\n//   \"behaviors\",\r\n//   \"*\"\r\n// ];\r\n// export function getPathBehavior(\r\n//   path: string[],\r\n//   saveGame: SaveGame\r\n// ): GameObjectBehavior | null {\r\n//   if (path.length < GAME_OBJECT_BEHAVIOR_PATH_ROOT.length) {\r\n//     return null;\r\n//   }\r\n\r\n//   path = path.slice(0, GAME_OBJECT_BEHAVIOR_PATH_ROOT.length);\r\n\r\n//   if (\r\n//     !path.every((x, i) =>\r\n//       comparePathMatch(x, i, GAME_OBJECT_BEHAVIOR_PATH_ROOT)\r\n//     )\r\n//   ) {\r\n//     return null;\r\n//   }\r\n\r\n//   return get(saveGame, path);\r\n// }\r\n\r\n// function comparePathMatch(part: string, index: number, match: string[]) {\r\n//   if (match[index] === \"*\") return true;\r\n//   if (part === match[index]) return true;\r\n//   return false;\r\n// }\r\n\r\nexport function getSaveItemTitle(path: string[], saveGame: SaveGame): string {\r\n  const def = getSaveStructureDef(path, saveGame);\r\n  let nameSource: string | false | undefined;\r\n  if (def) {\r\n    const nameProducer = def.$uiPathName;\r\n    if (nameProducer) {\r\n      nameSource = resolveValueSelector(nameProducer, path, saveGame);\r\n    }\r\n  }\r\n\r\n  // TODO: Object might opt out of a path entry with uiPathName: false\r\n  //  What do we do in this case?\r\n  //  For now, we just return the absolute path.\r\n  return nameSource || path[path.length - 1];\r\n}\r\n\r\nexport function getSaveItemBreadcrumb(\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): SaveItemBreadcrumb[] {\r\n  const breadcrumbs: SaveItemBreadcrumb[] = [];\r\n  for (const structurePath of walkSaveStructurePath(path, saveGame)) {\r\n    const { def, path: defPath } = structurePath;\r\n    let title: string | false = false;\r\n    const nameProducer = def.$uiPathName;\r\n    if (nameProducer) {\r\n      title = resolveValueSelector(nameProducer, defPath, saveGame);\r\n    } else if (nameProducer === false) {\r\n      // Opting out of a path entry.\r\n      continue;\r\n    } else {\r\n      title = defPath[defPath.length - 1];\r\n    }\r\n\r\n    if (title) {\r\n      breadcrumbs.push({\r\n        title,\r\n        path: defPath\r\n      });\r\n    }\r\n  }\r\n\r\n  return breadcrumbs;\r\n}\r\n\r\nexport function getSaveItemEditValue(path: string[], saveGame: SaveGame) {\r\n  return path.length > 0 ? get(saveGame, path) : saveGame;\r\n}\r\n\r\nexport function getSaveItemChildPaths(\r\n  path: string[],\r\n  saveGame: SaveGame,\r\n  editMode: EditMode\r\n): string[][] {\r\n  const def = getSaveStructureDef(path, saveGame);\r\n  const childPaths = collectChildPaths(path, saveGame, def, editMode);\r\n  return childPaths;\r\n}\r\n\r\n/**\r\n * Determine the child values for the given value.\r\n * @param path The path to the value whose children to determine\r\n * @param saveGame The oni save game structure\r\n * @param def The definition of the value whose children to determine\r\n * @param editMode The current edit mode.\r\n * @returns A collection of absolute save game paths for the child values of this value.\r\n */\r\nfunction collectChildPaths(\r\n  path: string[],\r\n  saveGame: SaveGame,\r\n  def: SaveStructureDef | null,\r\n  editMode: EditMode\r\n): string[][] {\r\n  let uiChildren = def ? def.$uiChildren : null;\r\n\r\n  const value = path.length > 0 ? get(saveGame, path) : saveGame;\r\n\r\n  if (uiChildren) {\r\n    uiChildren = resolveValueSelector(uiChildren, path, saveGame);\r\n  }\r\n\r\n  if (uiChildren === false) {\r\n    // Explicitly no children.\r\n    return [];\r\n  }\r\n\r\n  if (uiChildren == null && def) {\r\n    // TODO: Not sure if this is a good idea, trying it out.\r\n    // Explicit structure children are candidates for children.\r\n\r\n    // Only process def if it is not advanced, or we are in advanced mode.\r\n    // Determine the save structure keys we can work off of.\r\n    const defKeys: string[] = Object.keys(def).filter(x => x[0] !== \"$\");\r\n    if (defKeys.indexOf(\"*\") !== -1) {\r\n      // Def knows about all child keys.  Probably an array or map.\r\n      uiChildren = Object.keys(value).map(x => [x]);\r\n    } else if (defKeys.length > 0) {\r\n      // We have known child keys, offer them up.\r\n      uiChildren = defKeys.map(x => [x]);\r\n    }\r\n  }\r\n\r\n  // Failed to find any children, attempt to auto-determine them.\r\n  if (uiChildren == null) {\r\n    uiChildren = collectAutoChildPaths(path, saveGame, editMode);\r\n  }\r\n\r\n  // Make the path absolute\r\n  uiChildren = uiChildren ? uiChildren.map(x => [...path, ...x]) : [];\r\n\r\n  if (uiChildren) {\r\n    // Check for editMode visibility.\r\n    uiChildren = uiChildren.filter(path => {\r\n      const childDef = getSaveStructureDef(path, saveGame);\r\n      return checkEditMode(path, saveGame, childDef, editMode);\r\n    });\r\n  }\r\n\r\n  return uiChildren;\r\n}\r\n\r\nfunction checkEditMode(\r\n  path: string[],\r\n  saveGame: SaveGame,\r\n  def: SaveStructureDef | null,\r\n  editMode: EditMode\r\n): boolean {\r\n  if (editMode === \"advanced\") {\r\n    return true;\r\n  }\r\n\r\n  let advancedProducer = def && def.$advanced;\r\n  if (advancedProducer == null) {\r\n    // Unknown objects are implicitly advanced.\r\n    return true;\r\n  }\r\n  let advanced = resolveValueSelector(advancedProducer, path, saveGame);\r\n\r\n  return !advanced;\r\n}\r\n\r\nfunction collectAutoChildPaths(\r\n  saveGamePath: string[],\r\n  oniSave: SaveGame,\r\n  editMode: EditMode\r\n): string[][] {\r\n  if (editMode !== \"advanced\") {\r\n    // Do not auto-determine anything when not in advanced mode.\r\n    return [];\r\n  }\r\n\r\n  const value = saveGamePath.length > 0 ? get(oniSave, saveGamePath) : oniSave;\r\n  let uiChildren: string[][] | null = null;\r\n  if (isObject(value)) {\r\n    // Target is an object, offer up all child objects.\r\n    uiChildren = Object.keys(value)\r\n      .filter(x => isImplicitChild(value[x]))\r\n      .map(x => [x]);\r\n  } else if (Array.isArray(value)) {\r\n    // Target is an array, offer up all array items.\r\n    uiChildren = value.filter(isImplicitChild).map((_, i) => [`${i}`]);\r\n  }\r\n\r\n  return uiChildren || [];\r\n}\r\n\r\nfunction isImplicitChild(value: any): boolean {\r\n  return isObject(value);\r\n}\r\n\r\nfunction resolveValueSelector<T>(\r\n  selector: ValueSelector<T>,\r\n  path: string[],\r\n  oniSave: SaveGame\r\n): T {\r\n  if (typeof selector === \"function\") {\r\n    const value = path.length > 0 ? get(oniSave, path) : oniSave;\r\n    return selector(value, path, oniSave);\r\n  }\r\n  return selector as T;\r\n}\r\n","import gameObjectVariantInfo from \"./variants\";\r\n\r\nexport const gameObjectVariantInfos = gameObjectVariantInfo;\r\n\r\nexport { getGameObjectVariants } from \"./utils\";\r\n","import { StorageBehavior, StoredGameObject } from \"oni-save-parser\";\r\n\r\nimport { forEach, isObject } from \"lodash-es\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\nimport { behaviorIs } from \"../../matchers\";\r\n\r\nimport {\r\n  getGameObjectVariants,\r\n  gameObjectVariantInfos\r\n} from \"../gameObjectTypes\";\r\n\r\nimport { defaultBehavior } from \"./default\";\r\n\r\nconst storageBehaviorStoredObject: SaveStructureDef<StoredGameObject> = {\r\n  $type: \"game-object\",\r\n  $uiPathName(obj: StoredGameObject, path: string[]) {\r\n    const index = path[path.length - 1];\r\n    return `${obj.name} (${index})`;\r\n  },\r\n  $variants: []\r\n};\r\n\r\n// We cannot do this until we finish the getGameObjectVariants call\r\n//  for the game object group handler.\r\nexport function initStorageBehaviorHack() {\r\n  // Set this up after we create the object, to allow for circular dependencies.\r\n  storageBehaviorStoredObject.$variants = getGameObjectVariants(\r\n    gameObjectVariantInfos,\r\n    null\r\n  );\r\n}\r\n\r\nconst storageBehaviorExtraData: SaveStructureDef<\r\n  StorageBehavior[\"extraData\"]\r\n> = {\r\n  $type: \"game-object-list\",\r\n  $uiPathName: \"Stored Items\",\r\n\r\n  \"*\": storageBehaviorStoredObject\r\n};\r\n\r\nexport const storageBehavior: SaveStructureDef<StorageBehavior> = {\r\n  ...(defaultBehavior as any),\r\n\r\n  $match: behaviorIs(StorageBehavior),\r\n\r\n  $uiChildren(behavior: StorageBehavior) {\r\n    const children: string[][] = [];\r\n    if (\r\n      behavior.templateData &&\r\n      Object.keys(behavior.templateData).length > 0\r\n    ) {\r\n      forEach(behavior.templateData, (_, key) => {\r\n        // Have to wipe the type here because lodash is being obstinate.\r\n        //  It explicitly calls out that key must be string because 'the type may have properties not defined in the type'.\r\n        //  Not sure why we have a type system if we aren't going to bother using it.\r\n        if (isObject((behavior.templateData as any)[key])) {\r\n          // As of the CU, all of these fields are value fields,\r\n          //  so this does not execute.\r\n          // Leaving it in for future-proofing.\r\n          children.push([\"templateData\", key]);\r\n        }\r\n      });\r\n    }\r\n\r\n    if (behavior.extraData) {\r\n      // extraData is aray of gameObjects stored in this storage.\r\n      children.push([\"extraData\"]);\r\n    }\r\n    return children.length > 0 ? children : false;\r\n  },\r\n\r\n  extraData: storageBehaviorExtraData\r\n};\r\n","import { Vector3, SimHashes, HashedString } from \"oni-save-parser\";\r\n\r\nconst POSITION_PRECISION = 4;\r\n\r\nexport function formatPositionValue(v: number): string {\r\n  return v.toPrecision(POSITION_PRECISION);\r\n}\r\n\r\nexport function formatPosition(p: Vector3) {\r\n  return `(${formatPositionValue(p.x)}, ${formatPositionValue(p.y)})`;\r\n}\r\n\r\nexport function formatSimHash(hash: SimHashes): string {\r\n  return SimHashes[hash];\r\n}\r\n\r\nexport function formatDisease(diseaseId: HashedString): string {\r\n  // TODO: Look up from oni-save-parser\r\n  return `Disease(${diseaseId.hash})`;\r\n}\r\n","import { AccessoryType } from \"oni-save-parser\";\r\n\r\nexport const ACTION_SET_ACCESSORY = \"behaviors/accessorizer/set-accessory\";\r\nexport const setAccessory = (\r\n  accessoryType: AccessoryType,\r\n  accessoryName: string | null\r\n) => ({\r\n  type: ACTION_SET_ACCESSORY as typeof ACTION_SET_ACCESSORY,\r\n  payload: { accessoryType, accessoryName }\r\n});\r\nexport type SetAccessoryAction = ReturnType<typeof setAccessory>;\r\n","import { HashedString } from \"oni-save-parser\";\r\n\r\nexport const ACTION_PRIMARY_ELEMENT_SET_DISEASE =\r\n  \"oni-save/behaviors/primary-element/set-disease\";\r\nexport const setPrimaryElementDisease = (\r\n  diseaseId: HashedString,\r\n  diseaseCount: number\r\n) => ({\r\n  type: ACTION_PRIMARY_ELEMENT_SET_DISEASE as typeof ACTION_PRIMARY_ELEMENT_SET_DISEASE,\r\n  payload: { diseaseId, diseaseCount }\r\n});\r\nexport type SetPrimaryElementDiseaseAction = ReturnType<\r\n  typeof setPrimaryElementDisease\r\n>;\r\n","import { HealthState } from \"oni-save-parser\";\r\n\r\nexport const ACTION_HEALTH_SET_STATE = \"oni-save/behaviors/health/set-state\";\r\nexport const setHealthStatus = (state: HealthState) => ({\r\n  type: ACTION_HEALTH_SET_STATE as typeof ACTION_HEALTH_SET_STATE,\r\n  payload: state\r\n});\r\nexport type SetHealthStateAction = ReturnType<typeof setHealthStatus>;\r\n","import { MinionGender } from \"oni-save-parser\";\r\n\r\nexport const ACTION_MINION_IDENTITY_SET_GENDER =\r\n  \"oni-save/behaviors/minion-identity/set-gender\";\r\nexport const setIdentityGender = (gender: MinionGender) => ({\r\n  type: ACTION_MINION_IDENTITY_SET_GENDER as typeof ACTION_MINION_IDENTITY_SET_GENDER,\r\n  payload: gender\r\n});\r\nexport type SetMinionIdentityGenderAction = ReturnType<\r\n  typeof setIdentityGender\r\n>;\r\n","export const ACTION_MINION_MODIFIER_SET_VALUE =\r\n  \"oni-save/behaviors/minion-modifier/set-value\";\r\nexport const setModifierValue = (amountType: string, value: number) => ({\r\n  type: ACTION_MINION_MODIFIER_SET_VALUE as typeof ACTION_MINION_MODIFIER_SET_VALUE,\r\n  payload: { amountType, value }\r\n});\r\nexport type SetMinionModifierValueAction = ReturnType<typeof setModifierValue>;\r\n","export const ACTION_TRAITS_SET = \"oni-save/behaviors/ai-traits/set-trait\";\r\nexport const setTrait = (traitId: string, isSet: boolean) => ({\r\n  type: ACTION_TRAITS_SET as typeof ACTION_TRAITS_SET,\r\n  payload: { traitId, isSet }\r\n});\r\nexport type SetTraitAction = ReturnType<typeof setTrait>;\r\n","import { Vector3 } from \"oni-save-parser\";\r\n\r\nexport const ACTION_GAME_OBJECT_SET_SCALE = \"game-object/set-scale\";\r\nexport const setGameObjectScale = (scale: Vector3) => ({\r\n  type: ACTION_GAME_OBJECT_SET_SCALE as typeof ACTION_GAME_OBJECT_SET_SCALE,\r\n  payload: scale\r\n});\r\nexport type SetGameObjectScaleAction = ReturnType<typeof setGameObjectScale>;\r\n","export const ACTION_DISMISS_ERROR = \"dismiss-error\";\r\nexport const dismissError = () => ({\r\n  type: ACTION_DISMISS_ERROR as typeof ACTION_DISMISS_ERROR\r\n});\r\nexport type DismissErrorAction = ReturnType<typeof dismissError>;\r\n","import { EditMode } from \"@/services/save-structure\";\r\n\r\nexport const ACTION_SET_EDITMODE = \"editor/set-editmode\";\r\nexport const setEditMode = (editMode: EditMode) => ({\r\n  type: ACTION_SET_EDITMODE as typeof ACTION_SET_EDITMODE,\r\n  payload: editMode\r\n});\r\nexport type SetEditModeAction = ReturnType<typeof setEditMode>;\r\n","export const ACTION_SET_LANGUAGE = \"app/set-language\";\r\nexport const setLanguage = (language: string) => ({\r\n  type: ACTION_SET_LANGUAGE as typeof ACTION_SET_LANGUAGE,\r\n  payload: language\r\n});\r\nexport type SetLanguageAction = ReturnType<typeof setLanguage>;\r\n","export const ACTION_ONISAVE_LOAD = \"oni-save/load\";\r\nexport const loadOniSave = (file: File) => ({\r\n  type: ACTION_ONISAVE_LOAD as typeof ACTION_ONISAVE_LOAD,\r\n  payload: file\r\n});\r\nexport type LoadOniSaveAction = ReturnType<typeof loadOniSave>;\r\n","export * from \"./worker-instance\";\r\n","export const ACTION_ONISAVE_SAVE = \"oni-save/save\";\r\nexport const saveOniSave = (fileName: string) => ({\r\n  type: ACTION_ONISAVE_SAVE as typeof ACTION_ONISAVE_SAVE,\r\n  payload: fileName\r\n});\r\nexport type SaveOniSaveAction = ReturnType<typeof saveOniSave>;\r\n","import { AppState } from \"@/state\";\r\n\r\nconst loadingStateSelector = (state: AppState) => state.loadingState;\r\nexport default loadingStateSelector;\r\n","import DefaultGameObjectEditor from \"./DefaultGameObjectEditor\";\r\nexport default DefaultGameObjectEditor;\r\n","import * as React from \"react\";\r\n\r\nimport { FontSize, Space } from \"@/style\";\r\n\r\nimport Box from \"@/components/Box\";\r\nimport Text from \"@/components/Text\";\r\n\r\nconst EditorHeader: React.SFC = ({ children }) => (\r\n  <Box width=\"100%\" alignSelf=\"baseline\" pb={Space.Small}>\r\n    <Text fontSize={FontSize.Heading} fontWeight=\"bold\">\r\n      {children}\r\n    </Text>\r\n  </Box>\r\n);\r\nEditorHeader.displayName = \"EditorHeader\";\r\nexport default EditorHeader;\r\n","import * as React from \"react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\nimport CheckInput from \"@/components/CheckInput\";\r\n\r\nexport interface InputCompatibleProps<T = any> {\r\n  value: T;\r\n  onCommit(value: any): void;\r\n}\r\nexport interface NullableInputProps<T = any> {\r\n  className?: string;\r\n  renderInput(props: InputCompatibleProps<T>): React.ReactNode;\r\n  renderNull?: React.ReactNode | (() => React.ReactNode);\r\n  value: T | null;\r\n  defaultValue: T | (() => T);\r\n  onCommit(value: T | null): void;\r\n}\r\ntype Props = NullableInputProps;\r\ninterface State {\r\n  isNotNull: boolean;\r\n}\r\nexport default class NullableInput extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.state = {\r\n      isNotNull: this.props.value !== null\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(props: Props) {\r\n    let isNotNull = props.value !== null;\r\n    if (isNotNull !== this.state.isNotNull) {\r\n      this.setState({\r\n        isNotNull\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { isNotNull } = this.state;\r\n    const { className, renderNull } = this.props;\r\n\r\n    let element: React.ReactNode | null = null;\r\n    if (isNotNull) {\r\n      const { renderInput, onCommit, defaultValue } = this.props;\r\n      const value = this.props.value || resolve(defaultValue);\r\n      element = renderInput({ value, onCommit });\r\n    } else if (renderNull) {\r\n      element = resolve(renderNull);\r\n    }\r\n\r\n    return (\r\n      <Flex className={className} direction=\"row\">\r\n        <CheckInput value={isNotNull} onCommit={this._onNotNullChecked} />\r\n        {element && (\r\n          <Flex.Item grow shrink>\r\n            {element}\r\n          </Flex.Item>\r\n        )}\r\n      </Flex>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onNotNullChecked(value: boolean) {\r\n    const { defaultValue, onCommit } = this.props;\r\n    this.setState({\r\n      isNotNull: value\r\n    });\r\n    if (value) {\r\n      onCommit(defaultValue);\r\n    } else {\r\n      onCommit(null);\r\n    }\r\n  }\r\n}\r\n\r\nfunction resolve<T>(value: T | (() => T)): T {\r\n  if (typeof value === \"function\") {\r\n    return value();\r\n  }\r\n  return value;\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Keys from \"@/keys\";\r\n\r\nimport Input from \"@/components/Input\";\r\n\r\nexport interface TextInputProps {\r\n  value: string;\r\n  minLength?: number;\r\n  maxLength?: number;\r\n  onCommit(value: string): void;\r\n}\r\n\r\ntype Props = TextInputProps;\r\ninterface State {\r\n  editValue: string | null;\r\n  isValid: boolean;\r\n}\r\nexport default class TextInput extends React.Component<Props, State> {\r\n  private _inputRef = React.createRef<HTMLInputElement>();\r\n\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      editValue: null,\r\n      isValid: true\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { value, minLength, maxLength } = this.props;\r\n    const { editValue } = this.state;\r\n\r\n    const currentValue = editValue != null ? editValue : value;\r\n\r\n    return (\r\n      <Input\r\n        innerRef={this._inputRef}\r\n        type=\"text\"\r\n        minLength={minLength}\r\n        maxLength={maxLength}\r\n        value={currentValue}\r\n        onChange={this._onValueChange}\r\n        onKeyPress={this._onInputKeyPress}\r\n        onBlur={this._onInputBlur}\r\n      />\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onValueChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const value = e.target.value;\r\n    this._setEditValue(value);\r\n  }\r\n\r\n  @autobind()\r\n  private _onInputKeyPress(e: React.KeyboardEvent<HTMLInputElement>) {\r\n    if (e.key === Keys.Enter) {\r\n      this._commitEdit();\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onInputBlur() {\r\n    this._commitEdit();\r\n  }\r\n\r\n  private _setEditValue(value: string) {\r\n    const validation = this._validate(value);\r\n    const isValid = !validation;\r\n\r\n    if (this._inputRef.current) {\r\n      this._inputRef.current.setCustomValidity(validation || \"\");\r\n    }\r\n\r\n    this.setState({\r\n      editValue: value,\r\n      isValid\r\n    });\r\n  }\r\n\r\n  private _commitEdit() {\r\n    const { editValue, isValid } = this.state;\r\n    const { onCommit } = this.props;\r\n\r\n    this.setState({\r\n      editValue: null\r\n    });\r\n\r\n    if (!editValue || !isValid) {\r\n      return;\r\n    }\r\n\r\n    onCommit(editValue);\r\n  }\r\n\r\n  private _validate(value: string): string | null {\r\n    const { minLength, maxLength } = this.props;\r\n    if (minLength != null && (!value || value.length < minLength)) {\r\n      return `Value must be at least ${minLength} characters.`;\r\n    }\r\n\r\n    if (maxLength != null && value.length > maxLength) {\r\n      return `Value must be less than ${maxLength} characters.`;\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport styled from \"@/style\";\r\n\r\nimport { InputStyleProps, inputStyle } from \"@/components/Input\";\r\n\r\nconst SelectElement = styled<InputStyleProps, \"select\">(\"select\")`\r\n  ${inputStyle};\r\n`;\r\n\r\nexport interface Option<T extends string | number = string | number> {\r\n  label?: string;\r\n  value: T;\r\n}\r\nexport interface SelectProps<T extends string | number = string | number>\r\n  extends InputStyleProps {\r\n  options: Option<T>[];\r\n  value: T;\r\n  onChange(value: T): void;\r\n}\r\n\r\nexport default class Select extends React.Component<SelectProps> {\r\n  render() {\r\n    const { options, value, children, onChange, ...rest } = this.props;\r\n    return (\r\n      <SelectElement {...rest} value={value} onChange={this._onChange}>\r\n        {options.map(x => (\r\n          <option key={x.value} value={x.value}>\r\n            {x.label}\r\n          </option>\r\n        ))}\r\n      </SelectElement>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onChange(e: React.ChangeEvent<HTMLSelectElement>) {\r\n    const { onChange } = this.props;\r\n    const value = e.target.value;\r\n    onChange(value);\r\n  }\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport Table from \"@/components/Table\";\r\n\r\n// Note: Went through a series of smart DataTables, they all had a fatal flaw.\r\n//  Reverting to basic table for now.\r\n// react-table is a pain to theme and enforces pagination.\r\n// Griddle caused serious performance issues in redux and crashed the site when a SaveStructureLink was contained in it.\r\n\r\nexport interface DataTableCellProps {\r\n  value: any;\r\n  rowData: any;\r\n}\r\n\r\nexport interface DataTableColumn {\r\n  id?: string;\r\n  header?: string | React.ReactChild;\r\n  property?: string;\r\n  // accessor?: (rowData: any) => any;\r\n  cell?: React.ComponentType<DataTableCellProps>;\r\n\r\n  //Can this column be filtered\r\n  filterable?: boolean;\r\n\r\n  //Can this column be sorted\r\n  sortable?: boolean;\r\n\r\n  //What sort method this column uses\r\n  sortMethod?: (data: any[], column: string, sortAscending?: boolean) => any[];\r\n}\r\n\r\nexport interface DataTableProps {\r\n  data: any[];\r\n  columns: DataTableColumn[];\r\n  className?: string;\r\n}\r\n\r\nconst DataTable: React.SFC<DataTableProps> = ({ data, columns, className }) => (\r\n  <Table className={className}>\r\n    <Table.THead>\r\n      <Table.TR>\r\n        {columns.map((col, i) => (\r\n          <Table.TH key={col.id || `header-${i}`}>{col.header}</Table.TH>\r\n        ))}\r\n      </Table.TR>\r\n    </Table.THead>\r\n    <Table.TBody>\r\n      {data.map((rowData, di) => (\r\n        <Table.TR key={`row-${di}`}>\r\n          {columns.map((col, ci) => (\r\n            <Table.TD key={`cell-${di}-${col.id || ci}`}>\r\n              <ColumnCell\r\n                value={rowData[col.property || ci]}\r\n                rowData={rowData}\r\n                Cell={col.cell}\r\n              />\r\n            </Table.TD>\r\n          ))}\r\n        </Table.TR>\r\n      ))}\r\n    </Table.TBody>\r\n  </Table>\r\n);\r\nDataTable.displayName = \"DataTable\";\r\nexport default DataTable;\r\n\r\nconst ColumnCell: React.SFC<\r\n  DataTableCellProps & {\r\n    value: any;\r\n    Cell?: React.ComponentType<DataTableCellProps>;\r\n  }\r\n> = ({ rowData, value, Cell }) =>\r\n  Cell ? <Cell value={value} rowData={rowData} /> : <span>{value}</span>;\r\n","import styled, {\r\n  intent,\r\n  text,\r\n  Intent,\r\n  Border,\r\n  getThemeColor,\r\n  Color,\r\n  getThemeBorder,\r\n  Space,\r\n  getThemeSpace\r\n} from \"@/style\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nconst Table = styled.table`\r\n  border-left: ${getThemeBorder(Border.Normal)};\r\n  border-right: ${getThemeBorder(Border.Normal)};\r\n  border-bottom: ${getThemeBorder(Border.Normal)};\r\n  border-color: ${getThemeColor(Color.fromIntent(Intent.Secondary))};\r\n  border-spacing: 0;\r\n  border-collapse: collapse;\r\n`;\r\n\r\nexport default attachProps(Table, {\r\n  THead: styled.thead`\r\n    background-color: ${getThemeColor(Color.PanelBackground)};\r\n  `,\r\n  TH: styled.th`\r\n    ${intent.of(Intent.Secondary)};\r\n    padding: 0 ${getThemeSpace(Space.Small)}px;\r\n  `,\r\n  TBody: styled.tbody``,\r\n  TR: styled.tr`\r\n    ${text};\r\n\r\n    :hover {\r\n      background-color: ${getThemeColor(Color.PanelBackground)};\r\n    }\r\n  `,\r\n  TD: styled.td`\r\n    ${text};\r\n\r\n    padding: 2px;\r\n\r\n    position: relative;\r\n\r\n    tr:not(:first-child) > & {\r\n      :before {\r\n        position: absolute;\r\n        content: \"\";\r\n        top: 0;\r\n        left: 0;\r\n        width: 4px;\r\n        height: 3px;\r\n        border-top: ${getThemeBorder(Border.Normal)};\r\n        border-color: ${getThemeColor(Color.fromIntent(Intent.Secondary))};\r\n      }\r\n\r\n      :first-child:before {\r\n        width: 7px;\r\n      }\r\n\r\n      :after {\r\n        position: absolute;\r\n        content: \"\";\r\n        top: 0;\r\n        right: 0;\r\n        width: 4px;\r\n        height: 3px;\r\n        border-top: ${getThemeBorder(Border.Normal)};\r\n        border-color: ${getThemeColor(Color.fromIntent(Intent.Secondary))};\r\n      }\r\n\r\n      :last-child:after {\r\n        width: 7px;\r\n      }\r\n    }\r\n  `\r\n});\r\n","import Portrait from \"./Portrait\";\r\nexport default Portrait;\r\n","import * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\n\r\nimport Modal from \"react-modal\";\r\n\r\nimport \"./i18n\";\r\n\r\nimport \"./style\";\r\n\r\nimport Root from \"./root\";\r\n\r\nconst rootEl = document.getElementById(\"root\");\r\nif (rootEl) {\r\n  Modal.setAppElement(rootEl);\r\n  ReactDOM.render(<Root />, rootEl);\r\n}\r\n","import i18n from \"i18next\";\r\n// import LanguageDetector from \"i18next-browser-languagedetector\";\r\nimport { reactI18nextModule } from \"react-i18next\";\r\n\r\nimport { isProd } from \"@/runtime-env\";\r\n\r\n// TODO: Use backends to save on file space\r\n//  Deferring until I get a chance to focus on splitting the bundles.\r\n// import Backend from \"i18next-xhr-backend\";\r\n\r\ni18n\r\n  // .use(LanguageDetector)\r\n  .use(reactI18nextModule)\r\n  .init({\r\n    fallbackLng: \"en\",\r\n\r\n    // have a common namespace used around the full app\r\n    ns: [\"common\", \"oni\"],\r\n    defaultNS: \"common\",\r\n\r\n    resources: {\r\n      en: {\r\n        common: require(\"./translations/en/common.json\")\r\n      },\r\n      zh: {\r\n        common: require(\"./translations/zh/common.json\")\r\n      }\r\n    },\r\n\r\n    debug: !isProd,\r\n\r\n    interpolation: {\r\n      escapeValue: false // not needed for react!!\r\n    },\r\n\r\n    react: {\r\n      wait: true\r\n    }\r\n  });\r\n\r\nexport default i18n;\r\n","\nvar content = require(\"!!../../node_modules/css-loader/index.js!./style.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./style.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./style.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"* {\\r\\n  font-family: \\\"Titillium Web\\\", sans-serif;\\r\\n}\\r\\n\\r\\nhtml,\\r\\nbody,\\r\\n#root {\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  margin: 0;\\r\\n}\\r\\n\", \"\"]);\n\n// exports\n","export * from \"./border\";\r\nexport * from \"./intent-border\";\r\nexport * from \"./intent-color\";\r\nexport * from \"./intent-fill\";\r\nexport * from \"./intent\";\r\nexport * from \"./link\";\r\nexport * from \"./text\";\r\nexport * from \"./vertical-align\";\r\n","import { css } from \"../styled\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { Border, Color, Radius } from \"../theme\";\r\n\r\nimport { getThemeBorder, getThemeRadius, getThemeColor } from \"../theme\";\r\n\r\nexport interface BorderProps {\r\n  border?: Border;\r\n  borderColor?: Color;\r\n  borderRadius?: Radius;\r\n}\r\n\r\nconst borderOf = (type: Border, color: Color, radius?: Radius) => css`\r\n  border: ${getThemeBorder(type)};\r\n  border-color: ${getThemeColor(color)};\r\n  ${radius ? `border-radius: ${getThemeRadius(radius)}` : undefined};\r\n`;\r\n\r\nconst borderFromProps = css<BorderProps>`\r\n  ${props =>\r\n    props.border != null\r\n      ? `border: ${getThemeBorder(props.border)(props)}`\r\n      : undefined};\r\n\r\n  ${props =>\r\n    props.borderColor != null\r\n      ? `border-color: ${getThemeColor(props.borderColor)(props)}`\r\n      : undefined};\r\n\r\n  ${props =>\r\n    props.borderRadius != null\r\n      ? `border-radius: ${getThemeRadius(props.borderRadius)(props)}px`\r\n      : undefined};\r\n`;\r\n\r\nexport const border = attachProps(borderFromProps, {\r\n  of: borderOf\r\n});\r\n","import { themeGet } from \"styled-system\";\r\n\r\nimport { borders } from \"./borders\";\r\nimport { colors } from \"./colors\";\r\nimport { fontSizes } from \"./font-sizes\";\r\nimport { radii } from \"./radii\";\r\nimport { space } from \"./space\";\r\nimport { ThemeProps } from \"@/style/styled\";\r\n\r\nexport const theme = {\r\n  borders,\r\n  colors,\r\n  fontSizes,\r\n  radii,\r\n  space\r\n};\r\n\r\nexport type Theme = typeof theme;\r\n\r\nexport function getTheme(props: any): Theme {\r\n  return props.theme || theme;\r\n}\r\n\r\nexport function getThemeProp<T>(\r\n  getter: ((theme: Theme) => T) | string,\r\n  defaultValue?: T\r\n): (props: ThemeProps) => string | undefined {\r\n  return (props: ThemeProps) => {\r\n    if (typeof getter === \"string\") {\r\n      return themeGet(getter, defaultValue as any);\r\n    }\r\n\r\n    const val = getter(getTheme(props));\r\n    if (val === undefined) {\r\n      return defaultValue;\r\n    }\r\n    return val;\r\n  };\r\n}\r\n","export const enum FontSize {\r\n  Hint = 0,\r\n  Small = 0,\r\n\r\n  Button = 1,\r\n\r\n  Default = 2,\r\n  HeadingMinor = 3,\r\n  Heading = 4\r\n}\r\nexport const fontSizes = [12, 14, 16, 20, 24, 32, 48, 64, 96, 128];\r\n","import { css } from \"../styled\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { Intent } from \"../intent\";\r\n\r\nimport {\r\n  Border,\r\n  Color,\r\n  Radius,\r\n  getThemeBorder,\r\n  getThemeRadius,\r\n  getThemeColor\r\n} from \"../theme\";\r\n\r\nexport interface IntentBorderProps {\r\n  intent?: Intent;\r\n}\r\n\r\nconst borderOf = (intent: Intent) => css`\r\n  border: ${getThemeBorder(Border.Normal)};\r\n  border-color: ${getThemeColor(Color.fromIntent(intent))};\r\n  ${intent !== Intent.Default\r\n    ? `border-radius: ${getThemeRadius(Radius.Medium)}`\r\n    : undefined};\r\n`;\r\n\r\nconst borderFromProps = css<IntentBorderProps>`\r\n  ${props => (props.intent ? borderOf(props.intent) : undefined)};\r\n`;\r\n\r\nexport const intentBorder = attachProps(borderFromProps, {\r\n  of: borderOf\r\n});\r\n","import { css } from \"../styled\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { Intent } from \"../intent\";\r\n\r\nimport { intentColor, IntentColorProps } from \"./intent-color\";\r\nimport { intentFill } from \"./intent-fill\";\r\n\r\nexport interface IntentProps extends IntentColorProps {\r\n  intentIsBg?: boolean;\r\n}\r\n\r\nconst intentOf = (intent: Intent, isBg: boolean = false) => css`\r\n  ${isBg ? intentFill.of(intent) : intentColor.of(intent)};\r\n`;\r\n\r\nconst intentFromProps = css<IntentProps>`\r\n  ${props => {\r\n    if (props.intent == null) {\r\n      return undefined;\r\n    }\r\n    return props.intentIsBg ? intentFill : intentColor;\r\n  }};\r\n`;\r\n\r\nexport const intent = attachProps(intentFromProps, {\r\n  of: intentOf\r\n});\r\n","import { TextProps, text } from \"./text\";\r\nimport { css } from \"../styled\";\r\n\r\nexport interface LinkProps extends TextProps {}\r\n\r\nexport const link = css<LinkProps>`\r\n  ${text};\r\n  text-decoration: underline;\r\n  cursor: pointer;\r\n`;\r\n","import { VerticalAlignProperty } from \"csstype\";\r\n\r\nimport { style } from \"styled-system\";\r\n\r\nexport interface VerticalAlignProps {\r\n  verticalAlign?: VerticalAlignProperty<string | 0>;\r\n}\r\nexport const verticalAlign = style({\r\n  prop: \"verticalAlign\",\r\n  cssProperty: \"vertical-align\"\r\n});\r\n","import * as React from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\nimport { Provider } from \"react-redux\";\r\nimport { I18nextProvider } from \"react-i18next\";\r\n\r\nimport { ThemeProvider, theme } from \"@/style\";\r\n\r\nimport store from \"./store\";\r\n\r\nimport i18n from \"./i18n\";\r\n\r\nimport App from \"./App\";\r\n\r\nconst Root: React.SFC = () => (\r\n  <I18nextProvider i18n={i18n}>\r\n    <Provider store={store}>\r\n      <ThemeProvider theme={theme}>\r\n        <App />\r\n      </ThemeProvider>\r\n    </Provider>\r\n  </I18nextProvider>\r\n);\r\n\r\nexport default hot(module)(Root);\r\n","import { createStore } from \"./store\";\r\n\r\nconst store = createStore();\r\nexport default store;\r\n","import {\r\n  compose,\r\n  createStore as createReduxStore,\r\n  applyMiddleware\r\n} from \"redux\";\r\n\r\nimport createSagaMiddleware from \"redux-saga\";\r\n\r\nimport reducer from \"@/reducer\";\r\nimport saga from \"@/saga\";\r\n\r\nimport { actionSanitizer, stateSanitizer } from \"./devtool-sanitizer\";\r\n\r\nexport function createStore() {\r\n  const composeEnhancers =\r\n    (window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ &&\r\n      window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\r\n        actionSanitizer,\r\n        stateSanitizer\r\n      })) ||\r\n    compose;\r\n\r\n  const sagaMiddleware = createSagaMiddleware();\r\n\r\n  const store = createReduxStore(\r\n    reducer,\r\n    composeEnhancers(applyMiddleware(sagaMiddleware))\r\n  );\r\n  sagaMiddleware.run(saga);\r\n  return store;\r\n}\r\n","import { Reducer } from \"redux\";\r\nimport reduceReducers from \"reduce-reducers\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport behaviorsReducer from \"./behaviors\";\r\nimport gameObjectReducer from \"./game-object\";\r\n\r\nimport dismissErrorReducer from \"./dismiss-error\";\r\nimport modifyOniSave from \"./modify-onisave\";\r\nimport parseProgressReducer from \"./onisave-parse-progress\";\r\nimport receiveOniSaveReducer from \"./receive-onisave\";\r\nimport selectPathReducer from \"./select-path\";\r\nimport setEditModeReducer from \"./set-editmode\";\r\nimport setLanguageReducer from \"./set-language\";\r\n\r\nconst reducers: Reducer<AppState, any>[] = [\r\n  behaviorsReducer,\r\n  gameObjectReducer,\r\n  dismissErrorReducer,\r\n  modifyOniSave,\r\n  parseProgressReducer,\r\n  receiveOniSaveReducer,\r\n  selectPathReducer,\r\n  setEditModeReducer,\r\n  setLanguageReducer\r\n];\r\n\r\nexport default reduceReducers<AppState, any>(...reducers);\r\n","import reduceReducers from \"reduce-reducers\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport modifyCurrentObjectBehaviorArray from \"./modify-currentobject-behavior-array\";\r\nimport setAccessoryReducer from \"./set-accessory\";\r\nimport setCurrentObjectBehaviorValueReducer from \"./set-currentobject-behavior-value\";\r\nimport setElementDiseaseReducer from \"./set-element-disease\";\r\nimport setHealthStateReducer from \"./set-health-state\";\r\nimport setIdentityGenderReducer from \"./set-identity-gender\";\r\nimport setModifierAmountReducer from \"./set-modifier-amount\";\r\nimport setTraitReducer from \"./set-traits-trait\";\r\n\r\nconst reducers = [\r\n  modifyCurrentObjectBehaviorArray,\r\n  setAccessoryReducer,\r\n  setCurrentObjectBehaviorValueReducer,\r\n  setElementDiseaseReducer,\r\n  setHealthStateReducer,\r\n  setIdentityGenderReducer,\r\n  setModifierAmountReducer,\r\n  setTraitReducer\r\n];\r\n\r\nexport default reduceReducers<AppState, any>(...reducers);\r\n","import { AnyAction } from \"redux\";\r\n\r\nimport { get } from \"lodash-es\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  isCurrentObjectBehaviorArrayAction,\r\n  ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM,\r\n  ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM,\r\n  ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX\r\n} from \"@/actions/behaviors/modify-currentobject-behavior-array\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function modifyCurrentObjectBehaviorArray(\r\n  state: AppState = defaultAppState,\r\n  action: AnyAction\r\n): AppState {\r\n  if (!isCurrentObjectBehaviorArrayAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  const { behaviorName, path } = action.payload;\r\n\r\n  return produceFromBehavior(state, behaviorName, behavior => {\r\n    const array = get(behavior, path) as any[];\r\n    switch (action.type) {\r\n      case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM: {\r\n        const { value, index } = action.payload;\r\n        if (index != null) {\r\n          array.splice(index, 0, value);\r\n        } else {\r\n          array.push(value);\r\n        }\r\n        return;\r\n      }\r\n      case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM: {\r\n        const { value } = action.payload;\r\n        const index = array.indexOf(value);\r\n        if (index >= 0) {\r\n          array.splice(index, 1);\r\n        }\r\n        return;\r\n      }\r\n      case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX: {\r\n        const { index } = action.payload;\r\n        if (index < 0 || index >= array.length) {\r\n          return;\r\n        }\r\n        array.splice(index, 1);\r\n        return;\r\n      }\r\n    }\r\n  });\r\n}\r\n","export * from \"./root\";\r\nexport * from \"./types\";\r\nexport * from \"./utils\";\r\n\r\nimport saveStructure from \"./root\";\r\nexport default saveStructure;\r\n","import { GameObjectGroup, SaveGame } from \"oni-save-parser\";\r\n\r\nimport { SaveStructureDef } from \"../types\";\r\n\r\nimport {\r\n  getGameObjectVariants,\r\n  gameObjectVariantInfos\r\n} from \"./gameObjectTypes\";\r\n\r\nimport { initStorageBehaviorHack } from \"../gameObjects/behaviors/storage\";\r\n\r\nconst gameObjectGroupsStructure: SaveStructureDef<GameObjectGroup> = {\r\n  $type: \"game-object-group\",\r\n\r\n  $uiPathName(group: GameObjectGroup) {\r\n    return group.name;\r\n  },\r\n\r\n  $uiChildren(group: GameObjectGroup) {\r\n    return group.gameObjects.map((_, i) => [\"gameObjects\", `${i}`]);\r\n  },\r\n\r\n  // This will be populated after object instantiation, to\r\n  //  allow us to define circular references for nested\r\n  //  game objects in the Storage behavior.\r\n  $variants: []\r\n};\r\n\r\n// We want to handle each game object type uniquely,\r\n//  but their uniqueness is keyed off the name of this group.\r\n// To handle this, we provide variants that match off the group's name.\r\ngameObjectGroupsStructure.$variants = getGameObjectVariants(\r\n  gameObjectVariantInfos,\r\n  [\"gameObjects\", \"*\"]\r\n);\r\n\r\n// Need to wait until after getGameObjectVariants completes\r\ninitStorageBehaviorHack();\r\n\r\nconst gameObjectsStructure: SaveStructureDef<SaveGame[\"gameObjects\"]> = {\r\n  $type: \"game-object-group-list\",\r\n\r\n  // gameObjects is an array, so we use the fallback key to\r\n  //  handle all items.\r\n  \"*\": gameObjectGroupsStructure\r\n};\r\nexport default gameObjectsStructure;\r\n","import * as minion from \"./minion\";\r\nimport * as geyser from \"./geyser\";\r\n\r\nconst gameObjectVariantInfo = [minion, geyser];\r\nexport default gameObjectVariantInfo;\r\n","import {\r\n  GameObject,\r\n  MinionIdentityBehavior,\r\n  getBehavior\r\n} from \"oni-save-parser\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\nimport { gameObjectIs } from \"../../matchers\";\r\n\r\nimport { defaultGameObject } from \"./default\";\r\n\r\nconst minionGameObject: SaveStructureDef<GameObject> = {\r\n  ...defaultGameObject,\r\n\r\n  $subType: \"minion\",\r\n\r\n  $uiPathName: (obj: GameObject) => {\r\n    const identityBehavior = getBehavior(obj, MinionIdentityBehavior);\r\n    const name =\r\n      (identityBehavior &&\r\n        identityBehavior.templateData &&\r\n        identityBehavior.templateData.name) ||\r\n      \"[malformed]\";\r\n    return name;\r\n  }\r\n};\r\n\r\nexport const gameObjectMatcher = gameObjectIs(\"Minion\");\r\nexport const gameObjectStructure = minionGameObject;\r\n\r\nexport default minionGameObject;\r\n","import { GameObjectBehavior } from \"oni-save-parser\";\r\n\r\nimport { SaveStructureDef } from \"../../../structure\";\r\n\r\nimport { defaultBehavior } from \"./default\";\r\nimport { primaryElementBehavior } from \"./primary-element\";\r\nimport { storageBehavior } from \"./storage\";\r\n\r\nconst behavior: SaveStructureDef<GameObjectBehavior> = {\r\n  $variants: [storageBehavior, primaryElementBehavior, defaultBehavior]\r\n};\r\nexport default behavior;\r\n","import { PrimaryElementBehavior } from \"oni-save-parser\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\nimport { behaviorIs } from \"../../matchers\";\r\n\r\nimport { defaultBehavior } from \"./default\";\r\n\r\nexport const primaryElementBehavior: SaveStructureDef<\r\n  PrimaryElementBehavior\r\n> = {\r\n  ...defaultBehavior,\r\n  $match: behaviorIs(PrimaryElementBehavior)\r\n};\r\n","import {\r\n  GameObject,\r\n  getBehavior,\r\n  KPrefabIDBehavior,\r\n  GameObjectGroup\r\n} from \"oni-save-parser\";\r\n\r\nimport { formatPosition } from \"@/format\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\n\r\nimport { defaultGameObject } from \"./default\";\r\n\r\nconst geyserGameObject: SaveStructureDef<GameObject> = {\r\n  ...defaultGameObject,\r\n\r\n  $subType: \"geyser\",\r\n\r\n  $uiPathName: (obj: GameObject) => {\r\n    const idBehavior = getBehavior(obj, KPrefabIDBehavior);\r\n    const id =\r\n      (idBehavior &&\r\n        idBehavior.templateData &&\r\n        idBehavior.templateData.InstanceID) ||\r\n      \"[malformed]\";\r\n\r\n    return `#${id} ${formatPosition(obj.position)}`;\r\n  }\r\n};\r\n\r\nexport const gameObjectMatcher = (obj: GameObjectGroup) =>\r\n  obj.name.startsWith(\"GeyserGeneric_\");\r\nexport const gameObjectStructure = geyserGameObject;\r\n\r\nexport default geyserGameObject;\r\n","import { set } from \"lodash-es\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\n\r\nimport { defaultGameObject } from \"./default\";\r\n\r\nimport { GameObjectTypeInfo } from \"./types\";\r\n\r\nexport function getGameObjectVariants(\r\n  gameObjectTypeInfos: GameObjectTypeInfo[],\r\n  gameObjectPath: string[] | null\r\n): SaveStructureDef<{}>[] {\r\n  const defaultVariant: SaveStructureDef<{}> = {\r\n    $advanced: true\r\n  };\r\n  setStructure(defaultVariant, gameObjectPath, defaultGameObject);\r\n\r\n  const variants = gameObjectTypeInfos.map(info => {\r\n    const rootVariant: SaveStructureDef<{}> = {\r\n      $match: info.gameObjectMatcher\r\n    };\r\n    setStructure(rootVariant, gameObjectPath, info.gameObjectStructure);\r\n    return rootVariant;\r\n  });\r\n\r\n  // Add default as last item\r\n  variants.push(defaultVariant);\r\n  return variants;\r\n}\r\n\r\nfunction setStructure(\r\n  obj: any,\r\n  path: string[] | null,\r\n  structure: SaveStructureDef\r\n) {\r\n  if (path && path.length > 0) {\r\n    // Collapse the intermediate paths.\r\n    for (let i = 1; i < path.length; i++) {\r\n      set(obj, [...path.slice(0, i), \"$uiPathName\"], false);\r\n    }\r\n    set(obj, path, structure);\r\n  } else {\r\n    // Use a one-value rootVariant to ensure we get a reference,\r\n    //  to mantain recursive support.\r\n    Object.assign(obj, structure);\r\n  }\r\n}\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { isObject } from \"lodash-es\";\r\n\r\nimport saveStructure from \"./root\";\r\nimport { SaveStructureDef } from \"./types\";\r\n\r\nexport function getSaveStructureDef(\r\n  saveGamePath: string[],\r\n  save: SaveGame\r\n): SaveStructureDef | null {\r\n  // TODO: Seems like there would be a builtin utility for this\r\n  const iter = walkSaveStructurePath(saveGamePath, save);\r\n  let result: IteratorResult<any>;\r\n  do {\r\n    result = iter.next();\r\n  } while (!result.done);\r\n  return result.value;\r\n}\r\n\r\n/**\r\n * Walks through a path of a save game, returning the save structure objects in order.\r\n * @param saveGamePath The path to walk the save structure tree to\r\n * @param saveGame The save game to walk.\r\n */\r\nexport function* walkSaveStructurePath(\r\n  saveGamePath: string[],\r\n  saveGame: SaveGame\r\n): IterableIterator<{ def: SaveStructureDef; path: string[] }> {\r\n  let structure: SaveStructureDef = saveStructure;\r\n  let value: any = saveGame;\r\n\r\n  yield {\r\n    def: saveStructure,\r\n    path: []\r\n  };\r\n\r\n  for (let i = 0; i < saveGamePath.length; i++) {\r\n    const key = saveGamePath[i];\r\n\r\n    let subStructure: SaveStructureDef | undefined;\r\n    if (isObject(structure)) {\r\n      subStructure =\r\n        Object.keys(structure).indexOf(key) !== -1\r\n          ? structure[key]\r\n          : structure[\"*\"];\r\n    }\r\n\r\n    if (!subStructure) {\r\n      return null;\r\n    }\r\n\r\n    // Pick the value before searching for variants.\r\n    value = value[key];\r\n\r\n    // Try to pick a variant if possible.\r\n    if (subStructure.$variants) {\r\n      const variant = subStructure.$variants.find(\r\n        x => !x.$match || x.$match(value)\r\n      );\r\n      if (variant) {\r\n        subStructure = {\r\n          ...subStructure,\r\n          ...variant\r\n        } as SaveStructureDef;\r\n      }\r\n    }\r\n\r\n    structure = subStructure;\r\n\r\n    yield {\r\n      def: structure,\r\n      path: saveGamePath.slice(0, i + 1)\r\n    };\r\n  }\r\n\r\n  return structure;\r\n}\r\n\r\n// export function getChildStructures(def: SaveStructureDef): SaveStructureDef[] {\r\n//   return Object.keys(def)\r\n//     .filter(x => x[0] !== \"$\")\r\n//     .map(x => def[x]) as SaveStructureDef[];\r\n// }\r\n","import {\r\n  AccessorizerBehavior,\r\n  Accessory,\r\n  getIndexOfAccessoryType\r\n} from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_SET_ACCESSORY,\r\n  SetAccessoryAction\r\n} from \"@/actions/behaviors/set-accessory\";\r\nimport { produceFromBehavior } from \"@/reducer/behaviors/utils\";\r\n\r\nexport default function setAccessoryReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetAccessoryAction\r\n): AppState {\r\n  if (action.type !== ACTION_SET_ACCESSORY) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, AccessorizerBehavior, behavior => {\r\n    const { accessoryName, accessoryType } = action.payload;\r\n    const { accessories } = behavior.templateData;\r\n\r\n    const accessoryIndex = getIndexOfAccessoryType(accessories, accessoryType);\r\n\r\n    if (accessoryName === null) {\r\n      // Remove\r\n      accessories.splice(accessoryIndex, 1);\r\n      return;\r\n    }\r\n\r\n    const newAccessory = Accessory(accessoryName);\r\n\r\n    if (accessoryIndex === -1) {\r\n      // Add\r\n      accessories.push(newAccessory);\r\n    } else {\r\n      // Replace\r\n      accessories[accessoryIndex] = newAccessory;\r\n    }\r\n  });\r\n}\r\n","import { set } from \"lodash-es\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE,\r\n  SetCurrentObjectBehaviorValueAction\r\n} from \"@/actions/behaviors/set-currentobject-behavior-value\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setCurrentObjectBehaviorValueReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetCurrentObjectBehaviorValueAction\r\n): AppState {\r\n  if (action.type !== ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE) {\r\n    return state;\r\n  }\r\n\r\n  const { behaviorName, path, value } = action.payload;\r\n\r\n  return produceFromBehavior(state, behaviorName, behavior => {\r\n    set(behavior, path, value);\r\n  });\r\n}\r\n","import { PrimaryElementBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_PRIMARY_ELEMENT_SET_DISEASE,\r\n  SetPrimaryElementDiseaseAction\r\n} from \"@/actions/behaviors/set-element-disease\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setElementDiseaseReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetPrimaryElementDiseaseAction\r\n): AppState {\r\n  if (action.type !== ACTION_PRIMARY_ELEMENT_SET_DISEASE) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, PrimaryElementBehavior, behavior => {\r\n    const { diseaseId, diseaseCount } = action.payload;\r\n    behavior.templateData.diseaseID = diseaseId;\r\n    behavior.templateData.diseaseCount = diseaseCount;\r\n  });\r\n}\r\n","import { HealthBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_HEALTH_SET_STATE,\r\n  SetHealthStateAction\r\n} from \"@/actions/behaviors/set-health-state\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setHealthStateReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetHealthStateAction\r\n): AppState {\r\n  if (action.type !== ACTION_HEALTH_SET_STATE) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, HealthBehavior, behavior => {\r\n    behavior.templateData.State = action.payload;\r\n  });\r\n}\r\n","import { MinionIdentityBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_MINION_IDENTITY_SET_GENDER,\r\n  SetMinionIdentityGenderAction\r\n} from \"@/actions/behaviors/set-identity-gender\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setIdentityGenderReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetMinionIdentityGenderAction\r\n): AppState {\r\n  if (action.type !== ACTION_MINION_IDENTITY_SET_GENDER) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, MinionIdentityBehavior, behavior => {\r\n    behavior.templateData.gender = action.payload;\r\n    behavior.templateData.genderStringKey = action.payload;\r\n  });\r\n}\r\n","import { MinionModifiersBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_MINION_MODIFIER_SET_VALUE,\r\n  SetMinionModifierValueAction\r\n} from \"@/actions/behaviors/set-modifier-amount\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setModifierAmountReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetMinionModifierValueAction\r\n): AppState {\r\n  if (action.type !== ACTION_MINION_MODIFIER_SET_VALUE) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, MinionModifiersBehavior, behavior => {\r\n    const { amountType, value } = action.payload;\r\n    if (!behavior.extraData) {\r\n      return;\r\n    }\r\n    const amount = behavior.extraData.amounts.find(x => x.name === amountType);\r\n    if (!amount) {\r\n      return;\r\n    }\r\n    amount.value.value = value;\r\n  });\r\n}\r\n","import { AITraitsBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_TRAITS_SET,\r\n  SetTraitAction\r\n} from \"@/actions/behaviors/set-traits-trait\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setTraitReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetTraitAction\r\n): AppState {\r\n  if (action.type !== ACTION_TRAITS_SET) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, AITraitsBehavior, behavior => {\r\n    const { traitId, isSet } = action.payload;\r\n    const { TraitIds } = behavior.templateData;\r\n    const index = TraitIds.findIndex(x => x === traitId);\r\n    if (index !== -1) {\r\n      if (!isSet) {\r\n        TraitIds.splice(index, 1);\r\n      }\r\n    } else {\r\n      if (isSet) {\r\n        TraitIds.push(traitId);\r\n      }\r\n    }\r\n  });\r\n}\r\n","import reduceReducers from \"reduce-reducers\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport setGameObjectScaleReducer from \"./set-scale\";\r\n\r\nconst reducers = [setGameObjectScaleReducer];\r\n\r\nexport default reduceReducers<AppState, any>(...reducers);\r\n","import { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_GAME_OBJECT_SET_SCALE,\r\n  SetGameObjectScaleAction\r\n} from \"@/actions/game-object/set-scale\";\r\n\r\nimport { produceFromGameObject } from \"./utils\";\r\n\r\nexport default function setGameObjectScaleReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetGameObjectScaleAction\r\n): AppState {\r\n  if (action.type !== ACTION_GAME_OBJECT_SET_SCALE) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromGameObject(state, gameObject => {\r\n    const { x, y, z } = action.payload;\r\n    gameObject.scale.x = x;\r\n    gameObject.scale.y = y;\r\n    gameObject.scale.z = z;\r\n  });\r\n}\r\n","import { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_DISMISS_ERROR,\r\n  DismissErrorAction\r\n} from \"@/actions/dismiss-error\";\r\n\r\nexport default function dismissErrorReducer(\r\n  state: AppState = defaultAppState,\r\n  action: DismissErrorAction\r\n): AppState {\r\n  if (action.type !== ACTION_DISMISS_ERROR) {\r\n    return state;\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    error: null\r\n  };\r\n}\r\n","import produce from \"immer\";\r\n\r\nimport { set } from \"lodash-es\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_ONISAVE_MODIFY,\r\n  ModifyOniSaveAction\r\n} from \"../actions/modify-onisave\";\r\n\r\nexport default function modifyOniSaveReducer(\r\n  state: AppState = defaultAppState,\r\n  action: ModifyOniSaveAction\r\n): AppState {\r\n  if (action.type !== ACTION_ONISAVE_MODIFY) {\r\n    return state;\r\n  }\r\n\r\n  const { loadingState, oniSave } = state;\r\n  if (loadingState !== \"ready\" || !oniSave) {\r\n    return state;\r\n  }\r\n\r\n  const { path, value } = action.payload;\r\n\r\n  return produce(state, draft => {\r\n    set(draft.oniSave!, path, value);\r\n  });\r\n}\r\n","import { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_ONISAVE_PARSE_PROGRESS,\r\n  ParseProgressAction\r\n} from \"@/actions/onisave-parse-progress\";\r\n\r\nexport default function parseProgressReducer(\r\n  state: AppState = defaultAppState,\r\n  action: ParseProgressAction\r\n): AppState {\r\n  if (action.type !== ACTION_ONISAVE_PARSE_PROGRESS) {\r\n    return state;\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    loadingProgressMessage: action.payload.message\r\n  };\r\n}\r\n","import {\r\n  ReceiveOniSaveAction,\r\n  ACTION_RECEIVE_ONISAVE_BEGIN,\r\n  ACTION_RECEIVE_ONISAVE_ERROR,\r\n  ACTION_RECEIVE_ONISAVE_SUCCESS\r\n} from \"../actions/receive-onisave\";\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nexport default function receiveOniSaveReducer(\r\n  state: AppState = defaultAppState,\r\n  action: ReceiveOniSaveAction\r\n): AppState {\r\n  switch (action.type) {\r\n    case ACTION_RECEIVE_ONISAVE_BEGIN:\r\n      return {\r\n        ...state,\r\n        error: null,\r\n        loadingState: action.payload.operation,\r\n        loadingProgressMessage: null,\r\n        selectedPath: [],\r\n        oniSave: action.payload.clearExisting ? null : state.oniSave\r\n      };\r\n    case ACTION_RECEIVE_ONISAVE_ERROR:\r\n      state = {\r\n        ...state,\r\n        loadingState: \"idle\",\r\n        selectedPath: [],\r\n        error: action.payload\r\n      };\r\n      break;\r\n    case ACTION_RECEIVE_ONISAVE_SUCCESS:\r\n      state = {\r\n        ...state,\r\n        loadingState: \"ready\",\r\n        loadingProgressMessage: null,\r\n        error: null,\r\n        selectedPath: [],\r\n        oniSave: action.payload\r\n      };\r\n  }\r\n\r\n  return state;\r\n}\r\n","import { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport { ACTION_SELECT_PATH, SelectPathAction } from \"@/actions/select-path\";\r\n\r\nexport default function selectPathReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SelectPathAction\r\n): AppState {\r\n  if (action.type !== ACTION_SELECT_PATH) {\r\n    return state;\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    selectedPath: action.payload\r\n  };\r\n}\r\n","import { ACTION_SET_EDITMODE, SetEditModeAction } from \"@/actions/set-editmode\";\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nexport default function setEditMode(\r\n  state: AppState = defaultAppState,\r\n  action: SetEditModeAction\r\n): AppState {\r\n  if (action.type !== ACTION_SET_EDITMODE) {\r\n    return state;\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    editMode: action.payload\r\n  };\r\n}\r\n","import { Action } from \"redux\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\nimport { ACTION_SET_LANGUAGE, SetLanguageAction } from \"@/actions/set-language\";\r\nimport i18n from \"@/i18n\";\r\n\r\nexport default function setLanguageReducer(\r\n  state: AppState = defaultAppState,\r\n  action: Action\r\n): AppState {\r\n  if (action.type !== ACTION_SET_LANGUAGE) {\r\n    return state;\r\n  }\r\n\r\n  const lang = (action as SetLanguageAction).payload;\r\n\r\n  i18n.changeLanguage(lang);\r\n\r\n  return {\r\n    ...state,\r\n    language: lang\r\n  };\r\n}\r\n","import { fork } from \"redux-saga/effects\";\r\n\r\nimport loadOniSaveSaga from \"./load-onisave\";\r\nimport saveOniSaveSaga from \"./save-onisave\";\r\n\r\nexport default function* saga() {\r\n  yield fork(loadOniSaveSaga);\r\n  yield fork(saveOniSaveSaga);\r\n}\r\n","import { eventChannel, END } from \"redux-saga\";\r\nimport { call, put, takeEvery, take } from \"redux-saga/effects\";\r\n\r\nimport { ACTION_ONISAVE_LOAD, LoadOniSaveAction } from \"@/actions/load-onisave\";\r\n\r\nimport {\r\n  receiveOniSaveBegin,\r\n  receiveOniSaveError,\r\n  receiveOniSaveSuccess\r\n} from \"@/actions/receive-onisave\";\r\nimport { parseProgress } from \"@/actions/onisave-parse-progress\";\r\n\r\nimport { parseSave } from \"@/services/save-serializer\";\r\n\r\nexport default function* saveEditorSaga() {\r\n  yield takeEvery(ACTION_ONISAVE_LOAD, handleOniSaveLoad);\r\n}\r\n\r\nfunction* handleOniSaveLoad(action: LoadOniSaveAction) {\r\n  const file = action.payload;\r\n\r\n  yield put(receiveOniSaveBegin(\"loading\", true));\r\n\r\n  const data: ArrayBuffer = yield call(readFile, file);\r\n\r\n  const loadChannel = createLoadChannel(data);\r\n\r\n  while (true) {\r\n    const msg = yield take(loadChannel);\r\n    if (msg.type === \"progress\") {\r\n      yield put(parseProgress(msg.message));\r\n      continue;\r\n    } else if (msg.type === \"success\") {\r\n      yield put(receiveOniSaveSuccess(msg.saveGame));\r\n      return;\r\n    } else if (msg.type === \"error\") {\r\n      yield put(receiveOniSaveError(msg.error));\r\n      return;\r\n    }\r\n  }\r\n}\r\n\r\nfunction createLoadChannel(data: ArrayBuffer) {\r\n  return eventChannel(emitter => {\r\n    function onProgress(message: string) {\r\n      emitter({\r\n        type: \"progress\",\r\n        message\r\n      });\r\n    }\r\n\r\n    parseSave(data, onProgress)\r\n      .then(saveGame => {\r\n        emitter({\r\n          type: \"success\",\r\n          saveGame\r\n        });\r\n        emitter(END);\r\n      })\r\n      .catch(error => {\r\n        emitter({\r\n          type: \"error\",\r\n          error\r\n        });\r\n        emitter(END);\r\n      });\r\n\r\n    //This is the cancellation func.\r\n    // TODO: We can support cancellation in oni-save-parser rather easily.\r\n    return () => {};\r\n  });\r\n}\r\n\r\nfunction readFile(file: File): Promise<ArrayBuffer> {\r\n  const reader = new FileReader();\r\n  return new Promise<ArrayBuffer>((accept, reject) => {\r\n    reader.onload = () => {\r\n      accept(reader.result as ArrayBuffer);\r\n    };\r\n    reader.onerror = () => {\r\n      reject(reader.error);\r\n    };\r\n    reader.readAsArrayBuffer(file);\r\n  });\r\n}\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nimport {\r\n  RESPONSE_PROGRESS,\r\n  RESPONSE_PARSE_ERROR,\r\n  RESPONSE_PARSE_SUCCESS,\r\n  RESPONSE_WRITE_ERROR,\r\n  RESPONSE_WRITE_SUCCESS,\r\n  SaveParserResultEvent,\r\n  parseSave as parseSaveCommand,\r\n  writeSave as writeSaveCommand,\r\n  jsonToError\r\n} from \"./worker-messages\";\r\n\r\nimport SaveLoadWorker from \"worker-loader!./save-serializer.worker\";\r\n\r\nconst worker = new SaveLoadWorker();\r\n\r\nexport function parseSave(\r\n  data: ArrayBuffer,\r\n  onProgress?: (message: string) => void\r\n): Promise<SaveGame> {\r\n  const promise = new Promise<SaveGame>((accept, reject) => {\r\n    const unhook = () => {\r\n      worker.onerror = null;\r\n      worker.onmessage = null;\r\n    };\r\n\r\n    worker.onerror = error => reject(error);\r\n    worker.onmessage = (message: SaveParserResultEvent) => {\r\n      const { data } = message;\r\n      switch (data.type) {\r\n        case RESPONSE_PROGRESS:\r\n          onProgress && onProgress(data.message);\r\n          break;\r\n        case RESPONSE_PARSE_SUCCESS:\r\n          unhook();\r\n          accept(data.saveGame);\r\n          break;\r\n        case RESPONSE_PARSE_ERROR:\r\n          unhook();\r\n          reject(jsonToError(data.error));\r\n          break;\r\n      }\r\n    };\r\n  });\r\n\r\n  worker.postMessage(parseSaveCommand(data));\r\n\r\n  return promise;\r\n}\r\n\r\nexport function writeSave(\r\n  saveGame: SaveGame,\r\n  onProgress?: (message: string) => void\r\n): Promise<ArrayBuffer> {\r\n  const promise = new Promise<ArrayBuffer>((accept, reject) => {\r\n    const unhook = () => {\r\n      worker.onerror = null;\r\n      worker.onmessage = null;\r\n    };\r\n\r\n    worker.onerror = error => reject(error);\r\n    worker.onmessage = (message: SaveParserResultEvent) => {\r\n      const { data } = message;\r\n      switch (data.type) {\r\n        case RESPONSE_PROGRESS:\r\n          onProgress && onProgress(data.message);\r\n          break;\r\n        case RESPONSE_WRITE_SUCCESS:\r\n          unhook();\r\n          accept(data.data);\r\n          break;\r\n        case RESPONSE_WRITE_ERROR:\r\n          unhook();\r\n          reject(jsonToError(data.error));\r\n          break;\r\n      }\r\n    };\r\n  });\r\n\r\n  worker.postMessage(writeSaveCommand(saveGame));\r\n\r\n  return promise;\r\n}\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nexport const RESPONSE_PROGRESS = \"progress\";\r\nexport const sendProgress = (message: string) => ({\r\n  type: RESPONSE_PROGRESS as typeof RESPONSE_PROGRESS,\r\n  message\r\n});\r\nexport type ProgressResponse = ReturnType<typeof sendProgress>;\r\n\r\nconst COMMAND_PARSE = \"parse-save\";\r\nexport const parseSave = (data: ArrayBuffer) => ({\r\n  type: COMMAND_PARSE as typeof COMMAND_PARSE,\r\n  data\r\n});\r\nexport type ParseSaveCommand = ReturnType<typeof parseSave>;\r\n\r\nexport const RESPONSE_PARSE_SUCCESS = \"parse-save:success\";\r\nexport const parseSaveSuccess = (saveGame: SaveGame) => ({\r\n  type: RESPONSE_PARSE_SUCCESS as typeof RESPONSE_PARSE_SUCCESS,\r\n  saveGame\r\n});\r\nexport type ParseSaveSuccessResponse = ReturnType<typeof parseSaveSuccess>;\r\n\r\nexport const RESPONSE_PARSE_ERROR = \"parse-save:error\";\r\nexport const parseSaveError = (error: Error) => ({\r\n  type: RESPONSE_PARSE_ERROR as typeof RESPONSE_PARSE_ERROR,\r\n  error: errorToJson(error)\r\n});\r\nexport type ParseSaveErrorResponse = ReturnType<typeof parseSaveError>;\r\n\r\nexport type ParseSaveResponse =\r\n  | ParseSaveSuccessResponse\r\n  | ParseSaveErrorResponse\r\n  | ProgressResponse;\r\n\r\nconst COMMAND_WRITE = \"write-save\";\r\nexport const writeSave = (saveGame: SaveGame) => ({\r\n  type: COMMAND_WRITE as typeof COMMAND_WRITE,\r\n  saveGame\r\n});\r\nexport type WriteSaveCommand = ReturnType<typeof writeSave>;\r\n\r\nexport const RESPONSE_WRITE_SUCCESS = \"write-save:success\";\r\nexport const writeSaveSuccess = (data: ArrayBuffer) => ({\r\n  type: RESPONSE_WRITE_SUCCESS as typeof RESPONSE_WRITE_SUCCESS,\r\n  data\r\n});\r\nexport type WriteSaveSuccessResponse = ReturnType<typeof writeSaveSuccess>;\r\n\r\nexport const RESPONSE_WRITE_ERROR = \"write-save:error\";\r\nexport const writeSaveError = (error: Error) => ({\r\n  type: RESPONSE_WRITE_ERROR as typeof RESPONSE_WRITE_ERROR,\r\n  error: errorToJson(error)\r\n});\r\nexport type WriteSaveErrorResponse = ReturnType<typeof writeSaveError>;\r\n\r\nexport type WriteSaveResult =\r\n  | WriteSaveSuccessResponse\r\n  | WriteSaveErrorResponse\r\n  | ProgressResponse;\r\n\r\nexport type SaveParserCommand = ParseSaveCommand | WriteSaveCommand;\r\nexport type SaveParserResponse = ParseSaveResponse | WriteSaveResult;\r\n\r\nexport interface SaveParserCommandEvent extends MessageEvent {\r\n  data: SaveParserCommand;\r\n}\r\n\r\nexport interface SaveParserResultEvent extends MessageEvent {\r\n  data: SaveParserResponse;\r\n}\r\n\r\nexport interface ErrorJson {\r\n  name: string;\r\n  message: string;\r\n  stack?: string;\r\n}\r\nexport function errorToJson(e: Error): ErrorJson {\r\n  return {\r\n    name: e.name,\r\n    message: e.message,\r\n    stack: e.stack\r\n  };\r\n}\r\nexport function jsonToError(obj: ErrorJson): Error {\r\n  const e = new Error(obj.message);\r\n  e.name = obj.name;\r\n  e.stack = obj.stack;\r\n  return e;\r\n}\r\n","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"e416f438d2e20fcc3223.worker.js\");\n};","import { eventChannel, END } from \"redux-saga\";\r\nimport { put, select, takeEvery, take } from \"redux-saga/effects\";\r\n\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { saveAs } from \"file-saver\";\r\n\r\nimport { ACTION_ONISAVE_SAVE, SaveOniSaveAction } from \"@/actions/save-onisave\";\r\n\r\nimport {\r\n  receiveOniSaveBegin,\r\n  receiveOniSaveError,\r\n  receiveOniSaveSuccess\r\n} from \"@/actions/receive-onisave\";\r\n\r\nimport { parseProgress } from \"@/actions/onisave-parse-progress\";\r\n\r\nimport { writeSave } from \"@/services/save-serializer\";\r\n\r\nimport oniSaveSelector from \"@/selectors/oni-save\";\r\n\r\nexport default function* saveEditorSaga() {\r\n  yield takeEvery(ACTION_ONISAVE_SAVE, handleOniSaveWrite);\r\n}\r\n\r\nfunction* handleOniSaveWrite(action: SaveOniSaveAction) {\r\n  const saveName = action.payload;\r\n\r\n  const saveGame: SaveGame | null = yield select(oniSaveSelector);\r\n  if (!saveGame) {\r\n    return;\r\n  }\r\n\r\n  yield put(receiveOniSaveBegin(\"saving\"));\r\n\r\n  const saveChannel = createSaveChannel(saveGame);\r\n\r\n  while (true) {\r\n    const msg = yield take(saveChannel);\r\n    if (msg.type === \"progress\") {\r\n      yield put(parseProgress(msg.message));\r\n      continue;\r\n    } else if (msg.type === \"success\") {\r\n      saveAs(msg.blob, saveName);\r\n      yield put(receiveOniSaveSuccess(saveGame));\r\n      return;\r\n    } else if (msg.type === \"error\") {\r\n      yield put(receiveOniSaveError(msg.error));\r\n      return;\r\n    }\r\n  }\r\n}\r\n\r\nfunction createSaveChannel(saveGame: SaveGame) {\r\n  return eventChannel(emitter => {\r\n    function onProgress(message: string) {\r\n      emitter({\r\n        type: \"progress\",\r\n        message\r\n      });\r\n    }\r\n\r\n    writeSave(saveGame, onProgress)\r\n      .then(data => {\r\n        const blob = new Blob([data]);\r\n        emitter({\r\n          type: \"success\",\r\n          blob\r\n        });\r\n        emitter(END);\r\n      })\r\n      .catch(error => {\r\n        emitter({\r\n          type: \"error\",\r\n          error\r\n        });\r\n        emitter(END);\r\n      });\r\n\r\n    //This is the cancellation func.\r\n    // TODO: We can support cancellation in oni-save-parser rather easily.\r\n    return () => {};\r\n  });\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { ACTION_RECEIVE_ONISAVE_SUCCESS } from \"@/actions/receive-onisave\";\r\nimport { AppState } from \"@/state\";\r\n\r\nexport function actionSanitizer(action: AnyAction): AnyAction {\r\n  if (action.type === ACTION_RECEIVE_ONISAVE_SUCCESS) {\r\n    return {\r\n      ...action,\r\n      payload: sanitizeSave(action.payload)\r\n    };\r\n  }\r\n  return action;\r\n}\r\n\r\nexport function stateSanitizer(state: AppState): any {\r\n  return {\r\n    ...state,\r\n    oniSave: state.oniSave ? sanitizeSave(state.oniSave) : null\r\n  };\r\n}\r\n\r\nfunction sanitizeSave(save: SaveGame): any {\r\n  return {\r\n    ...save,\r\n    world: {\r\n      ...save.world,\r\n      streamed: \"~snip~\"\r\n    }\r\n  };\r\n}\r\n","import App from \"./App\";\r\nexport default App;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport i18n from \"@/i18n\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NoSave from \"@/pages/NoSave\";\r\nimport ErrorPage from \"@/pages/Error\";\r\nimport Loading from \"@/pages/Loading\";\r\nimport SaveEditor from \"@/pages/SaveEditor\";\r\n\r\nimport AppContainer from \"./components/AppContainer\";\r\nimport AppContent from \"./components/AppContent\";\r\nimport NavBarContainer from \"./components/NavBar\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass App extends React.Component<Props> {\r\n  render() {\r\n    const { error, loadingState, onDismissError } = this.props;\r\n\r\n    let element: JSX.Element;\r\n\r\n    if (error) {\r\n      element = <ErrorPage error={error} onDismiss={onDismissError} />;\r\n    } else {\r\n      switch (loadingState) {\r\n        case \"idle\":\r\n          element = <NoSave />;\r\n          break;\r\n        case \"loading\":\r\n        case \"saving\":\r\n          element = <Loading />;\r\n          break;\r\n        case \"ready\":\r\n          element = <SaveEditor />;\r\n          break;\r\n        default:\r\n          element = <div>???</div>;\r\n          break;\r\n      }\r\n    }\r\n\r\n    return (\r\n      <AppContainer>\r\n        <NavBarContainer />\r\n        <AppContent>{element}</AppContent>\r\n      </AppContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(App);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport error from \"@/selectors/error\";\r\nimport loadingState from \"@/selectors/loading-state\";\r\n\r\nconst stateSelectors = {\r\n  loadingState,\r\n  error\r\n};\r\nexport type StateProps = StructuredStateProps<typeof stateSelectors>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  stateSelectors\r\n);\r\nexport default mapStateToProps;\r\n","import { AppState } from \"@/state\";\r\n\r\nconst errorSelector = (state: AppState) => state.error;\r\nexport default errorSelector;\r\n","import { dismissError } from \"@/actions/dismiss-error\";\r\n\r\nconst mapDispatchToProps = {\r\n  onDismissError: dismissError\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import NoSave from \"./NoSave\";\r\nexport default NoSave;\r\n","import * as React from \"react\";\r\n\r\nimport { Trans, translate } from \"react-i18next\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport { OSType } from \"@/runtime-env\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport Text from \"@/components/Text\";\r\nimport Code from \"@/components/Code\";\r\n\r\nconst SaveFilePaths: Record<OSType, string | null> = {\r\n  windows: \"Documents/Klei/OxygenNotIncluded/save_files\",\r\n  mac: null,\r\n  linux: \"~/.config/unity3d/Klei/Oxygen Not Included/save_files\",\r\n  unknown: null\r\n};\r\n\r\nconst NoSave: React.SFC = () => (\r\n  <NonIdealState intent={Intent.Hint} header={\"No File Loaded\"}>\r\n    <Text intent={Intent.Hint}>\r\n      <div>\r\n        <Trans i18nKey=\"save-file.instructions\">\r\n          Load a save using the controls on the upper left.\r\n        </Trans>\r\n      </div>\r\n      {SaveFilePaths[OSType] && (\r\n        <div>\r\n          <Trans\r\n            i18nKey=\"save-file.save-location\"\r\n            defaults=\"Save files can be found at <0>{{path}}</0>\"\r\n            values={{ path: SaveFilePaths[OSType] }}\r\n            components={[<Code key=\"SaveFilePath\"/>]}\r\n          />\r\n        </div>\r\n      )}\r\n    </Text>\r\n  </NonIdealState>\r\n);\r\nNoSave.displayName = \"NoSavePage\";\r\nexport default translate()(NoSave);\r\n","import { FontSizeProps, fontSize } from \"styled-system\";\r\n\r\nimport styled, {\r\n  BorderProps,\r\n  IntentBorderProps,\r\n  border,\r\n  intentBorder,\r\n  Intent,\r\n  Radius,\r\n  FontSize\r\n} from \"@/style\";\r\n\r\nexport interface CodeStyleProps\r\n  extends FontSizeProps,\r\n    BorderProps,\r\n    IntentBorderProps {}\r\n\r\nconst Code = styled<CodeStyleProps, \"code\">(\"code\")`\r\n  ${fontSize};\r\n  ${intentBorder};\r\n  ${border};\r\n\r\n  margin: 0 4px;\r\n  padding: 1px 2px;\r\n  box-sizing: border-box;\r\n  font-family: monospace;\r\n`;\r\nCode.displayName = \"Code\";\r\n\r\nCode.defaultProps = {\r\n  fontSize: FontSize.Default,\r\n  intent: Intent.Hint,\r\n  borderRadius: Radius.Small\r\n};\r\n\r\nexport default Code;\r\n","import ErrorPage from \"./Error\";\r\nexport default ErrorPage;\r\n","import * as React from \"react\";\r\nimport { Trans, translate } from \"react-i18next\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\nimport Button from \"@/components/Button\";\r\nimport Text from \"@/components/Text\";\r\nimport { Intent } from \"@/style\";\r\n\r\nexport interface ErrorProps {\r\n  error: Error;\r\n  onDismiss(): void;\r\n}\r\n\r\nconst ErrorPage: React.SFC<ErrorProps> = ({ error, onDismiss }) => (\r\n  <Flex direction=\"column\" width=\"100%\" height=\"100%\">\r\n    <Flex.Item grow>\r\n      <Text intent={Intent.Dangerous}>\r\n        <h2>Error</h2>\r\n        <code>{error.stack || error.message || String(error)}</code>\r\n      </Text>\r\n    </Flex.Item>\r\n    <Flex.Item>\r\n      <Button intent={Intent.Primary} onClick={onDismiss}>\r\n        <Trans i18nKey=\"close-dialog\">Close</Trans>\r\n      </Button>\r\n    </Flex.Item>\r\n  </Flex>\r\n);\r\nErrorPage.displayName = \"Error\";\r\nexport default translate()(ErrorPage);\r\n","import Loading from \"./Loading\";\r\nexport default Loading;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Trans, translate } from \"react-i18next\";\r\n\r\nimport { Intent, Space } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport Box from \"@/components/Box\";\r\n\r\ntype Props = StateProps;\r\nconst Loading: React.SFC<Props> = ({\r\n  loadingState,\r\n  loadingProgressMessageSelector\r\n}) => (\r\n  <Box p={Space.Large}>\r\n    <Text intent={Intent.Primary}>\r\n      {loadingState === \"loading\" ? (\r\n        <Trans i18nKey=\"save-file.loading\">Loading</Trans>\r\n      ) : (\r\n        <Trans i18nKey=\"save-file.saving\">Saving</Trans>\r\n      )}\r\n    </Text>\r\n    <br />\r\n    <Text intent={Intent.Secondary}>{loadingProgressMessageSelector}</Text>\r\n  </Box>\r\n);\r\nLoading.displayName = \"LoadingPage\";\r\nexport default connect(mapStateToProps)(translate()(Loading));\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport loadingState from \"@/selectors/loading-state\";\r\nimport loadingProgressMessageSelector from \"@/selectors/loading-message\";\r\n\r\nconst structuredSelector = {\r\n  loadingState,\r\n  loadingProgressMessageSelector\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { AppState } from \"@/state\";\r\n\r\nconst loadingProgressMessageSelector = (state: AppState) =>\r\n  state.loadingProgressMessage;\r\nexport default loadingProgressMessageSelector;\r\n","import SaveEditor from \"./SaveEditor\";\r\nexport default SaveEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport SelectedPathBreadcrumb from \"@/components/SelectedPathBreadcrumb\";\r\nimport ResizePanel from \"@/components/ResizePanel\";\r\n\r\nimport { editorFromSaveItem } from \"./components/editors\";\r\n\r\nimport SaveEditorContainer from \"./components/SaveEditorContainer\";\r\nimport ContentContainer from \"./components/ContentContainer\";\r\nimport EditorContainer from \"./components/EditorContainer\";\r\n\r\nimport Sidebar from \"./components/Sidebar\";\r\nimport Separator from \"@/components/Separator\";\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport { Intent } from \"@/style\";\r\n\r\ntype Props = StateProps;\r\nclass SaveEditor extends React.Component<Props> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selectedPath: null\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { selectedPath, oniSave } = this.props;\r\n\r\n    if (!oniSave) {\r\n      return (\r\n        <SaveEditorContainer>\r\n          <NonIdealState intent={Intent.Dangerous}>\r\n            <Trans i18nKey=\"save-file.not-loaded\">\r\n              No save has been loaded\r\n            </Trans>\r\n          </NonIdealState>\r\n        </SaveEditorContainer>\r\n      );\r\n    }\r\n\r\n    const ObjectEditor = editorFromSaveItem(selectedPath, oniSave);\r\n\r\n    return (\r\n      <SaveEditorContainer>\r\n        <ResizePanel>\r\n          <Sidebar />\r\n        </ResizePanel>\r\n        <ContentContainer>\r\n          <SelectedPathBreadcrumb />\r\n          <Separator width=\"100%\" />\r\n          <EditorContainer>\r\n            <ObjectEditor />\r\n          </EditorContainer>\r\n        </ContentContainer>\r\n      </SaveEditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(SaveEditor);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\nimport selectedPath from \"@/selectors/selected-path\";\r\n\r\nconst stateSelectors = {\r\n  oniSave,\r\n  selectedPath\r\n};\r\nexport type StateProps = StructuredStateProps<typeof stateSelectors>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  stateSelectors\r\n);\r\nexport default mapStateToProps;\r\n","import SelectedPathBreadcrumb from \"./SelectedPathBreadcrumb\";\r\nexport default SelectedPathBreadcrumb;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\n\r\nimport BreadcrumbContainer from \"./components/BreadcrumbContainer\";\r\n\r\ntype Props = StateProps;\r\nclass SelectedPathBreadcrumb extends React.Component<Props> {\r\n  render() {\r\n    const { breadcrumb } = this.props;\r\n    let links: React.ReactNode[] = [];\r\n    for (let i = 0; i < breadcrumb.length; i++) {\r\n      let isFinal = i + 1 === breadcrumb.length;\r\n      const x = breadcrumb[i];\r\n      const key = x.path.join(\".\");\r\n      links.push(\r\n        <SaveStructureLink\r\n          intent={isFinal ? Intent.Primary : Intent.Secondary}\r\n          key={key}\r\n          path={x.path}\r\n        >\r\n          {x.title}\r\n        </SaveStructureLink>\r\n      );\r\n      if (!isFinal) {\r\n        links.push(<Text key={`${key}:sep`}>{\" > \"}</Text>);\r\n      }\r\n    }\r\n    return <BreadcrumbContainer>{links}</BreadcrumbContainer>;\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(SelectedPathBreadcrumb);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport breadcrumb from \"@/selectors/selected-path-breadcrumb\";\r\n\r\nconst structuredSelector = {\r\n  breadcrumb\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { createSelector } from \"reselect\";\r\n\r\nimport { getSaveItemBreadcrumb } from \"@/services/save-structure\";\r\n\r\nimport selectedPath from \"./selected-path\";\r\nimport oniSave from \"./oni-save\";\r\n\r\nconst selectedPathBreadcrumbSelector = createSelector(\r\n  selectedPath,\r\n  oniSave,\r\n  (selectedPath, oniSave) =>\r\n    oniSave ? getSaveItemBreadcrumb(selectedPath, oniSave) : []\r\n);\r\nexport default selectedPathBreadcrumbSelector;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport styled from \"@/style\";\r\n\r\nimport { LinkProps, link } from \"@/style\";\r\n\r\nimport { SaveStructureLinkProps } from \"./props\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\ntype Props = SaveStructureLinkProps & DispatchProps;\r\nclass SaveStructureLink extends React.Component<Props> {\r\n  render() {\r\n    const { intent, children } = this.props;\r\n    return (\r\n      <Link intent={intent} onClick={this._onClick}>\r\n        {children}\r\n      </Link>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onClick() {\r\n    const { path, onClick } = this.props;\r\n    onClick(path);\r\n  }\r\n}\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(SaveStructureLink);\r\n\r\nconst Link = styled<LinkProps, \"span\">(\"span\")`\r\n  ${link};\r\n`;\r\n","import { selectPath } from \"@/actions/select-path\";\r\n\r\nconst mapDispatchToProps = {\r\n  onClick: selectPath\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import styled, { Space } from \"@/style\";\r\nimport { getTheme } from \"@/style\";\r\n\r\nconst BreadcrumbContainer = styled.div`\r\n  margin-bottom: ${props => getTheme(props).space[Space.Small]}px;\r\n`;\r\nBreadcrumbContainer.displayName = \"BreadcrumbContainer\";\r\nexport default BreadcrumbContainer;\r\n","import ResizePanel from \"./ResizePanel\";\r\nexport default ResizePanel;\r\n","import * as React from \"react\";\r\n\r\nimport { HeightProps, height } from \"styled-system\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\n\r\nimport ResizeHandle from \"./components/ResizeHandle\";\r\nimport styled from \"@/style\";\r\n\r\nexport interface ResizePanelProps extends HeightProps {\r\n  className?: string;\r\n  defaultWidth?: number;\r\n}\r\ninterface State {\r\n  width: number;\r\n}\r\ntype Props = ResizePanelProps;\r\nclass ResizePanel extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      width: props.defaultWidth || 300\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { className, children } = this.props;\r\n    const { width } = this.state;\r\n    // TODO: too many wrapping divs.\r\n    //  Provide a way to apply flex to an existing item.\r\n    return (\r\n      <Flex className={className} direction=\"row\">\r\n        <Flex.Item style={{ width }}>{children}</Flex.Item>\r\n        <Flex.Item>\r\n          <ResizeHandle onResize={this._onResize} />\r\n        </Flex.Item>\r\n      </Flex>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onResize(delta: number) {\r\n    this.setState(s => ({\r\n      width: s.width + delta\r\n    }));\r\n  }\r\n}\r\n\r\nexport default styled(ResizePanel)`\r\n  ${height};\r\n`;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { DraggableCore, DraggableData } from \"react-draggable\";\r\n\r\nimport ResizeHandleVisual from \"./ResizeHandleVisual\";\r\n\r\nexport interface ResizeHandleProps {\r\n  onResize(delta: number): void;\r\n}\r\n\r\ntype Props = ResizeHandleProps;\r\ninterface State {\r\n  isResizing: boolean;\r\n}\r\nclass ResizeHandle extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isResizing: false\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <DraggableCore\r\n        onStart={this._onStart}\r\n        onStop={this._onStop}\r\n        onDrag={this._onDrag}\r\n      >\r\n        <ResizeHandleVisual isResizing={this.state.isResizing} />\r\n      </DraggableCore>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onDrag(e: MouseEvent, d: DraggableData) {\r\n    const { onResize } = this.props;\r\n    onResize(d.deltaX);\r\n  }\r\n\r\n  @autobind()\r\n  private _onStart() {\r\n    this.setState({\r\n      isResizing: true\r\n    });\r\n  }\r\n\r\n  @autobind()\r\n  private _onStop() {\r\n    this.setState({\r\n      isResizing: false\r\n    });\r\n  }\r\n}\r\nexport default ResizeHandle;\r\n","import styled, { Intent, intentFill, getThemeColor, Color } from \"@/style\";\r\n\r\nexport interface ResizeHandleVisualProps {\r\n  isResizing: boolean;\r\n}\r\nconst ResizeHandleVisual = styled<ResizeHandleVisualProps, \"div\">(\"div\")`\r\n  width: 4px;\r\n  height: 100%;\r\n  background-color: ${props =>\r\n    getThemeColor(\r\n      props.isResizing ? Color.PrimaryIntent : Color.DefaultSeparator\r\n    )};\r\n  flex: none;\r\n  cursor: ew-resize;\r\n\r\n  :hover {\r\n    ${intentFill.of(Intent.Primary)};\r\n  }\r\n`;\r\nexport default ResizeHandleVisual;\r\n","export * from \"./from-saveitem\";\r\n","import * as React from \"react\";\r\n\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { getSaveItemType } from \"@/services/save-structure\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\n\r\nimport { editorFromGameObjectType } from \"./game-objects\";\r\n\r\nimport DefaultObjectEditor from \"./DefaultObjectEditor\";\r\nimport DefaultGameObjectEditor from \"./game-objects/DefaultGameObjectEditor\";\r\n\r\nimport SaveRootEditor from \"./SaveRootEditor\";\r\nimport TemplateObjectEditor from \"./TemplateObjectEditor\";\r\nimport GameObjectGroupList from \"./GameObjectGroupList\";\r\nimport GameObjectList from \"./GameObjectList\";\r\n\r\nexport function editorFromSaveItem(\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): React.ComponentType<{}> {\r\n  const itemType = getSaveItemType(path, saveGame);\r\n  if (itemType == null) {\r\n    return DefaultObjectEditor;\r\n  }\r\n  switch (itemType.type) {\r\n    case \"save-root\":\r\n      return SaveRootEditor;\r\n    case \"template-object\":\r\n      return itemType.subType\r\n        ? () => <TemplateObjectEditor templateName={itemType.subType!} />\r\n        : DefaultObjectEditor;\r\n    case \"game-object-group-list\":\r\n      return GameObjectGroupList;\r\n    case \"game-object-group\":\r\n      return GameObjectList;\r\n    case \"game-object-list\":\r\n      return () => <GameObjectList isFlatList={true} />;\r\n    case \"game-object\":\r\n      return (\r\n        (itemType.subType &&\r\n          editorFromGameObjectType(itemType.subType, path, saveGame)) ||\r\n        DefaultGameObjectEditor\r\n      );\r\n    case \"game-object-behavior\":\r\n      return () => (\r\n        <Text intent={Intent.Dangerous}>TODO Behavior root page</Text>\r\n      );\r\n  }\r\n\r\n  return DefaultObjectEditor;\r\n}\r\n","export * from \"./from-type\";\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nimport DefaultGameObjectEditor from \"./DefaultGameObjectEditor\";\r\n\r\nimport MinionEditor from \"./MinionEditor\";\r\nimport GeyserEditor from \"./GeyserEditor\";\r\n\r\nexport function editorFromGameObjectType(\r\n  type: string,\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): React.ComponentType<{}> {\r\n  switch (type) {\r\n    case \"minion\":\r\n      return MinionEditor;\r\n    case \"geyser\":\r\n      return GeyserEditor;\r\n  }\r\n  return DefaultGameObjectEditor;\r\n}\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport FormGroup from \"@/components/FormGroup\";\r\nimport EditModeCondition from \"@/components/EditModeCondition\";\r\n\r\nimport NumericField from \"@/pages/SaveEditor/components/fields/NumericField\";\r\n\r\nimport EditorContainer from \"../../components/EditorContainer\";\r\nimport GameObjectHeader from \"../components/GameObjectHeader\";\r\n\r\ntype Props = StateProps;\r\nclass DefaultGameObjectEditor extends React.Component<Props> {\r\n  render() {\r\n    const { gameObjectPath, gameObjectName } = this.props;\r\n    if (!gameObjectPath) {\r\n      <NonIdealState intent={Intent.Dangerous} header=\"No GameObject Selected\">\r\n        No object is selected, or the selected object is not a GameObject.\r\n      </NonIdealState>;\r\n    }\r\n\r\n    return (\r\n      <EditorContainer\r\n        header={<GameObjectHeader>{gameObjectName}</GameObjectHeader>}\r\n      >\r\n        <FormGroup label=\"Position\">\r\n          <FormGroup label=\"X\" inline>\r\n            <NumericField\r\n              precision=\"single\"\r\n              path={[...gameObjectPath, \"position\", \"x\"]}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Y\" inline>\r\n            <NumericField\r\n              precision=\"single\"\r\n              path={[...gameObjectPath, \"position\", \"y\"]}\r\n            />\r\n          </FormGroup>\r\n          <EditModeCondition editMode=\"advanced\">\r\n            <FormGroup label=\"Z\" inline>\r\n              <NumericField\r\n                precision=\"single\"\r\n                path={[...gameObjectPath, \"position\", \"z\"]}\r\n              />\r\n            </FormGroup>\r\n          </EditModeCondition>\r\n        </FormGroup>\r\n        <FormGroup label=\"Scale\">\r\n          <FormGroup label=\"X\" inline>\r\n            <NumericField\r\n              precision=\"single\"\r\n              path={[...gameObjectPath, \"scale\", \"x\"]}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Y\" inline>\r\n            <NumericField\r\n              precision=\"single\"\r\n              path={[...gameObjectPath, \"scale\", \"y\"]}\r\n            />\r\n          </FormGroup>\r\n        </FormGroup>\r\n      </EditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(DefaultGameObjectEditor);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { KPrefabIDBehavior, getBehavior, GameObject } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getLastSaveItemOfType } from \"@/services/save-structure\";\r\n\r\nimport selectedValue from \"@/selectors/selected-value\";\r\nimport selectedPath from \"@/selectors/selected-path\";\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nconst structuredSelector = {\r\n  gameObjectPath: selectedPath,\r\n  gameObjectName: createSelector(\r\n    selectedValue,\r\n    selectedPath,\r\n    oniSave,\r\n    (selectedValue, selectedPath, oniSave) => {\r\n      if (!oniSave) {\r\n        return \"[no save loaded]\";\r\n      }\r\n\r\n      if (!selectedValue) {\r\n        return \"[no value selected]\";\r\n      }\r\n\r\n      const prefabIdBehavior = getBehavior(selectedValue, KPrefabIDBehavior);\r\n      let prefabId =\r\n        (prefabIdBehavior &&\r\n          prefabIdBehavior.templateData &&\r\n          prefabIdBehavior.templateData.InstanceID) ||\r\n        \"[no instance id]\";\r\n\r\n      const found = getLastSaveItemOfType(\r\n        \"game-object-group\",\r\n        selectedPath,\r\n        oniSave\r\n      );\r\n\r\n      return `${found ? found.item.name : \"[unknown]\"} #${prefabId}`;\r\n    }\r\n  )\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { EditMode } from \"@/services/save-structure\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nexport interface EditModeConditionProps {\r\n  editMode?: EditMode;\r\n}\r\ntype Props = EditModeConditionProps & StateProps;\r\nclass EditModeCondition extends React.Component<Props> {\r\n  render() {\r\n    const { currentEditMode, editMode, children } = this.props;\r\n    if (currentEditMode !== editMode) {\r\n      return null;\r\n    }\r\n\r\n    return children;\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(EditModeCondition);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport editMode from \"@/selectors/edit-mode\";\r\n\r\nconst structuredSelector = {\r\n  currentEditMode: editMode\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import createCachedSelector from \"re-reselect\";\r\n\r\nimport { get } from \"lodash-es\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nimport { EditorFieldProps } from \"./props\";\r\n\r\nconst itemPathSelector = (_: AppState, props: EditorFieldProps) => props.path;\r\n\r\nconst cacheKeyGenerator = (_: AppState, props: EditorFieldProps) =>\r\n  props.path.join(\".\");\r\n\r\nconst itemValue = createCachedSelector(\r\n  itemPathSelector,\r\n  oniSave,\r\n  (path, oniSave) => {\r\n    if (path.length === 0) {\r\n      return oniSave;\r\n    }\r\n    return get(oniSave, path);\r\n  }\r\n)(cacheKeyGenerator);\r\n\r\nfunction mapStateToProps(state: AppState, props: EditorFieldProps) {\r\n  return {\r\n    value: itemValue(state, props)\r\n  };\r\n}\r\nexport type StateProps = ReturnType<typeof mapStateToProps>;\r\nexport default mapStateToProps;\r\n","import { modifyOniSave } from \"@/actions/modify-onisave\";\r\n\r\nimport { EditorFieldProps } from \"./props\";\r\nimport { Dispatch } from \"redux\";\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch, props: EditorFieldProps) {\r\n  return {\r\n    onCommit(value: any) {\r\n      if (props.writeTo) {\r\n        props.writeTo.forEach(path => {\r\n          dispatch(modifyOniSave(props.path, value));\r\n        });\r\n      } else {\r\n        dispatch(modifyOniSave(props.path, value));\r\n      }\r\n    }\r\n  };\r\n}\r\nexport type DispatchProps = ReturnType<typeof mapDispatchToProps>;\r\nexport default mapDispatchToProps;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent, FontSize } from \"@/style\";\r\n\r\nimport { formatPosition, formatSimHash, formatDisease } from \"@/format\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Toolbar from \"@/components/Toolbar\";\r\nimport Text from \"@/components/Text\";\r\n\r\nimport GameObjectHeaderContainer from \"./components/GameObjectHeaderContainer\";\r\n\r\ntype Props = StateProps;\r\nclass GameObjectHeader extends React.Component<Props> {\r\n  render() {\r\n    const { position, primaryElement } = this.props;\r\n    return (\r\n      <GameObjectHeaderContainer>\r\n        <Toolbar>\r\n          <Toolbar.Label>{this.props.children}</Toolbar.Label>\r\n\r\n          <Toolbar.Group align=\"center\" alignContent=\"center\">\r\n            <Text\r\n              intent={Intent.Secondary}\r\n              mr={1}\r\n              whiteSpace=\"nowrap\"\r\n              fontSize={FontSize.Default}\r\n            >\r\n              {position ? formatPosition(position) : \"(no object selected)\"}\r\n            </Text>\r\n          </Toolbar.Group>\r\n\r\n          <Toolbar.Group align=\"right\" alignContent=\"center\">\r\n            {primaryElement && (\r\n              <Text\r\n                intent={Intent.Secondary}\r\n                mr={1}\r\n                fontSize={FontSize.Default}\r\n              >\r\n                {formatSimHash(primaryElement)}\r\n              </Text>\r\n            )}\r\n          </Toolbar.Group>\r\n        </Toolbar>\r\n      </GameObjectHeaderContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(GameObjectHeader);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport {\r\n  GameObject,\r\n  PrimaryElementBehavior,\r\n  getBehavior\r\n} from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport selectedValue from \"@/selectors/selected-value\";\r\n\r\nconst position = createSelector(\r\n  selectedValue,\r\n  (value: GameObject) => value && value.position\r\n);\r\n\r\nconst primaryElementBehavior = createSelector(selectedValue, value => {\r\n  if (!value) {\r\n    return null;\r\n  }\r\n\r\n  return getBehavior(value, PrimaryElementBehavior);\r\n});\r\n\r\nconst primaryElement = createSelector(primaryElementBehavior, behavior => {\r\n  if (!behavior) {\r\n    return null;\r\n  }\r\n\r\n  return behavior.templateData.ElementID;\r\n});\r\n\r\nconst structuredSelector = {\r\n  position,\r\n  primaryElement\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import * as CSS from \"csstype\";\r\n\r\nimport { BgColorProps, bgColor } from \"styled-system\";\r\n\r\nimport styled, { TextProps, css, text, getTheme, Space, Color } from \"@/style\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nexport interface ToolbarItemProps {\r\n  align?: \"left\" | \"center\" | \"right\";\r\n  alignContent?: CSS.AlignContentProperty;\r\n}\r\nconst toolbarItem = css<ToolbarItemProps>`\r\n  grid-area: ${props => props.align};\r\n  justify-self: ${props => props.align};\r\n  align-self: ${props => props.alignContent || \"baseline\"};\r\n`;\r\n\r\nexport type ToolbarLabelProps = ToolbarItemProps & TextProps;\r\nconst ToolbarLabel = styled<ToolbarLabelProps, \"label\">(\"label\")`\r\n  ${text};\r\n  ${toolbarItem};\r\n`;\r\nToolbarLabel.defaultProps = {\r\n  align: \"left\"\r\n};\r\nToolbarLabel.displayName = \"ToolbarLabel\";\r\n\r\nexport type ToolbarGroupProps = ToolbarItemProps;\r\nconst ToolbarGroup = styled<ToolbarGroupProps, \"div\">(\"div\")`\r\n  display: inline-block;\r\n  ${toolbarItem};\r\n`;\r\nToolbarGroup.defaultProps = {\r\n  align: \"right\"\r\n};\r\nToolbarGroup.displayName = \"ToolbarButtonGroup\";\r\n\r\nexport type ToolbarProps = BgColorProps;\r\nconst Toolbar = styled<ToolbarProps, \"div\">(\"div\")`\r\n  width: 100%;\r\n  height: auto;\r\n  display: grid;\r\n  padding: 0px ${props => getTheme(props).space[Space.Small]}px;\r\n  box-sizing: border-box;\r\n  grid-template-columns: [left] 1fr [center] 1fr [right] 1fr;\r\n  ${bgColor};\r\n`;\r\nToolbar.defaultProps = {\r\n  bg: Color.PanelBackground\r\n};\r\nToolbar.displayName = \"Toolbar\";\r\n\r\nexport default attachProps(Toolbar, {\r\n  Label: ToolbarLabel,\r\n  Group: ToolbarGroup\r\n});\r\n","import Box from \"@/components/Box\";\r\n\r\nconst GameObjectHeaderContainer = Box;\r\nGameObjectHeaderContainer.displayName = \"GameObjectHeaderContainer\";\r\nexport default GameObjectHeaderContainer;\r\n","import MinionEditor from \"./MinionEditor\";\r\nexport default MinionEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport VerticalTabs from \"@/components/VerticalTabs\";\r\n\r\nimport EditorContainer from \"../../components/EditorContainer\";\r\n\r\nimport GameObjectHeader from \"../components/GameObjectHeader\";\r\n\r\nimport MinionHeader from \"./components/MinionEditableName\";\r\nimport MinionAppearanceTab from \"./components/MinionAppearanceTab\";\r\nimport MinionAptitudesTab from \"./components/MinionAptitudesTab\";\r\nimport MinionEffectsTab from \"./components/MinionEffectsTab\";\r\nimport MinionHealthTab from \"./components/MinionHealthTab\";\r\nimport MinionJobsTab from \"./components/MinionJobsTab\";\r\nimport MinionSkillsTab from \"./components/MinionSkillsTab\";\r\nimport MinionTraitsTab from \"./components/MinionTraitsTab\";\r\nimport MinionPositionTab from \"./components/MinionPositionTab\";\r\n\r\ntype Props = StateProps;\r\nclass DuplicantEditor extends React.Component<Props> {\r\n  render() {\r\n    const { minionNamePath, gameObjectPath } = this.props;\r\n    if (!minionNamePath) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"Malformed Data\">\r\n          Duplicant is missing the MinionIdentity behavior.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <EditorContainer\r\n        header={\r\n          <GameObjectHeader>\r\n            <MinionHeader minionNamePath={minionNamePath} />\r\n          </GameObjectHeader>\r\n        }\r\n      >\r\n        <VerticalTabs width=\"100%\" height=\"100%\">\r\n          <VerticalTabs.Tab tabKey=\"appearance\" header=\"Appearance\">\r\n            <MinionAppearanceTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"health\" header=\"Health\">\r\n            <MinionHealthTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"traits\" header=\"Traits\">\r\n            <MinionTraitsTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"skills\" header=\"Skills\">\r\n            <MinionSkillsTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"jobs\" header=\"Jobs\">\r\n            <MinionJobsTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"aptitude\" header=\"Aptitudes\">\r\n            <MinionAptitudesTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"effects\" header=\"Effects\">\r\n            <MinionEffectsTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"position\" header=\"Position\">\r\n            <MinionPositionTab />\r\n          </VerticalTabs.Tab>\r\n        </VerticalTabs>\r\n      </EditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(DuplicantEditor);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\nimport { MinionIdentityBehavior, GameObject } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport selectedPath from \"@/selectors/selected-path\";\r\nimport oniSave from \"@/selectors/oni-save\";\r\nimport { get } from \"lodash-es\";\r\n\r\nconst structuredSelector = {\r\n  gameObjectPath: selectedPath,\r\n  minionNamePath: createSelector(selectedPath, oniSave, (path, oniSave) => {\r\n    const gameObject: GameObject = get(oniSave, path);\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n    const behaviorIndex = gameObject.behaviors.findIndex(\r\n      x => x.name === MinionIdentityBehavior\r\n    );\r\n    if (behaviorIndex === -1) {\r\n      return null;\r\n    }\r\n    return [...path, \"behaviors\", `${behaviorIndex}`, \"templateData\", \"name\"];\r\n  })\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import VerticalTabs from \"./VerticalTabs\";\r\nexport default VerticalTabs;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { BoxProps } from \"@/components/Box\";\r\nimport Flex from \"@/components/Flex\";\r\n\r\nimport TabContent from \"./components/TabContent\";\r\nimport VerticalTabItem from \"./components/VerticalTabItem\";\r\n\r\nimport Tab, { TabProps } from \"./components/Tab\";\r\n\r\nexport interface VerticalTabsProps extends BoxProps {}\r\n\r\ntype Props = VerticalTabsProps;\r\ninterface State {\r\n  selectedKey: string | number | null;\r\n}\r\nclass VerticalTabs extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selectedKey: null\r\n    };\r\n  }\r\n\r\n  render() {\r\n    let { children } = this.props;\r\n    let { selectedKey } = this.state;\r\n\r\n    const tabs = React.Children.map(\r\n      children,\r\n      x =>\r\n        React.isValidElement<TabProps>(x) && x.props.tabKey && x.props.header\r\n          ? x\r\n          : null\r\n    ).filter(x => x !== null) as React.ReactElement<TabProps>[];\r\n\r\n    if (selectedKey == null && tabs.length > 0) {\r\n      selectedKey = tabs[0].props.tabKey;\r\n    }\r\n\r\n    const tabItems = tabs.map((tab, i) => (\r\n      <VerticalTabItem\r\n        key={tab.props.tabKey}\r\n        isSelected={tab.props.tabKey === selectedKey}\r\n        onClick={this._onTabItemClick.bind(this, tab.props.tabKey)}\r\n      >\r\n        {tab.props.header}\r\n      </VerticalTabItem>\r\n    ));\r\n\r\n    const content = selectedKey\r\n      ? tabs.find(x => x.props.tabKey === selectedKey)\r\n      : undefined;\r\n\r\n    return (\r\n      <Flex {...this.props} direction=\"row\">\r\n        <Flex.Item shrink>{tabItems}</Flex.Item>\r\n        <TabContent>{content}</TabContent>\r\n      </Flex>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onTabItemClick(key: string | number) {\r\n    this.setState({\r\n      selectedKey: key\r\n    });\r\n  }\r\n}\r\n\r\nexport { TabProps } from \"./components/Tab\";\r\nexport default attachProps(VerticalTabs, {\r\n  Tab\r\n});\r\n","import * as React from \"react\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\n\r\nconst TabContent: React.SFC = ({ children }) => (\r\n  <Flex.Item grow shrink pl={1}>\r\n    {children}\r\n  </Flex.Item>\r\n);\r\nTabContent.displayName = \"TabContent\";\r\nexport default TabContent;\r\n","import styled, { getTheme, intent, Intent, Space } from \"@/style\";\r\n\r\nexport interface TabProps {\r\n  isSelected?: boolean;\r\n}\r\n\r\nconst VerticalTabItem = styled<TabProps, \"div\">(\"div\")`\r\n  cursor: pointer;\r\n\r\n  padding: ${props => getTheme(props).space[Space.Small]}px;\r\n\r\n  ${props =>\r\n    props.isSelected\r\n      ? intent.of(Intent.Primary)\r\n      : intent.of(Intent.Secondary)} :not(:last-child) {\r\n    border-bottom: ${props => {\r\n      const theme = getTheme(props);\r\n      return `${theme.borders[1]} ${theme.colors.intent.secondary}`;\r\n    }};\r\n  }\r\n\r\n  ${props => {\r\n    const theme = getTheme(props);\r\n    return `border-right: ${theme.borders[1]} ${\r\n      props.isSelected ? \"transparent\" : theme.colors.intent.secondary\r\n    }`;\r\n  }};\r\n`;\r\nVerticalTabItem.displayName = \"VerticalTabItem\";\r\nexport default VerticalTabItem;\r\n","import * as React from \"react\";\r\n\r\nexport interface TabProps {\r\n  tabKey: string | number;\r\n  header: React.ReactChild;\r\n}\r\n\r\nconst Tab: React.SFC<TabProps> = ({ children }) => (\r\n  <React.Fragment>{children}</React.Fragment>\r\n);\r\nTab.displayName = \"Tab\";\r\nexport default Tab;\r\n","import * as React from \"react\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\n\r\nimport EditableTextField from \"@/pages/SaveEditor/components/fields/EditableTextField\";\r\n\r\nimport EditorHeader from \"../../../components/EditorHeader\";\r\n\r\nexport interface MinionHeaderProps {\r\n  minionNamePath: string[];\r\n}\r\nconst MinionHeader: React.SFC<MinionHeaderProps> = ({ minionNamePath }) => (\r\n  <React.Fragment>\r\n    <EditorHeader>\r\n      <Flex direction=\"row\">\r\n        <Flex.Item mr={1}>Name:</Flex.Item>\r\n        <Flex.Item grow shrink>\r\n          <EditableTextField intent={Intent.Primary} path={minionNamePath} />\r\n        </Flex.Item>\r\n      </Flex>\r\n    </EditorHeader>\r\n  </React.Fragment>\r\n);\r\nMinionHeader.displayName = \"MinionHeader\";\r\nexport default MinionHeader;\r\n","import connectEditorField from \"./connect-field\";\r\n\r\nimport EditableText from \"@/components/EditableText\";\r\n\r\nexport default connectEditorField()(EditableText);\r\n","import EditableText from \"./EditableText\";\r\nexport default EditableText;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Keys from \"@/keys\";\r\n\r\nimport { FontSize } from \"@/style\";\r\n\r\nimport { TextProps } from \"../Text\";\r\n\r\nimport EditableTextDisplay from \"./components/EditableTextDisplay\";\r\nimport EditableTextInput from \"./components/EditableTextInput\";\r\n\r\nimport Icon from \"@/components/Icon\";\r\n\r\nexport interface EditableTextProps extends TextProps {\r\n  className?: string;\r\n  value: string;\r\n  minLength?: number;\r\n  maxLength?: number;\r\n  onCommit(value: string): void;\r\n}\r\ntype Props = EditableTextProps;\r\ninterface State {\r\n  editValue: string | null;\r\n}\r\nexport default class EditableText extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      editValue: null\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { className, value, intent } = this.props;\r\n    const { editValue } = this.state;\r\n\r\n    if (editValue !== null) {\r\n      return (\r\n        <EditableTextInput\r\n          className={className}\r\n          autoFocus\r\n          intent={intent}\r\n          value={editValue}\r\n          onChange={this._onEditableChange}\r\n          onKeyUp={this._onEditableKeyUp}\r\n          onFocus={this._onEditableFocus}\r\n          onBlur={this._onEditableBlur}\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <span onClick={this._onTextClick} title=\"Click to Edit\">\r\n          <EditableTextDisplay className={className} intent={intent}>\r\n            {value}\r\n          </EditableTextDisplay>\r\n          <Icon.Pencil fontSize={FontSize.Small} />\r\n        </span>\r\n      );\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onTextClick() {\r\n    const { value } = this.props;\r\n    this.setState({\r\n      editValue: value\r\n    });\r\n  }\r\n\r\n  @autobind()\r\n  private _onEditableChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    this.setState({\r\n      editValue: e.target.value\r\n    });\r\n  }\r\n\r\n  @autobind()\r\n  private _onEditableKeyUp(e: React.KeyboardEvent) {\r\n    switch (e.key) {\r\n      case Keys.Enter:\r\n        this._commit();\r\n        break;\r\n      case Keys.Esc:\r\n        this._reset();\r\n        break;\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onEditableFocus(e: React.FocusEvent<HTMLInputElement>) {\r\n    e.target.select();\r\n  }\r\n\r\n  @autobind()\r\n  private _onEditableBlur() {\r\n    this._commit();\r\n  }\r\n\r\n  private _commit() {\r\n    const { editValue } = this.state;\r\n    const { onCommit } = this.props;\r\n\r\n    if (!editValue) {\r\n      return;\r\n    }\r\n\r\n    onCommit(editValue);\r\n\r\n    this._reset();\r\n  }\r\n\r\n  private _reset() {\r\n    this.setState({\r\n      editValue: null\r\n    });\r\n  }\r\n}\r\n","import Text from \"@/components/Text\";\r\n\r\nconst EditableTextDisplay = Text.extend`\r\n  cursor: text;\r\n`;\r\nEditableTextDisplay.displayName = \"EditableTextDisplay\";\r\nexport default EditableTextDisplay;\r\n","import styled from \"@/style\";\r\n\r\nimport { TextProps, text } from \"@/style\";\r\n\r\nexport type EditableTextProps = TextProps;\r\nconst EditableTextInput = styled<EditableTextProps, \"input\">(\"input\")`\r\n  ${text};\r\n  font-size: inherit;\r\n  background: none;\r\n  border: none;\r\n`;\r\nEditableTextInput.displayName = \"EditableTextInput\";\r\nexport default EditableTextInput;\r\n","import MinionAppearanceTab from \"./MinionAppearanceTab\";\r\nexport default MinionAppearanceTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport {\r\n  DuplicantContainer,\r\n  Hair,\r\n  Head,\r\n  Eyes,\r\n  Body\r\n} from \"react-oni-duplicant\";\r\n\r\nimport {\r\n  AccessoriesByType,\r\n  AccessoryTypes,\r\n  MINION_IDENTITY_GENDERS,\r\n  AccessoryType\r\n} from \"oni-save-parser\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\nimport FormGroup from \"@/components/FormGroup\";\r\nimport NullableInput, {\r\n  InputCompatibleProps\r\n} from \"@/components/NullableInput\";\r\nimport TextInput from \"@/components/TextInput\";\r\nimport EditModeCondition from \"@/components/EditModeCondition\";\r\nimport Text from \"@/components/Text\";\r\nimport TextAutocompleteInput from \"@/components/TextAutocompleteInput\";\r\nimport { Option } from \"@/components/Select\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\nimport SelectInput from \"@/components/SelectInput\";\r\n\r\nconst TDText = Text.withComponent(\"td\");\r\n\r\nconst NoAccessory = <Text intent={Intent.Secondary}>None</Text>;\r\nconst NoAccessoryMouth = <Text intent={Intent.Dangerous}>I Must Scream</Text>;\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionAppearanceTab extends React.Component<Props> {\r\n  render() {\r\n    const {\r\n      gender,\r\n      onSetGender,\r\n      scale,\r\n      hair,\r\n      body,\r\n      eyes,\r\n      headshape\r\n    } = this.props;\r\n\r\n    const fields = AccessoryTypes.map(type => this._renderAccessoryField(type));\r\n\r\n    const genderOpts: Option[] = MINION_IDENTITY_GENDERS.map(ident => ({\r\n      label: ident,\r\n      value: ident\r\n    }));\r\n\r\n    const hairOrdinal = extractOrdinal(hair);\r\n    const bodyOrdinal = extractOrdinal(body);\r\n    const eyesOrdinal = extractOrdinal(eyes);\r\n    const headOrdinal = extractOrdinal(headshape);\r\n\r\n    return (\r\n      <Flex direction=\"row\">\r\n        <div>\r\n          <FormGroup label=\"Gender\">\r\n            <SelectInput\r\n              value={gender || MINION_IDENTITY_GENDERS[0]}\r\n              options={genderOpts}\r\n              onCommit={onSetGender}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Appearance\">\r\n            <table>\r\n              <tbody>{fields}</tbody>\r\n            </table>\r\n          </FormGroup>\r\n          <FormGroup label=\"Scale\">\r\n            <FormGroup label=\"X\" inline>\r\n              <NumericInput\r\n                value={scale ? scale.x : 1}\r\n                precision=\"single\"\r\n                onCommit={this._setScaleX}\r\n              />\r\n            </FormGroup>\r\n            <FormGroup label=\"Y\" inline>\r\n              <NumericInput\r\n                value={scale ? scale.y : 1}\r\n                precision=\"single\"\r\n                onCommit={this._setScaleY}\r\n              />\r\n            </FormGroup>\r\n          </FormGroup>\r\n        </div>\r\n        <div style={{ marginTop: 200, marginLeft: 100 }}>\r\n          <DuplicantContainer>\r\n            {bodyOrdinal && <Body ordinal={bodyOrdinal} />}\r\n            {headOrdinal && <Head ordinal={headOrdinal} />}\r\n            {eyesOrdinal && <Eyes ordinal={eyesOrdinal} />}\r\n            {hairOrdinal && <Hair ordinal={hairOrdinal} />}\r\n          </DuplicantContainer>\r\n        </div>\r\n      </Flex>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _setScaleX(value: number) {\r\n    const { scale, onSetScale } = this.props;\r\n    onSetScale({\r\n      x: value,\r\n      y: scale ? scale.y : 1,\r\n      z: scale ? scale.z : 1\r\n    });\r\n  }\r\n\r\n  @autobind()\r\n  private _setScaleY(value: number) {\r\n    const { scale, onSetScale } = this.props;\r\n    onSetScale({\r\n      x: scale ? scale.x : 1,\r\n      y: value,\r\n      z: scale ? scale.z : 1\r\n    });\r\n  }\r\n\r\n  private _renderAccessoryField(type: AccessoryType) {\r\n    const { onSetAccessory } = this.props;\r\n    let editGroup = (\r\n      <tr key={type}>\r\n        <TDText>{type}</TDText>\r\n        <td>\r\n          <NullableInput\r\n            renderInput={props => this._renderAccessorySelector(type, props)}\r\n            renderNull={type !== \"mouth\" ? NoAccessory : NoAccessoryMouth}\r\n            value={this.props[type]}\r\n            defaultValue={(AccessoriesByType[type] || [])[0] || \"\"}\r\n            onCommit={onSetAccessory.bind(this, type)}\r\n          />\r\n        </td>\r\n      </tr>\r\n    );\r\n\r\n    if (type === \"hat_hair\" || type === \"hair_always\") {\r\n      editGroup = (\r\n        <EditModeCondition key={type} editMode=\"advanced\">\r\n          {editGroup}\r\n        </EditModeCondition>\r\n      );\r\n    }\r\n\r\n    return editGroup;\r\n  }\r\n\r\n  private _renderAccessorySelector(\r\n    type: AccessoryType,\r\n    props: InputCompatibleProps<string>\r\n  ) {\r\n    const accessoryNames = AccessoriesByType[type];\r\n    if (!accessoryNames || accessoryNames.length === 0) {\r\n      return <TextInput {...props} minLength={1} />;\r\n    } else {\r\n      return (\r\n        <TextAutocompleteInput\r\n          value={props.value}\r\n          items={accessoryNames}\r\n          onCommit={props.onCommit}\r\n        />\r\n      );\r\n    }\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionAppearanceTab);\r\n\r\nfunction extractOrdinal(value: string | null): number | null {\r\n  if (!value) {\r\n    return null;\r\n  }\r\n\r\n  const match = /[a-z]+_(\\d)+/.exec(value);\r\n  if (match) {\r\n    return Number(match[1]);\r\n  }\r\n  return null;\r\n}\r\n","var map = {\n\t\"./hair_001/hair_001_0.png\": 425,\n\t\"./hair_001/hair_001_1.png\": 426,\n\t\"./hair_001/hair_001_2.png\": 427,\n\t\"./hair_002/hair_002_0.png\": 428,\n\t\"./hair_002/hair_002_1.png\": 429,\n\t\"./hair_002/hair_002_2.png\": 430,\n\t\"./hair_003/hair_003_0.png\": 431,\n\t\"./hair_003/hair_003_1.png\": 432,\n\t\"./hair_003/hair_003_2.png\": 433,\n\t\"./hair_004/hair_004_0.png\": 434,\n\t\"./hair_004/hair_004_1.png\": 435,\n\t\"./hair_004/hair_004_2.png\": 436,\n\t\"./hair_005/hair_005_0.png\": 437,\n\t\"./hair_005/hair_005_1.png\": 438,\n\t\"./hair_005/hair_005_2.png\": 439,\n\t\"./hair_006/hair_006_0.png\": 440,\n\t\"./hair_006/hair_006_1.png\": 441,\n\t\"./hair_006/hair_006_2.png\": 442,\n\t\"./hair_007/hair_007_0.png\": 443,\n\t\"./hair_007/hair_007_1.png\": 444,\n\t\"./hair_007/hair_007_2.png\": 445,\n\t\"./hair_008/hair_008_0.png\": 446,\n\t\"./hair_008/hair_008_1.png\": 447,\n\t\"./hair_008/hair_008_2.png\": 448,\n\t\"./hair_009/hair_009_0.png\": 449,\n\t\"./hair_009/hair_009_1.png\": 450,\n\t\"./hair_009/hair_009_2.png\": 451,\n\t\"./hair_010/hair_010_0.png\": 452,\n\t\"./hair_010/hair_010_1.png\": 453,\n\t\"./hair_010/hair_010_2.png\": 454,\n\t\"./hair_011/hair_011_0.png\": 455,\n\t\"./hair_011/hair_011_1.png\": 456,\n\t\"./hair_011/hair_011_2.png\": 457,\n\t\"./hair_012/hair_012_0.png\": 458,\n\t\"./hair_012/hair_012_1.png\": 459,\n\t\"./hair_012/hair_012_2.png\": 460,\n\t\"./hair_013/hair_013_0.png\": 461,\n\t\"./hair_013/hair_013_1.png\": 462,\n\t\"./hair_013/hair_013_2.png\": 463,\n\t\"./hair_014/hair_014_0.png\": 464,\n\t\"./hair_014/hair_014_1.png\": 465,\n\t\"./hair_014/hair_014_2.png\": 466,\n\t\"./hair_015/hair_015_0.png\": 467,\n\t\"./hair_015/hair_015_1.png\": 468,\n\t\"./hair_015/hair_015_2.png\": 469,\n\t\"./hair_016/hair_016_0.png\": 470,\n\t\"./hair_016/hair_016_1.png\": 471,\n\t\"./hair_016/hair_016_2.png\": 472,\n\t\"./hair_017/hair_017_0.png\": 473,\n\t\"./hair_017/hair_017_1.png\": 474,\n\t\"./hair_017/hair_017_2.png\": 475,\n\t\"./hair_018/hair_018_0.png\": 476,\n\t\"./hair_018/hair_018_1.png\": 477,\n\t\"./hair_018/hair_018_2.png\": 478,\n\t\"./hair_019/hair_019_0.png\": 479,\n\t\"./hair_019/hair_019_1.png\": 480,\n\t\"./hair_019/hair_019_2.png\": 481,\n\t\"./hair_020/hair_020_0.png\": 482,\n\t\"./hair_020/hair_020_1.png\": 483,\n\t\"./hair_020/hair_020_2.png\": 484,\n\t\"./hair_021/hair_021_0.png\": 485,\n\t\"./hair_021/hair_021_1.png\": 486,\n\t\"./hair_021/hair_021_2.png\": 487,\n\t\"./hair_022/hair_022_0.png\": 488,\n\t\"./hair_022/hair_022_1.png\": 489,\n\t\"./hair_022/hair_022_2.png\": 490,\n\t\"./hair_023/hair_023_0.png\": 491,\n\t\"./hair_023/hair_023_1.png\": 492,\n\t\"./hair_023/hair_023_2.png\": 493,\n\t\"./hair_024/hair_024_0.png\": 494,\n\t\"./hair_024/hair_024_1.png\": 495,\n\t\"./hair_024/hair_024_2.png\": 496,\n\t\"./hair_025/hair_025_0.png\": 497,\n\t\"./hair_025/hair_025_1.png\": 498,\n\t\"./hair_025/hair_025_2.png\": 499,\n\t\"./hair_026/hair_026_0.png\": 500,\n\t\"./hair_026/hair_026_1.png\": 501,\n\t\"./hair_026/hair_026_2.png\": 502,\n\t\"./hair_027/hair_027_0.png\": 503,\n\t\"./hair_027/hair_027_1.png\": 504,\n\t\"./hair_027/hair_027_2.png\": 505,\n\t\"./hair_028/hair_028_0.png\": 506,\n\t\"./hair_028/hair_028_1.png\": 507,\n\t\"./hair_028/hair_028_2.png\": 508,\n\t\"./hair_029/hair_029_0.png\": 509,\n\t\"./hair_029/hair_029_1.png\": 510,\n\t\"./hair_029/hair_029_2.png\": 511,\n\t\"./hair_030/hair_030_0.png\": 512,\n\t\"./hair_030/hair_030_1.png\": 513,\n\t\"./hair_030/hair_030_2.png\": 514,\n\t\"./hair_031/hair_031_0.png\": 515,\n\t\"./hair_031/hair_031_1.png\": 516,\n\t\"./hair_031/hair_031_2.png\": 517,\n\t\"./hair_032/hair_032_0.png\": 518,\n\t\"./hair_032/hair_032_1.png\": 519,\n\t\"./hair_032/hair_032_2.png\": 520,\n\t\"./hair_033/hair_033_0.png\": 521,\n\t\"./hair_033/hair_033_1.png\": 522,\n\t\"./hair_033/hair_033_2.png\": 523\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 424;","var map = {\n\t\"./headshape_001/headshape_001_0.png\": 525,\n\t\"./headshape_001/headshape_001_1.png\": 526,\n\t\"./headshape_001/headshape_001_2.png\": 527,\n\t\"./headshape_001/headshape_001_3.png\": 528,\n\t\"./headshape_002/headshape_002_0.png\": 529,\n\t\"./headshape_002/headshape_002_1.png\": 530,\n\t\"./headshape_002/headshape_002_2.png\": 531,\n\t\"./headshape_002/headshape_002_3.png\": 532,\n\t\"./headshape_003/headshape_003_0.png\": 533,\n\t\"./headshape_003/headshape_003_1.png\": 534,\n\t\"./headshape_003/headshape_003_2.png\": 535,\n\t\"./headshape_003/headshape_003_3.png\": 536,\n\t\"./headshape_004/headshape_004_0.png\": 537,\n\t\"./headshape_004/headshape_004_1.png\": 538,\n\t\"./headshape_004/headshape_004_2.png\": 539,\n\t\"./headshape_004/headshape_004_3.png\": 540\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 524;","var map = {\n\t\"./eyes_001/eyes_001_0.png\": 542,\n\t\"./eyes_001/eyes_001_1.png\": 543,\n\t\"./eyes_001/eyes_001_10.png\": 544,\n\t\"./eyes_001/eyes_001_11.png\": 545,\n\t\"./eyes_001/eyes_001_12.png\": 546,\n\t\"./eyes_001/eyes_001_13.png\": 547,\n\t\"./eyes_001/eyes_001_14.png\": 548,\n\t\"./eyes_001/eyes_001_15.png\": 549,\n\t\"./eyes_001/eyes_001_16.png\": 550,\n\t\"./eyes_001/eyes_001_17.png\": 551,\n\t\"./eyes_001/eyes_001_18.png\": 552,\n\t\"./eyes_001/eyes_001_19.png\": 553,\n\t\"./eyes_001/eyes_001_2.png\": 554,\n\t\"./eyes_001/eyes_001_20.png\": 555,\n\t\"./eyes_001/eyes_001_21.png\": 556,\n\t\"./eyes_001/eyes_001_22.png\": 557,\n\t\"./eyes_001/eyes_001_23.png\": 558,\n\t\"./eyes_001/eyes_001_24.png\": 559,\n\t\"./eyes_001/eyes_001_25.png\": 560,\n\t\"./eyes_001/eyes_001_26.png\": 561,\n\t\"./eyes_001/eyes_001_29.png\": 562,\n\t\"./eyes_001/eyes_001_3.png\": 563,\n\t\"./eyes_001/eyes_001_30.png\": 564,\n\t\"./eyes_001/eyes_001_31.png\": 565,\n\t\"./eyes_001/eyes_001_32.png\": 566,\n\t\"./eyes_001/eyes_001_33.png\": 567,\n\t\"./eyes_001/eyes_001_34.png\": 568,\n\t\"./eyes_001/eyes_001_35.png\": 569,\n\t\"./eyes_001/eyes_001_36.png\": 570,\n\t\"./eyes_001/eyes_001_37.png\": 571,\n\t\"./eyes_001/eyes_001_38.png\": 572,\n\t\"./eyes_001/eyes_001_39.png\": 573,\n\t\"./eyes_001/eyes_001_4.png\": 574,\n\t\"./eyes_001/eyes_001_5.png\": 575,\n\t\"./eyes_001/eyes_001_6.png\": 576,\n\t\"./eyes_001/eyes_001_7.png\": 577,\n\t\"./eyes_001/eyes_001_8.png\": 578,\n\t\"./eyes_001/eyes_001_9.png\": 579,\n\t\"./eyes_002/eyes_002_0.png\": 580,\n\t\"./eyes_002/eyes_002_1.png\": 581,\n\t\"./eyes_002/eyes_002_10.png\": 582,\n\t\"./eyes_002/eyes_002_11.png\": 583,\n\t\"./eyes_002/eyes_002_12.png\": 584,\n\t\"./eyes_002/eyes_002_13.png\": 585,\n\t\"./eyes_002/eyes_002_14.png\": 586,\n\t\"./eyes_002/eyes_002_15.png\": 587,\n\t\"./eyes_002/eyes_002_16.png\": 588,\n\t\"./eyes_002/eyes_002_17.png\": 589,\n\t\"./eyes_002/eyes_002_18.png\": 590,\n\t\"./eyes_002/eyes_002_19.png\": 591,\n\t\"./eyes_002/eyes_002_2.png\": 592,\n\t\"./eyes_002/eyes_002_20.png\": 593,\n\t\"./eyes_002/eyes_002_21.png\": 594,\n\t\"./eyes_002/eyes_002_22.png\": 595,\n\t\"./eyes_002/eyes_002_23.png\": 596,\n\t\"./eyes_002/eyes_002_24.png\": 597,\n\t\"./eyes_002/eyes_002_25.png\": 598,\n\t\"./eyes_002/eyes_002_26.png\": 599,\n\t\"./eyes_002/eyes_002_29.png\": 600,\n\t\"./eyes_002/eyes_002_3.png\": 601,\n\t\"./eyes_002/eyes_002_30.png\": 602,\n\t\"./eyes_002/eyes_002_31.png\": 603,\n\t\"./eyes_002/eyes_002_32.png\": 604,\n\t\"./eyes_002/eyes_002_33.png\": 605,\n\t\"./eyes_002/eyes_002_34.png\": 606,\n\t\"./eyes_002/eyes_002_35.png\": 607,\n\t\"./eyes_002/eyes_002_36.png\": 608,\n\t\"./eyes_002/eyes_002_37.png\": 609,\n\t\"./eyes_002/eyes_002_38.png\": 610,\n\t\"./eyes_002/eyes_002_39.png\": 611,\n\t\"./eyes_002/eyes_002_4.png\": 612,\n\t\"./eyes_002/eyes_002_5.png\": 613,\n\t\"./eyes_002/eyes_002_6.png\": 614,\n\t\"./eyes_002/eyes_002_7.png\": 615,\n\t\"./eyes_002/eyes_002_8.png\": 616,\n\t\"./eyes_002/eyes_002_9.png\": 617,\n\t\"./eyes_003/eyes_003_0.png\": 618,\n\t\"./eyes_003/eyes_003_1.png\": 619,\n\t\"./eyes_003/eyes_003_10.png\": 620,\n\t\"./eyes_003/eyes_003_11.png\": 621,\n\t\"./eyes_003/eyes_003_12.png\": 622,\n\t\"./eyes_003/eyes_003_13.png\": 623,\n\t\"./eyes_003/eyes_003_14.png\": 624,\n\t\"./eyes_003/eyes_003_15.png\": 625,\n\t\"./eyes_003/eyes_003_16.png\": 626,\n\t\"./eyes_003/eyes_003_17.png\": 627,\n\t\"./eyes_003/eyes_003_18.png\": 628,\n\t\"./eyes_003/eyes_003_19.png\": 629,\n\t\"./eyes_003/eyes_003_2.png\": 630,\n\t\"./eyes_003/eyes_003_20.png\": 631,\n\t\"./eyes_003/eyes_003_21.png\": 632,\n\t\"./eyes_003/eyes_003_22.png\": 633,\n\t\"./eyes_003/eyes_003_23.png\": 634,\n\t\"./eyes_003/eyes_003_24.png\": 635,\n\t\"./eyes_003/eyes_003_25.png\": 636,\n\t\"./eyes_003/eyes_003_26.png\": 637,\n\t\"./eyes_003/eyes_003_29.png\": 638,\n\t\"./eyes_003/eyes_003_3.png\": 639,\n\t\"./eyes_003/eyes_003_30.png\": 640,\n\t\"./eyes_003/eyes_003_31.png\": 641,\n\t\"./eyes_003/eyes_003_32.png\": 642,\n\t\"./eyes_003/eyes_003_33.png\": 643,\n\t\"./eyes_003/eyes_003_34.png\": 644,\n\t\"./eyes_003/eyes_003_35.png\": 645,\n\t\"./eyes_003/eyes_003_36.png\": 646,\n\t\"./eyes_003/eyes_003_37.png\": 647,\n\t\"./eyes_003/eyes_003_38.png\": 648,\n\t\"./eyes_003/eyes_003_39.png\": 649,\n\t\"./eyes_003/eyes_003_4.png\": 650,\n\t\"./eyes_003/eyes_003_5.png\": 651,\n\t\"./eyes_003/eyes_003_6.png\": 652,\n\t\"./eyes_003/eyes_003_7.png\": 653,\n\t\"./eyes_003/eyes_003_8.png\": 654,\n\t\"./eyes_003/eyes_003_9.png\": 655,\n\t\"./eyes_004/eyes_004_0.png\": 656,\n\t\"./eyes_004/eyes_004_1.png\": 657,\n\t\"./eyes_004/eyes_004_10.png\": 658,\n\t\"./eyes_004/eyes_004_11.png\": 659,\n\t\"./eyes_004/eyes_004_12.png\": 660,\n\t\"./eyes_004/eyes_004_13.png\": 661,\n\t\"./eyes_004/eyes_004_14.png\": 662,\n\t\"./eyes_004/eyes_004_15.png\": 663,\n\t\"./eyes_004/eyes_004_16.png\": 664,\n\t\"./eyes_004/eyes_004_17.png\": 665,\n\t\"./eyes_004/eyes_004_18.png\": 666,\n\t\"./eyes_004/eyes_004_19.png\": 667,\n\t\"./eyes_004/eyes_004_2.png\": 668,\n\t\"./eyes_004/eyes_004_20.png\": 669,\n\t\"./eyes_004/eyes_004_21.png\": 670,\n\t\"./eyes_004/eyes_004_22.png\": 671,\n\t\"./eyes_004/eyes_004_23.png\": 672,\n\t\"./eyes_004/eyes_004_24.png\": 673,\n\t\"./eyes_004/eyes_004_25.png\": 674,\n\t\"./eyes_004/eyes_004_26.png\": 675,\n\t\"./eyes_004/eyes_004_29.png\": 676,\n\t\"./eyes_004/eyes_004_3.png\": 677,\n\t\"./eyes_004/eyes_004_30.png\": 678,\n\t\"./eyes_004/eyes_004_31.png\": 679,\n\t\"./eyes_004/eyes_004_32.png\": 680,\n\t\"./eyes_004/eyes_004_33.png\": 681,\n\t\"./eyes_004/eyes_004_34.png\": 682,\n\t\"./eyes_004/eyes_004_35.png\": 683,\n\t\"./eyes_004/eyes_004_36.png\": 684,\n\t\"./eyes_004/eyes_004_37.png\": 685,\n\t\"./eyes_004/eyes_004_38.png\": 686,\n\t\"./eyes_004/eyes_004_39.png\": 687,\n\t\"./eyes_004/eyes_004_4.png\": 688,\n\t\"./eyes_004/eyes_004_5.png\": 689,\n\t\"./eyes_004/eyes_004_6.png\": 690,\n\t\"./eyes_004/eyes_004_7.png\": 691,\n\t\"./eyes_004/eyes_004_8.png\": 692,\n\t\"./eyes_004/eyes_004_9.png\": 693,\n\t\"./eyes_005/eyes_005_0.png\": 694,\n\t\"./eyes_005/eyes_005_1.png\": 695,\n\t\"./eyes_005/eyes_005_10.png\": 696,\n\t\"./eyes_005/eyes_005_11.png\": 697,\n\t\"./eyes_005/eyes_005_12.png\": 698,\n\t\"./eyes_005/eyes_005_13.png\": 699,\n\t\"./eyes_005/eyes_005_14.png\": 700,\n\t\"./eyes_005/eyes_005_15.png\": 701,\n\t\"./eyes_005/eyes_005_16.png\": 702,\n\t\"./eyes_005/eyes_005_17.png\": 703,\n\t\"./eyes_005/eyes_005_18.png\": 704,\n\t\"./eyes_005/eyes_005_19.png\": 705,\n\t\"./eyes_005/eyes_005_2.png\": 706,\n\t\"./eyes_005/eyes_005_20.png\": 707,\n\t\"./eyes_005/eyes_005_21.png\": 708,\n\t\"./eyes_005/eyes_005_22.png\": 709,\n\t\"./eyes_005/eyes_005_23.png\": 710,\n\t\"./eyes_005/eyes_005_24.png\": 711,\n\t\"./eyes_005/eyes_005_25.png\": 712,\n\t\"./eyes_005/eyes_005_26.png\": 713,\n\t\"./eyes_005/eyes_005_29.png\": 714,\n\t\"./eyes_005/eyes_005_3.png\": 715,\n\t\"./eyes_005/eyes_005_30.png\": 716,\n\t\"./eyes_005/eyes_005_31.png\": 717,\n\t\"./eyes_005/eyes_005_32.png\": 718,\n\t\"./eyes_005/eyes_005_33.png\": 719,\n\t\"./eyes_005/eyes_005_34.png\": 720,\n\t\"./eyes_005/eyes_005_35.png\": 721,\n\t\"./eyes_005/eyes_005_36.png\": 722,\n\t\"./eyes_005/eyes_005_37.png\": 723,\n\t\"./eyes_005/eyes_005_38.png\": 724,\n\t\"./eyes_005/eyes_005_39.png\": 725,\n\t\"./eyes_005/eyes_005_4.png\": 726,\n\t\"./eyes_005/eyes_005_5.png\": 727,\n\t\"./eyes_005/eyes_005_6.png\": 728,\n\t\"./eyes_005/eyes_005_7.png\": 729,\n\t\"./eyes_005/eyes_005_8.png\": 730,\n\t\"./eyes_005/eyes_005_9.png\": 731\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 541;","var map = {\n\t\"./body_001/body_001_0.png\": 733,\n\t\"./body_001/body_001_1.png\": 734,\n\t\"./body_001/body_001_10.png\": 735,\n\t\"./body_001/body_001_11.png\": 736,\n\t\"./body_001/body_001_12.png\": 737,\n\t\"./body_001/body_001_2.png\": 738,\n\t\"./body_001/body_001_20.png\": 739,\n\t\"./body_001/body_001_21.png\": 740,\n\t\"./body_001/body_001_22.png\": 741,\n\t\"./body_001/body_001_23.png\": 742,\n\t\"./body_001/body_001_24.png\": 743,\n\t\"./body_001/body_001_3.png\": 744,\n\t\"./body_001/body_001_4.png\": 745,\n\t\"./body_001/body_001_5.png\": 746,\n\t\"./body_002/body_002_0.png\": 747,\n\t\"./body_002/body_002_1.png\": 748,\n\t\"./body_002/body_002_10.png\": 749,\n\t\"./body_002/body_002_11.png\": 750,\n\t\"./body_002/body_002_12.png\": 751,\n\t\"./body_002/body_002_2.png\": 752,\n\t\"./body_002/body_002_20.png\": 753,\n\t\"./body_002/body_002_21.png\": 754,\n\t\"./body_002/body_002_22.png\": 755,\n\t\"./body_002/body_002_23.png\": 756,\n\t\"./body_002/body_002_24.png\": 757,\n\t\"./body_002/body_002_3.png\": 758,\n\t\"./body_002/body_002_4.png\": 759,\n\t\"./body_002/body_002_5.png\": 760,\n\t\"./body_003/body_003_0.png\": 761,\n\t\"./body_003/body_003_1.png\": 762,\n\t\"./body_003/body_003_10.png\": 763,\n\t\"./body_003/body_003_11.png\": 764,\n\t\"./body_003/body_003_12.png\": 765,\n\t\"./body_003/body_003_2.png\": 766,\n\t\"./body_003/body_003_20.png\": 767,\n\t\"./body_003/body_003_21.png\": 768,\n\t\"./body_003/body_003_22.png\": 769,\n\t\"./body_003/body_003_23.png\": 770,\n\t\"./body_003/body_003_24.png\": 771,\n\t\"./body_003/body_003_3.png\": 772,\n\t\"./body_003/body_003_4.png\": 773,\n\t\"./body_003/body_003_5.png\": 774,\n\t\"./body_004/body_004_0.png\": 775,\n\t\"./body_004/body_004_1.png\": 776,\n\t\"./body_004/body_004_10.png\": 777,\n\t\"./body_004/body_004_11.png\": 778,\n\t\"./body_004/body_004_12.png\": 779,\n\t\"./body_004/body_004_2.png\": 780,\n\t\"./body_004/body_004_20.png\": 781,\n\t\"./body_004/body_004_21.png\": 782,\n\t\"./body_004/body_004_22.png\": 783,\n\t\"./body_004/body_004_23.png\": 784,\n\t\"./body_004/body_004_24.png\": 785,\n\t\"./body_004/body_004_3.png\": 786,\n\t\"./body_004/body_004_4.png\": 787,\n\t\"./body_004/body_004_5.png\": 788\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 732;","import { Selector, createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport {\r\n  AccessoryTypes,\r\n  AccessorizerBehavior,\r\n  GameObject,\r\n  AccessoryType,\r\n  getAccessoryName,\r\n  getAccessoryOfType,\r\n  getBehavior\r\n} from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getSelectedGameObjectGender } from \"@/selectors/behaviors/minion-identity\";\r\nimport { getSelectedGameObjectScale } from \"@/selectors/game-object\";\r\n\r\nimport selectedValue from \"@/selectors/selected-value\";\r\nimport selectedPath from \"@/selectors/selected-path\";\r\n\r\nconst accessorizerBehavior = createSelector(\r\n  selectedValue,\r\n  (gameObject: GameObject) => {\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n    return getBehavior(gameObject, AccessorizerBehavior);\r\n  }\r\n);\r\n\r\nfunction createAccessorySelector(\r\n  accessoryType: AccessoryType\r\n): Selector<AppState, string | null> {\r\n  return createSelector(accessorizerBehavior, behavior => {\r\n    if (!behavior) {\r\n      return null;\r\n    }\r\n\r\n    const { accessories } = behavior.templateData;\r\n\r\n    const accessory = getAccessoryOfType(accessories, accessoryType);\r\n    if (!accessory) {\r\n      return null;\r\n    }\r\n\r\n    return getAccessoryName(accessory);\r\n  });\r\n}\r\n\r\nconst structuredSelector = {\r\n  selectedPath,\r\n  gender: getSelectedGameObjectGender,\r\n  scale: getSelectedGameObjectScale\r\n};\r\nAccessoryTypes.forEach(x => {\r\n  (structuredSelector as any)[x] = createAccessorySelector(x);\r\n});\r\nexport type StateProps = StructuredStateProps<\r\n  typeof structuredSelector & Record<AccessoryType, () => string | null>\r\n>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector as any\r\n);\r\nexport default mapStateToProps;\r\n","import { MinionIdentityBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorSelector } from \"@/selectors/behaviors/utils\";\r\n\r\nexport const getSelectedGameObjectIdentityBehavior = getCurrentGameObjectBehaviorSelector(\r\n  MinionIdentityBehavior\r\n);\r\n\r\nexport const getSelectedGameObjectGender = (state: AppState) => {\r\n  const behavior = getSelectedGameObjectIdentityBehavior(state);\r\n  if (!behavior) {\r\n    return null;\r\n  }\r\n  return behavior.templateData.genderStringKey;\r\n};\r\n","import { setIdentityGender } from \"@/actions/behaviors/set-identity-gender\";\r\nimport { setAccessory } from \"@/actions/behaviors/set-accessory\";\r\nimport { setGameObjectScale } from \"@/actions/game-object/set-scale\";\r\n\r\nconst mapDispatchToProps = {\r\n  onSetScale: setGameObjectScale,\r\n  onSetGender: setIdentityGender,\r\n  onSetAccessory: setAccessory\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Autocomplete from \"@/components/Autocomplete\";\r\n\r\nexport interface TextAutocompleteInputProps {\r\n  value: string;\r\n  minLength?: number;\r\n  maxLength?: number;\r\n  items: string[];\r\n  onCommit(value: string): void;\r\n}\r\n\r\ntype Props = TextAutocompleteInputProps;\r\ninterface State {\r\n  editValue: string | null;\r\n  isValid: boolean;\r\n}\r\nexport default class TextAutocompleteInput extends React.Component<\r\n  Props,\r\n  State\r\n> {\r\n  private _inputRef = React.createRef<HTMLInputElement>();\r\n\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      editValue: null,\r\n      isValid: true\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { value, minLength, maxLength, items } = this.props;\r\n    const { editValue } = this.state;\r\n\r\n    const currentValue = editValue != null ? editValue : value;\r\n\r\n    return (\r\n      <Autocomplete\r\n        value={currentValue}\r\n        items={items}\r\n        minLength={minLength}\r\n        maxLength={maxLength}\r\n        getItemValue={x => x}\r\n        onChange={this._onValueChange}\r\n        onSelect={this._onValueSelect}\r\n        selectOnBlur\r\n      />\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onValueChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const value = e.target.value;\r\n    this._setEditValue(value);\r\n  }\r\n\r\n  @autobind()\r\n  private _onValueSelect(value: string) {\r\n    this._setEditValue(value, () => {\r\n      this._commitEdit();\r\n    });\r\n  }\r\n\r\n  private _setEditValue(value: string, onSet?: () => void) {\r\n    const validation = this._validate(value);\r\n    const isValid = !validation;\r\n\r\n    if (this._inputRef.current) {\r\n      this._inputRef.current.setCustomValidity(validation || \"\");\r\n    }\r\n\r\n    this.setState(\r\n      {\r\n        editValue: value,\r\n        isValid\r\n      },\r\n      onSet\r\n    );\r\n  }\r\n\r\n  private _commitEdit() {\r\n    const { editValue, isValid } = this.state;\r\n    const { onCommit } = this.props;\r\n\r\n    this.setState({\r\n      editValue: null\r\n    });\r\n\r\n    if (!editValue || !isValid) {\r\n      return;\r\n    }\r\n\r\n    onCommit(editValue);\r\n  }\r\n\r\n  private _validate(value: string): string | null {\r\n    const { minLength, maxLength } = this.props;\r\n    if (minLength != null && (!value || value.length < minLength)) {\r\n      return `Value must be at least ${minLength} characters.`;\r\n    }\r\n\r\n    if (maxLength != null && value.length > maxLength) {\r\n      return `Value must be less than ${maxLength} characters.`;\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport ReactAutocomplete from \"react-autocomplete\";\r\n\r\nimport { Intent, getTheme, Space } from \"@/style\";\r\n\r\nimport Input, { InputProps } from \"@/components/Input\";\r\nimport Box from \"@/components/Box\";\r\nimport Text from \"@/components/Text\";\r\n\r\nexport type AutocompleteProps = Omit<ReactAutocomplete.Props, \"renderItem\"> & {\r\n  intent?: Intent;\r\n  renderItem?: ReactAutocomplete.Props[\"renderItem\"];\r\n  minLength?: number;\r\n  maxLength?: number;\r\n};\r\n\r\nconst AutocompleteItem = Text.withComponent(\"div\").extend`\r\n  width: 100%;\r\n  margin: 0 ${props => getTheme(props).space[Space.Small]}px;\r\n`;\r\n\r\nconst Autocomplete: React.SFC<AutocompleteProps> = props => (\r\n  <ReactAutocomplete\r\n    {...props}\r\n    renderInput={inputProps => <Input {...convertProps(inputProps)} />}\r\n    renderItem={(item, isHighlighted, style) => (\r\n      <AutocompleteItem\r\n        intent={isHighlighted ? Intent.Primary : Intent.Secondary}\r\n      >\r\n        {(props.renderItem || defaultRenderItem)(item, isHighlighted, style)}\r\n      </AutocompleteItem>\r\n    )}\r\n    renderMenu={props.renderMenu || renderMenu.bind(null, props)}\r\n  />\r\n);\r\nAutocomplete.displayName = \"Autocomplete\";\r\nexport default Autocomplete;\r\n\r\nfunction convertProps(\r\n  props: React.HTMLProps<HTMLInputElement>\r\n): Omit<InputProps, \"ref\"> {\r\n  const { ref, ...rest } = props;\r\n  return {\r\n    ...(rest as any),\r\n    innerRef: props.ref\r\n  };\r\n}\r\n\r\nfunction defaultRenderItem(\r\n  item: any,\r\n  isHighlighted: boolean,\r\n  style?: React.CSSProperties\r\n) {\r\n  style = style || {};\r\n  style.width = \"100%\";\r\n  return <div style={style}>{item}</div>;\r\n}\r\n\r\nconst AutocompleteMenu = Box.extend`\r\n  background: ${props => getTheme(props).colors.bg.panel};\r\n  border: ${props => {\r\n    const theme = getTheme(props);\r\n    return `${theme.borders[1]} ${\r\n      theme.colors.intent[props.intent || Intent.Secondary]\r\n    }`;\r\n  }};\r\n  border-top: none;\r\n`;\r\n\r\nfunction renderMenu(\r\n  props: AutocompleteProps,\r\n  items: any[],\r\n  value: string,\r\n  styles: React.CSSProperties\r\n): React.ReactNode {\r\n  // TODO: Portal.\r\n  const elements = items.map((x, i) => <div key={i}>{x}</div>);\r\n  return (\r\n    <AutocompleteMenu intent={props.intent} style={styles}>\r\n      {elements}\r\n    </AutocompleteMenu>\r\n  );\r\n}\r\n","import MinionAptitudesTab from \"./MinionAptitudesTab\";\r\nexport default MinionAptitudesTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { compare } from \"@/math\";\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps, AptitudeData } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport DataTable, { DataTableColumn } from \"@/components/DataTable\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionAptitudesTab extends React.Component<Props> {\r\n  render() {\r\n    const { aptitudes, setAptitude } = this.props;\r\n\r\n    if (!aptitudes || aptitudes.length === 0) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"No Data\">\r\n          No aptitude data could be found on this duplicant.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    const columns: DataTableColumn[] = [\r\n      {\r\n        header: \"Role\",\r\n        sortable: true,\r\n        filterable: true,\r\n        property: \"roleId\"\r\n      },\r\n      {\r\n        header: \"Aptitude\",\r\n        sortable: true,\r\n        filterable: false,\r\n        property: \"aptitude\",\r\n        cell: ({ value, rowData }) => (\r\n          <NumericInput\r\n            precision=\"single\"\r\n            minValue={0}\r\n            value={value}\r\n            onCommit={setAptitude.bind(null, rowData.index)}\r\n          />\r\n        ),\r\n        sortMethod: (data, column, sortAscending) => {\r\n          return data.sort((a, b) => compare(a, b, sortAscending));\r\n        }\r\n      }\r\n    ];\r\n\r\n    return <DataTable columns={columns} data={aptitudes} />;\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionAptitudesTab);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { MinionResumeBehavior, MinionRoleGroup } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorPropertySelector } from \"@/selectors/behaviors/utils\";\r\n\r\nconst aptitudesSelector = getCurrentGameObjectBehaviorPropertySelector<\r\n  MinionResumeBehavior,\r\n  MinionResumeBehavior[\"templateData\"][\"AptitudeByRoleGroup\"]\r\n>(MinionResumeBehavior, [\"templateData\", \"AptitudeByRoleGroup\"]);\r\n\r\nexport interface AptitudeData {\r\n  roleId: string;\r\n  roleHash: number;\r\n  aptitude: number;\r\n  index: number;\r\n}\r\nconst aptitudeDataSelector = createSelector(aptitudesSelector, aptitudes => {\r\n  if (!aptitudes) {\r\n    return null;\r\n  }\r\n\r\n  const data: AptitudeData[] = [];\r\n\r\n  for (let i = 0; i < aptitudes.length; i++) {\r\n    const [hstr, aptitude] = aptitudes[i];\r\n    const roleId = MinionRoleGroup[hstr.hash];\r\n    if (!roleId) {\r\n      continue;\r\n    }\r\n    data.push({\r\n      roleId,\r\n      roleHash: hstr.hash,\r\n      aptitude,\r\n      index: i\r\n    });\r\n  }\r\n\r\n  return data;\r\n});\r\n\r\nconst structuredSelector = {\r\n  aptitudes: aptitudeDataSelector\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { MinionResumeBehavior } from \"oni-save-parser\";\r\nimport { setCurrentObjectBehaviorValue } from \"@/actions/behaviors/set-currentobject-behavior-value\";\r\n\r\nconst mapDispatchToProps = {\r\n  setAptitude(index: number, aptitude: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      MinionResumeBehavior,\r\n      [\"templateData\", \"AptitudeByRoleGroup\", `${index}`, \"1\"],\r\n      aptitude\r\n    );\r\n  }\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionEffectsTab from \"./MinionEffectsTab\";\r\nexport default MinionEffectsTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { AI_EFFECT_IDS } from \"oni-save-parser\";\r\n\r\nimport { compare } from \"@/math\";\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport DataTable, { DataTableColumn } from \"@/components/DataTable\";\r\nimport NullableInput from \"@/components/NullableInput\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionEffectsTab extends React.Component<Props> {\r\n  render() {\r\n    const { effects, onSetEffectData } = this.props;\r\n\r\n    if (!effects) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"No Data\">\r\n          No effects data could be found on this duplicant.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    const data = AI_EFFECT_IDS.map(effectId => {\r\n      const effectIndex = effects.findIndex(x => x.id === effectId);\r\n      const effect = effectIndex > -1 ? effects[effectIndex] : null;\r\n      return {\r\n        effectId,\r\n        effectIndex,\r\n        timeRemaining: effect ? effect.timeRemaining : null\r\n      };\r\n    });\r\n\r\n    const columns: DataTableColumn[] = [\r\n      {\r\n        header: \"Effect\",\r\n        sortable: true,\r\n        filterable: true,\r\n        property: \"effectId\"\r\n      },\r\n      {\r\n        header: \"Time Remaining\",\r\n        sortable: true,\r\n        filterable: false,\r\n        property: \"timeRemaining\",\r\n        cell: ({ rowData }: { rowData: typeof data[0] }) => (\r\n          <NullableInput\r\n            value={rowData.timeRemaining}\r\n            onCommit={onSetEffectData.bind(\r\n              null,\r\n              rowData.effectId,\r\n              rowData.effectIndex\r\n            )}\r\n            defaultValue={15000}\r\n            renderInput={props => (\r\n              <NumericInput precision=\"single\" minValue={0} {...props} />\r\n            )}\r\n          />\r\n        ),\r\n        sortMethod: (data, column, sortAscending) => {\r\n          return data.sort((a, b) => compare(a, b, sortAscending));\r\n        }\r\n      }\r\n    ];\r\n\r\n    return <DataTable columns={columns} data={data} />;\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionEffectsTab);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AIEffectsBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorPropertySelector } from \"@/selectors/behaviors/utils\";\r\n\r\nconst effects = getCurrentGameObjectBehaviorPropertySelector<\r\n  AIEffectsBehavior,\r\n  AIEffectsBehavior[\"templateData\"][\"saveLoadEffects\"]\r\n>(AIEffectsBehavior, [\"templateData\", \"saveLoadEffects\"]);\r\n\r\nconst structuredSelector = {\r\n  effects\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { AIEffectsBehavior, EffectInstance } from \"oni-save-parser\";\r\n\r\nimport {\r\n  insertCurrentObjectBehaviorArrayValue,\r\n  removeCurrentObjectBehaviorArrayIndex\r\n} from \"@/actions/behaviors/modify-currentobject-behavior-array\";\r\n\r\nimport { setCurrentObjectBehaviorValue } from \"@/actions/behaviors/set-currentobject-behavior-value\";\r\n\r\nconst EffectsPath = [\"templateData\", \"saveLoadEffects\"];\r\n\r\nconst mapDispatchToProps = {\r\n  onSetEffectData(\r\n    effectId: string,\r\n    effectIndex: number,\r\n    timeRemaining: number | null\r\n  ) {\r\n    if (timeRemaining != null && timeRemaining > 0) {\r\n      if (effectIndex === -1) {\r\n        // New Effect\r\n        const effect: EffectInstance = {\r\n          id: effectId,\r\n          timeRemaining\r\n        };\r\n        return insertCurrentObjectBehaviorArrayValue(\r\n          AIEffectsBehavior,\r\n          EffectsPath,\r\n          effect\r\n        );\r\n      } else {\r\n        // Changing effect time remaining\r\n        return setCurrentObjectBehaviorValue(\r\n          AIEffectsBehavior,\r\n          [...EffectsPath, `${effectIndex}`, \"timeRemaining\"],\r\n          timeRemaining\r\n        );\r\n      }\r\n    } else if (effectIndex > -1) {\r\n      // Removing effect.\r\n      return removeCurrentObjectBehaviorArrayIndex(\r\n        AIEffectsBehavior,\r\n        EffectsPath,\r\n        effectIndex\r\n      );\r\n    }\r\n  },\r\n  onRemoveEffect(effectIndex: number) {}\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionHealthTab from \"./MinionHealthTab\";\r\nexport default MinionHealthTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { HealthState } from \"oni-save-parser\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport VerticalTabs from \"@/components/VerticalTabs\";\r\nimport FormGroup from \"@/components/FormGroup\";\r\nimport SelectInput from \"@/components/SelectInput\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\n\r\nconst TD = Text.withComponent(\"td\");\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionHealthTab extends React.Component<Props> {\r\n  render() {\r\n    const {\r\n      healthState,\r\n      onHealthStatusChanged,\r\n      hitpoints,\r\n      onHitpointsChanged,\r\n      stamina,\r\n      onStaminaChanged,\r\n      calories,\r\n      onCaloriesChanged,\r\n      breath,\r\n      onBreathChanged,\r\n      stress,\r\n      onStressChanged,\r\n      bladder,\r\n      onBladderChanged,\r\n      surfaceDiseaseId,\r\n      surfaceDiseaseCount,\r\n      immuneLevel,\r\n      onImmuneLevelChanged,\r\n      foodPoisoning,\r\n      onFoodPoisoningChanged,\r\n      coldBrain,\r\n      onColdBrainChanged,\r\n      heatRash,\r\n      onHeatRashChanged,\r\n      slimeLung,\r\n      onSlimeLungChanged,\r\n      spores,\r\n      onSporesChanged,\r\n      sunburn,\r\n      onSunburnChanged\r\n    } = this.props;\r\n\r\n    const options = Object.keys(HealthState)\r\n      .filter(x => isNaN(parseInt(x)))\r\n      .map(x => ({\r\n        label: x,\r\n        value: HealthState[x as any]\r\n      }));\r\n\r\n    // TODO: selector for disease type hashes with advanced mode custom\r\n    // string.\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div>\r\n          <Text.H4>Wellness</Text.H4>\r\n          <FormGroup label=\"Status\" inline>\r\n            <SelectInput\r\n              value={healthState || HealthState.Perfect}\r\n              options={options}\r\n              onCommit={onHealthStatusChanged}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"HitPoints\" inline>\r\n            <NumericInput\r\n              value={hitpoints || 0}\r\n              onCommit={onHitpointsChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Stamina\" inline>\r\n            <NumericInput\r\n              value={stamina || 0}\r\n              precision=\"single\"\r\n              onCommit={onStaminaChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Calories\" inline>\r\n            <NumericInput\r\n              value={calories || 0}\r\n              precision=\"single\"\r\n              onCommit={onCaloriesChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Oxygen\" inline>\r\n            <NumericInput\r\n              value={breath || 0}\r\n              precision=\"single\"\r\n              onCommit={onBreathChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Stress\" inline>\r\n            <NumericInput\r\n              value={stress || 0}\r\n              precision=\"single\"\r\n              onCommit={onStressChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Bladder\" inline>\r\n            <NumericInput\r\n              value={bladder || 0}\r\n              precision=\"single\"\r\n              onCommit={onBladderChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n        </div>\r\n        <div>\r\n          <Text.H4>Diseases</Text.H4>\r\n          <FormGroup label=\"Immune&nbsp;Level\" inline>\r\n            <NumericInput\r\n              minValue={0}\r\n              precision=\"single\"\r\n              value={immuneLevel || 0}\r\n              onCommit={onImmuneLevelChanged}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Surface Germs\">\r\n            <FormGroup label=\"DiseaseID\" inline>\r\n              <NumericInput\r\n                value={surfaceDiseaseId ? surfaceDiseaseId.hash : 0}\r\n                onCommit={this._onSurfaceDiseaseIdCommit}\r\n              />\r\n            </FormGroup>\r\n            <FormGroup label=\"Count\" inline>\r\n              <NumericInput\r\n                minValue={0}\r\n                precision=\"single\"\r\n                value={surfaceDiseaseCount || 0}\r\n                onCommit={this._onSurfaceDiseaseCountCommit}\r\n              />\r\n            </FormGroup>\r\n          </FormGroup>\r\n          <FormGroup label=\"Conditions\">\r\n            <table>\r\n              <tbody>\r\n                <tr>\r\n                  <TD>Food Poisoning</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={foodPoisoning || 0}\r\n                      onCommit={onFoodPoisoningChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <TD>Slime Lung</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={slimeLung || 0}\r\n                      onCommit={onSlimeLungChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <TD>Spores</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={spores || 0}\r\n                      onCommit={onSporesChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <TD>Hypothermia</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={coldBrain || 0}\r\n                      onCommit={onColdBrainChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <TD>Hyperthermia</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={heatRash || 0}\r\n                      onCommit={onHeatRashChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <TD>Sunburn</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={sunburn || 0}\r\n                      onCommit={onSunburnChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </FormGroup>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onSurfaceDiseaseIdCommit(value: number) {\r\n    const { onSurfaceDiseaseChanged } = this.props;\r\n    onSurfaceDiseaseChanged({ hash: value }, 0);\r\n  }\r\n\r\n  @autobind()\r\n  private _onSurfaceDiseaseCountCommit(value: number) {\r\n    const { surfaceDiseaseId, onSurfaceDiseaseChanged } = this.props;\r\n    onSurfaceDiseaseChanged(surfaceDiseaseId || { hash: 0 }, value);\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionHealthTab);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport {\r\n  GameObject,\r\n  HealthBehavior,\r\n  PrimaryElementBehavior\r\n} from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getSelectedGameObjectHealthState } from \"@/selectors/behaviors/health\";\r\n\r\nimport {\r\n  getSelectedGameObjectElementDiseaseId,\r\n  getSelectedGameObjectElementDiseaseCount\r\n} from \"@/selectors/behaviors/primary-element\";\r\n\r\nimport { getSelectedGameObjectModifierValueSelector } from \"@/selectors/behaviors/minion-modifiers\";\r\n\r\nconst structuredSelector = {\r\n  healthState: getSelectedGameObjectHealthState,\r\n  surfaceDiseaseId: getSelectedGameObjectElementDiseaseId,\r\n  surfaceDiseaseCount: getSelectedGameObjectElementDiseaseCount,\r\n  hitpoints: getSelectedGameObjectModifierValueSelector(\"HitPoints\"),\r\n  stamina: getSelectedGameObjectModifierValueSelector(\"Stamina\"),\r\n  calories: getSelectedGameObjectModifierValueSelector(\"Calories\"),\r\n  immuneLevel: getSelectedGameObjectModifierValueSelector(\"ImmuneLevel\"),\r\n  breath: getSelectedGameObjectModifierValueSelector(\"Breath\"),\r\n  stress: getSelectedGameObjectModifierValueSelector(\"Stress\"),\r\n  bladder: getSelectedGameObjectModifierValueSelector(\"Bladder\"),\r\n  foodPoisoning: getSelectedGameObjectModifierValueSelector(\"FoodPoisoning\"),\r\n  coldBrain: getSelectedGameObjectModifierValueSelector(\"ColdBrain\"),\r\n  heatRash: getSelectedGameObjectModifierValueSelector(\"HeatRash\"),\r\n  slimeLung: getSelectedGameObjectModifierValueSelector(\"SlimeLung\"),\r\n  sunburn: getSelectedGameObjectModifierValueSelector(\"Sunburn\"),\r\n  spores: getSelectedGameObjectModifierValueSelector(\"Spores\")\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { createSelector } from \"reselect\";\r\n\r\nimport { HealthBehavior, getBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getSelectedGameObject } from \"../game-object\";\r\n\r\nexport const getSelectedGameObjectHealthBehavior = createSelector(\r\n  getSelectedGameObject,\r\n  gameObject => {\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n\r\n    return getBehavior(gameObject, HealthBehavior);\r\n  }\r\n);\r\n\r\nexport const getSelectedGameObjectHealthState = (state: AppState) => {\r\n  const behavior = getSelectedGameObjectHealthBehavior(state);\r\n  if (!behavior) {\r\n    return null;\r\n  }\r\n  return behavior.templateData.State;\r\n};\r\n","import { PrimaryElementBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorSelector } from \"@/selectors/behaviors/utils\";\r\n\r\nexport const getSelectedGameObjectElementBehavior = getCurrentGameObjectBehaviorSelector(\r\n  PrimaryElementBehavior\r\n);\r\n\r\nexport const getSelectedGameObjectElementDiseaseId = (state: AppState) => {\r\n  const behavior = getSelectedGameObjectElementBehavior(state);\r\n  if (!behavior) {\r\n    return null;\r\n  }\r\n  return behavior.templateData.diseaseID;\r\n};\r\n\r\nexport const getSelectedGameObjectElementDiseaseCount = (state: AppState) => {\r\n  const behavior = getSelectedGameObjectElementBehavior(state);\r\n  if (!behavior) {\r\n    return null;\r\n  }\r\n  return behavior.templateData.diseaseCount;\r\n};\r\n","import { createSelector, Selector } from \"reselect\";\r\n\r\nimport { memoize } from \"lodash-es\";\r\n\r\nimport { MinionModifiersBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorSelector } from \"@/selectors/behaviors/utils\";\r\n\r\nexport const getSelectedGameObjectModifiersBehavior = getCurrentGameObjectBehaviorSelector(\r\n  MinionModifiersBehavior\r\n);\r\n\r\nfunction createSelectedGameObjectModifierValueSelector(\r\n  amountId: string\r\n): Selector<AppState, number | null> {\r\n  return createSelector(getSelectedGameObjectModifiersBehavior, behavior => {\r\n    if (!behavior) {\r\n      return null;\r\n    }\r\n\r\n    const extraData = behavior.extraData;\r\n    if (!extraData) {\r\n      return null;\r\n    }\r\n\r\n    const amount = extraData.amounts.find(x => x.name === amountId);\r\n    if (!amount) {\r\n      return null;\r\n    }\r\n    return amount.value.value;\r\n  });\r\n}\r\n\r\nexport const getSelectedGameObjectModifierValueSelector = memoize(\r\n  createSelectedGameObjectModifierValueSelector\r\n);\r\n","import { setHealthStatus } from \"@/actions/behaviors/set-health-state\";\r\nimport { setModifierValue } from \"@/actions/behaviors/set-modifier-amount\";\r\nimport { setPrimaryElementDisease } from \"@/actions/behaviors/set-element-disease\";\r\n\r\nconst mapDispatchToProps = {\r\n  onHealthStatusChanged: setHealthStatus,\r\n  onHitpointsChanged(hitpoints: number) {\r\n    return setModifierValue(\"HitPoints\", hitpoints);\r\n  },\r\n  onStaminaChanged(stamina: number) {\r\n    return setModifierValue(\"Stamina\", stamina);\r\n  },\r\n  onCaloriesChanged(calories: number) {\r\n    return setModifierValue(\"Calories\", calories);\r\n  },\r\n  onImmuneLevelChanged(level: number) {\r\n    return setModifierValue(\"ImmuneLevel\", level);\r\n  },\r\n  onBreathChanged(level: number) {\r\n    return setModifierValue(\"Breath\", level);\r\n  },\r\n  onStressChanged(level: number) {\r\n    return setModifierValue(\"Stress\", level);\r\n  },\r\n  onBladderChanged(level: number) {\r\n    return setModifierValue(\"Bladder\", level);\r\n  },\r\n  onFoodPoisoningChanged(level: number) {\r\n    return setModifierValue(\"FoodPoisoning\", level);\r\n  },\r\n  onColdBrainChanged(level: number) {\r\n    return setModifierValue(\"ColdBrain\", level);\r\n  },\r\n  onHeatRashChanged(level: number) {\r\n    return setModifierValue(\"HeatRash\", level);\r\n  },\r\n  onSlimeLungChanged(level: number) {\r\n    return setModifierValue(\"SlimeLung\", level);\r\n  },\r\n  onSunburnChanged(level: number) {\r\n    return setModifierValue(\"Sunburn\", level);\r\n  },\r\n  onSporesChanged(level: number) {\r\n    return setModifierValue(\"Spores\", level);\r\n  },\r\n\r\n  onSurfaceDiseaseChanged: setPrimaryElementDisease\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionJobsTab from \"./MinionJobsTab\";\r\nexport default MinionJobsTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport DataTable, { DataTableColumn } from \"@/components/DataTable\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\nimport CheckInput from \"@/components/CheckInput\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionJobsTab extends React.Component<Props> {\r\n  render() {\r\n    const { jobs, setExperience, setMastery } = this.props;\r\n\r\n    if (!jobs || jobs.length === 0) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"No Data\">\r\n          No jobs could be found on this duplicant.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    const columns: DataTableColumn[] = [\r\n      {\r\n        header: \"Job\",\r\n        property: \"id\",\r\n        sortable: true,\r\n        filterable: true\r\n      },\r\n      {\r\n        header: \"Experience\",\r\n        sortable: true,\r\n        filterable: false,\r\n        property: \"experience\",\r\n        cell: ({ value, rowData }) => (\r\n          <NumericInput\r\n            precision=\"single\"\r\n            minValue={0}\r\n            value={value}\r\n            onCommit={setExperience.bind(null, rowData.experienceIndex)}\r\n          />\r\n        )\r\n      },\r\n      {\r\n        header: \"Mastery\",\r\n        sortable: true,\r\n        filterable: false,\r\n        property: \"mastery\",\r\n        cell: ({ value, rowData }) => (\r\n          <CheckInput\r\n            value={value}\r\n            onCommit={setMastery.bind(null, rowData.masteryIndex)}\r\n          />\r\n        )\r\n      }\r\n    ];\r\n\r\n    return <DataTable columns={columns} data={jobs} />;\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionJobsTab);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { MinionResumeBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorPropertySelector } from \"@/selectors/behaviors/utils\";\r\n\r\nconst masteriesSelector = getCurrentGameObjectBehaviorPropertySelector<\r\n  MinionResumeBehavior,\r\n  MinionResumeBehavior[\"templateData\"][\"MasteryByRoleID\"]\r\n>(MinionResumeBehavior, [\"templateData\", \"MasteryByRoleID\"]);\r\n\r\nconst experienceSelector = getCurrentGameObjectBehaviorPropertySelector<\r\n  MinionResumeBehavior,\r\n  MinionResumeBehavior[\"templateData\"][\"ExperienceByRoleID\"]\r\n>(MinionResumeBehavior, [\"templateData\", \"ExperienceByRoleID\"]);\r\n\r\nexport interface Job {\r\n  id: string;\r\n  mastery: boolean;\r\n  masteryIndex: number;\r\n  experience: number;\r\n  experienceIndex: number;\r\n}\r\nexport type Jobs = Job[];\r\nconst jobsSelector = createSelector(\r\n  masteriesSelector,\r\n  experienceSelector,\r\n  (masteries, experience) => {\r\n    if (!masteries || !experience) {\r\n      return null;\r\n    }\r\n\r\n    const jobs: Record<string, Job> = {};\r\n\r\n    masteries.forEach((x, i) => {\r\n      const [key, value] = x;\r\n      if (key === \"NoRole\") {\r\n        return;\r\n      }\r\n      jobs[key] = {\r\n        id: key,\r\n        mastery: value,\r\n        masteryIndex: i,\r\n        experience: 0,\r\n        experienceIndex: -1\r\n      };\r\n    });\r\n\r\n    experience.forEach((x, i) => {\r\n      const [key, value] = x;\r\n      if (key === \"NoRole\") {\r\n        return;\r\n      }\r\n      jobs[key].experience = value;\r\n      jobs[key].experienceIndex = i;\r\n    });\r\n\r\n    return Object.keys(jobs).map(x => jobs[x]);\r\n  }\r\n);\r\n\r\nconst structuredSelector = {\r\n  jobs: jobsSelector\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { MinionResumeBehavior } from \"oni-save-parser\";\r\n\r\nimport { setCurrentObjectBehaviorValue } from \"@/actions/behaviors/set-currentobject-behavior-value\";\r\n\r\nconst mapDispatchToProps = {\r\n  setExperience(index: number, experience: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      MinionResumeBehavior,\r\n      [\"templateData\", \"ExperienceByRoleID\", `${index}`, \"1\"],\r\n      experience\r\n    );\r\n  },\r\n\r\n  setMastery(index: number, mastery: boolean) {\r\n    return setCurrentObjectBehaviorValue(\r\n      MinionResumeBehavior,\r\n      [\"templateData\", \"MasteryByRoleID\", `${index}`, \"1\"],\r\n      mastery\r\n    );\r\n  }\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionSkillsTab from \"./MinionSkillsTab\";\r\nexport default MinionSkillsTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport DataTable, { DataTableColumn } from \"@/components/DataTable\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionSkillsTab extends React.Component<Props> {\r\n  render() {\r\n    const { skills, setSkillLevel, setSkillExperience } = this.props;\r\n\r\n    if (!skills || skills.length === 0) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"No Data\">\r\n          No skills could be found on this duplicant.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    const data = skills.map((x, i) => ({\r\n      ...x,\r\n      index: i\r\n    }));\r\n\r\n    const columns: DataTableColumn[] = [\r\n      {\r\n        header: \"Skill\",\r\n        property: \"attributeId\"\r\n      },\r\n      {\r\n        header: \"Level\",\r\n        property: \"level\",\r\n        cell: ({ value, rowData }) => (\r\n          <NumericInput\r\n            precision=\"int32\"\r\n            minValue={0}\r\n            value={value}\r\n            onCommit={setSkillLevel.bind(null, rowData.index)}\r\n          />\r\n        )\r\n      },\r\n      {\r\n        header: \"Experience\",\r\n        property: \"experience\",\r\n        cell: ({ value, rowData }) => (\r\n          <NumericInput\r\n            precision=\"single\"\r\n            value={value}\r\n            onCommit={setSkillExperience.bind(null, rowData.index)}\r\n          />\r\n        )\r\n      }\r\n    ];\r\n\r\n    return <DataTable columns={columns} data={data} />;\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionSkillsTab);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AIAttributeLevelsBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorPropertySelector } from \"@/selectors/behaviors/utils\";\r\n\r\nconst structuredSelector = {\r\n  skills: getCurrentGameObjectBehaviorPropertySelector<\r\n    AIAttributeLevelsBehavior,\r\n    AIAttributeLevelsBehavior[\"templateData\"][\"saveLoadLevels\"]\r\n  >(AIAttributeLevelsBehavior, [\"templateData\", \"saveLoadLevels\"])\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { AIAttributeLevelsBehavior } from \"oni-save-parser\";\r\n\r\nimport { setCurrentObjectBehaviorValue } from \"@/actions/behaviors/set-currentobject-behavior-value\";\r\n\r\nconst mapDispatchToProps = {\r\n  setSkillLevel(index: number, level: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      AIAttributeLevelsBehavior,\r\n      [\"templateData\", \"saveLoadLevels\", `${index}`, \"level\"],\r\n      level\r\n    );\r\n  },\r\n  setSkillExperience(index: number, experience: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      AIAttributeLevelsBehavior,\r\n      [\"templateData\", \"saveLoadLevels\", `${index}`, \"experience\"],\r\n      experience\r\n    );\r\n  }\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionTraitsTab from \"./MinionTraitsTab\";\r\nexport default MinionTraitsTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { AI_TRAIT_IDS } from \"oni-save-parser\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport Table from \"@/components/Table\";\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport CheckInput from \"@/components/CheckInput\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionTraitsTab extends React.Component<Props> {\r\n  render() {\r\n    const { traits, onSetTrait } = this.props;\r\n\r\n    if (traits == null || traits.length === 0) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"No Data\">\r\n          No traits could be found on this duplicant.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    const rows = AI_TRAIT_IDS.filter(x => x !== \"None\").map(trait => (\r\n      <Table.TR key={trait}>\r\n        <Table.TD>\r\n          <CheckInput\r\n            value={traits.some(x => x === trait)}\r\n            onCommit={onSetTrait.bind(null, trait)}\r\n          />\r\n        </Table.TD>\r\n        <Table.TD>{trait}</Table.TD>\r\n      </Table.TR>\r\n    ));\r\n\r\n    return (\r\n      <Table>\r\n        <Table.THead>\r\n          <Table.TR>\r\n            <Table.TH />\r\n            <Table.TH>Trait</Table.TH>\r\n          </Table.TR>\r\n        </Table.THead>\r\n        <Table.TBody>{rows}</Table.TBody>\r\n      </Table>\r\n    );\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionTraitsTab);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getSelectedGameObjectTraits } from \"@/selectors/behaviors/ai-traits\";\r\n\r\nconst structuredSelector = {\r\n  traits: getSelectedGameObjectTraits\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { AITraitsBehavior } from \"oni-save-parser\";\r\n\r\nimport { getCurrentGameObjectBehaviorSelector } from \"@/selectors/behaviors/utils\";\r\nimport { createSelector } from \"reselect\";\r\n\r\nexport const getSelectedGameObjectIdentityBehavior = getCurrentGameObjectBehaviorSelector(\r\n  AITraitsBehavior\r\n);\r\n\r\nexport const getSelectedGameObjectTraits = createSelector(\r\n  getSelectedGameObjectIdentityBehavior,\r\n  behavior => {\r\n    if (behavior == null) {\r\n      return null;\r\n    }\r\n\r\n    return behavior.templateData.TraitIds;\r\n  }\r\n);\r\n","import { setTrait } from \"@/actions/behaviors/set-traits-trait\";\r\n\r\nconst mapDispatchToProps = {\r\n  onSetTrait: setTrait\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionPositionTab from \"./MinionPositionTab\";\r\nexport default MinionPositionTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport FormGroup from \"@/components/FormGroup\";\r\nimport NumericField from \"@/pages/SaveEditor/components/fields/NumericField\";\r\nimport EditModeCondition from \"@/components/EditModeCondition\";\r\n\r\ntype Props = StateProps;\r\nconst MinionPositionTab: React.SFC<Props> = ({ gameObjectPath }) => {\r\n  if (gameObjectPath == null) {\r\n    return <Text intent={Intent.Default}>No game object selected</Text>;\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <FormGroup label=\"X\">\r\n        <NumericField\r\n          precision=\"single\"\r\n          path={[...gameObjectPath, \"position\", \"x\"]}\r\n        />\r\n      </FormGroup>\r\n      <FormGroup label=\"Y\">\r\n        <NumericField\r\n          precision=\"single\"\r\n          path={[...gameObjectPath, \"position\", \"y\"]}\r\n        />\r\n      </FormGroup>\r\n      <EditModeCondition editMode=\"advanced\">\r\n        <FormGroup label=\"Z\">\r\n          <NumericField\r\n            precision=\"single\"\r\n            path={[...gameObjectPath, \"position\", \"z\"]}\r\n          />\r\n        </FormGroup>\r\n      </EditModeCondition>\r\n    </React.Fragment>\r\n  );\r\n};\r\nMinionPositionTab.displayName = \"MinionPositionTab\";\r\nexport default connect(mapStateToProps)(MinionPositionTab);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport selectedPath from \"@/selectors/selected-path\";\r\n\r\nconst structuredSelector = {\r\n  gameObjectPath: selectedPath\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import GeyserEditor from \"./GeyserEditor\";\r\nexport default GeyserEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { GeyserTypeNames } from \"oni-save-parser\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport EditorContainer from \"../../components/EditorContainer\";\r\nimport GameObjectHeader from \"../components/GameObjectHeader\";\r\n\r\nimport HelpText from \"@/components/HelpText\";\r\nimport SelectInput from \"@/components/SelectInput\";\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport FormGroup from \"@/components/FormGroup\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\n\r\nimport NumericField from \"@/pages/SaveEditor/components/fields/NumericField\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass GeyserEditor extends React.Component<Props> {\r\n  render() {\r\n    const {\r\n      geyserType,\r\n      onGeyserTypeChanged,\r\n      emissionRate,\r\n      onEmissionRateChanged,\r\n      yearLengthRoll,\r\n      onYearLengthRollChanged,\r\n      yearPercentRoll,\r\n      onYearPercentRollChanged,\r\n      iterationLengthRoll,\r\n      onIterationLengthRollChanged,\r\n      iterationPercentRoll,\r\n      onIterationPercentRollChanged\r\n    } = this.props;\r\n\r\n    if (geyserType == null) {\r\n      return (\r\n        <NonIdealState header=\"Unknown geyser type\" intent={Intent.Dangerous}>\r\n          The geyser type was not recognized.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    const options = GeyserTypeNames.map(x => ({\r\n      label: x,\r\n      value: x\r\n    }));\r\n\r\n    return (\r\n      <EditorContainer header={<GameObjectHeader>Geyser</GameObjectHeader>}>\r\n        <FormGroup inline label=\"Emission&nbsp;Type\">\r\n          <SelectInput\r\n            options={options}\r\n            value={geyserType}\r\n            onCommit={onGeyserTypeChanged}\r\n          />\r\n        </FormGroup>\r\n        <HelpText>\r\n          The following values are percentage decimals between 0 (0%) and 1\r\n          (100%). They indicate what percentage of the min/max value to use for\r\n          their values.<br />\r\n          The values they represent are determined by the game on a\r\n          per-geyser-type basis, and cannot be changed beyond this percentage\r\n        </HelpText>\r\n        <FormGroup label=\"Emission&nbsp;Rate\">\r\n          <HelpText>\r\n            The percentage selecting the rate of element emission for the geyser\r\n            when the geyser is active.\r\n          </HelpText>\r\n          <NumericInput\r\n            minValue={0}\r\n            maxValue={1}\r\n            precision=\"single\"\r\n            value={emissionRate || 0}\r\n            onCommit={onEmissionRateChanged}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup label=\"Lifecycle Percentages\">\r\n          <FormGroup label=\"Awake / Dormant\">\r\n            <FormGroup label=\"Total Time\">\r\n              <HelpText>\r\n                The percentage selecting the total time period for a full awake\r\n                / dormant cycle of the geyser.\r\n              </HelpText>\r\n              <NumericInput\r\n                minValue={0}\r\n                maxValue={1}\r\n                precision=\"single\"\r\n                value={yearLengthRoll || 0}\r\n                onCommit={onYearLengthRollChanged}\r\n              />\r\n            </FormGroup>\r\n            <FormGroup label=\"Awake Fraction\">\r\n              <HelpText>\r\n                The fraction of the total lifecycle time the geyser remains\r\n                non-dormant.\r\n              </HelpText>\r\n              <NumericInput\r\n                minValue={0}\r\n                maxValue={1}\r\n                precision=\"single\"\r\n                value={yearPercentRoll || 0}\r\n                onCommit={onYearPercentRollChanged}\r\n              />\r\n            </FormGroup>\r\n          </FormGroup>\r\n        </FormGroup>\r\n        <FormGroup label=\"Active / Idle\">\r\n          <FormGroup label=\"Cycle Time\">\r\n            <HelpText>\r\n              The total length of time for the active and idle period to cycle.\r\n            </HelpText>\r\n            <NumericInput\r\n              minValue={0}\r\n              maxValue={1}\r\n              precision=\"single\"\r\n              value={iterationLengthRoll || 0}\r\n              onCommit={onIterationLengthRollChanged}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Active Time\">\r\n            <HelpText>\r\n              The fraction of the cycle time the geyser spends actively emitting\r\n              material.\r\n            </HelpText>\r\n            <NumericInput\r\n              minValue={0}\r\n              maxValue={1}\r\n              precision=\"single\"\r\n              value={iterationPercentRoll || 0}\r\n              onCommit={onIterationPercentRollChanged}\r\n            />\r\n          </FormGroup>\r\n        </FormGroup>\r\n      </EditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(GeyserEditor);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { GeyserBehavior, GeyserType, GeyserTypeNames } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport {\r\n  getCurrentGameObjectBehaviorSelector,\r\n  createCurrentGameObjectBehaviorPropertySelector\r\n} from \"@/selectors/behaviors/utils\";\r\n\r\nconst geyserBehaviorSelector = getCurrentGameObjectBehaviorSelector(\r\n  GeyserBehavior\r\n);\r\n\r\nconst structuredSelector = {\r\n  geyserType: createSelector(geyserBehaviorSelector, behavior => {\r\n    if (!behavior) {\r\n      return null;\r\n    }\r\n\r\n    const type =\r\n      (behavior.templateData.configuration &&\r\n        behavior.templateData.configuration.typeId) ||\r\n      null;\r\n    if (!type) {\r\n      return null;\r\n    }\r\n\r\n    return GeyserType[type.hash] || null;\r\n  }),\r\n  emissionRate: createCurrentGameObjectBehaviorPropertySelector<\r\n    GeyserBehavior,\r\n    number\r\n  >(GeyserBehavior, [\"templateData\", \"configuration\", \"rateRoll\"]),\r\n  yearLengthRoll: createCurrentGameObjectBehaviorPropertySelector<\r\n    GeyserBehavior,\r\n    number\r\n  >(GeyserBehavior, [\"templateData\", \"configuration\", \"yearLengthRoll\"]),\r\n  yearPercentRoll: createCurrentGameObjectBehaviorPropertySelector<\r\n    GeyserBehavior,\r\n    number\r\n  >(GeyserBehavior, [\"templateData\", \"configuration\", \"yearPercentRoll\"]),\r\n  iterationLengthRoll: createCurrentGameObjectBehaviorPropertySelector<\r\n    GeyserBehavior,\r\n    number\r\n  >(GeyserBehavior, [\"templateData\", \"configuration\", \"iterationLengthRoll\"]),\r\n  iterationPercentRoll: createCurrentGameObjectBehaviorPropertySelector<\r\n    GeyserBehavior,\r\n    number\r\n  >(GeyserBehavior, [\"templateData\", \"configuration\", \"iterationPercentRoll\"])\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { GeyserBehavior, GeyserType } from \"oni-save-parser\";\r\n\r\nimport { setCurrentObjectBehaviorValue } from \"@/actions/behaviors/set-currentobject-behavior-value\";\r\n\r\nconst mapDispatchToProps = {\r\n  onGeyserTypeChanged(type: string) {\r\n    const hash = GeyserType[type];\r\n    if (!hash) {\r\n      return;\r\n    }\r\n    return setCurrentObjectBehaviorValue(\r\n      GeyserBehavior,\r\n      [\"templateData\", \"configuration\", \"typeId\"],\r\n      hash\r\n    );\r\n  },\r\n  onEmissionRateChanged(rate: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      GeyserBehavior,\r\n      [\"templateData\", \"configuration\", \"rateRoll\"],\r\n      rate\r\n    );\r\n  },\r\n  onYearLengthRollChanged(value: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      GeyserBehavior,\r\n      [\"templateData\", \"configuration\", \"yearLengthRoll\"],\r\n      value\r\n    );\r\n  },\r\n  onYearPercentRollChanged(value: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      GeyserBehavior,\r\n      [\"templateData\", \"configuration\", \"yearPercentRoll\"],\r\n      value\r\n    );\r\n  },\r\n  onIterationLengthRollChanged(value: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      GeyserBehavior,\r\n      [\"templateData\", \"configuration\", \"iterationLengthRoll\"],\r\n      value\r\n    );\r\n  },\r\n  onIterationPercentRollChanged(value: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      GeyserBehavior,\r\n      [\"templateData\", \"configuration\", \"iterationPercentRoll\"],\r\n      value\r\n    );\r\n  }\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import * as React from \"react\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport { FontSize, Intent } from \"@/style\";\r\n\r\nconst HelpText: React.SFC = ({ children }) => (\r\n  <Text.Div intent={Intent.Hint} fontSize={FontSize.Small}>\r\n    {children}\r\n  </Text.Div>\r\n);\r\nHelpText.displayName = \"HelpText\";\r\nexport default HelpText;\r\n","import DefaultObjectEditor from \"./DefaultObjectEditor\";\r\nexport default DefaultObjectEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Text from \"@/components/Text\";\r\n\r\nimport DefaultObjectEditorContainer from \"./components/DefaultObjectEditorContainer\";\r\n\r\nimport EditorField from \"./components/EditorField\";\r\n\r\nimport mapStateToProps, { StateProps, FieldRow } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nconst TH = Text.withComponent(\"th\");\r\nconst TD = Text.withComponent(\"td\");\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass DefaultObjectEditor extends React.Component<Props> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { fields } = this.props;\r\n\r\n    const fieldElements = fields.map(field => this._renderFieldRow(field));\r\n\r\n    return (\r\n      <DefaultObjectEditorContainer>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <TH>Name</TH>\r\n              <TH>Value</TH>\r\n            </tr>\r\n          </thead>\r\n          <tbody>{fieldElements}</tbody>\r\n        </table>\r\n      </DefaultObjectEditorContainer>\r\n    );\r\n  }\r\n\r\n  private _renderFieldRow(field: FieldRow) {\r\n    const { title, key, value } = field;\r\n    return (\r\n      <tr key={key}>\r\n        <TD>{title}</TD>\r\n        <TD>\r\n          <EditorField\r\n            propKey={key}\r\n            value={value}\r\n            onChange={this._onFieldChange}\r\n          />\r\n        </TD>\r\n      </tr>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onFieldChange(key: string, value: any) {\r\n    const { selectedPath, onModify } = this.props;\r\n    onModify([...selectedPath, key], value);\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(DefaultObjectEditor);\r\n","import styled from \"@/style\";\r\n\r\nconst DefaultObjectEditorContainer = styled.div``;\r\nDefaultObjectEditorContainer.displayName = \"DefaultObjectEditorContainer\";\r\nexport default DefaultObjectEditorContainer;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nexport interface EditorFieldProps {\r\n  propKey: string;\r\n  value: any;\r\n  onChange(propKey: string, value: any): void;\r\n}\r\nexport default class EditorField extends React.Component<EditorFieldProps> {\r\n  render() {\r\n    const { value } = this.props;\r\n    return (\r\n      <input\r\n        type=\"text\"\r\n        onChange={this._onChange}\r\n        value={JSON.stringify(value)}\r\n      />\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const { propKey, onChange } = this.props;\r\n    const value = e.target.value;\r\n    try {\r\n      const parsedValue = JSON.parse(value);\r\n      onChange(propKey, parsedValue);\r\n    } catch {}\r\n  }\r\n}\r\n","import { createSelector, createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport selectedPath from \"@/selectors/selected-path\";\r\nimport selectedValue from \"@/selectors/selected-value\";\r\n\r\nexport interface FieldEditable {\r\n  title: string;\r\n  key: string;\r\n  value: any;\r\n}\r\nexport type FieldRow = FieldEditable;\r\n\r\nconst fields = createSelector(\r\n  selectedValue,\r\n  (selectedValue): FieldRow[] => {\r\n    if (!selectedValue) {\r\n      return [];\r\n    }\r\n\r\n    if (isPrimitive(selectedValue)) {\r\n      // Cannot edit things in a primitive.\r\n      return [];\r\n    }\r\n\r\n    return Object.keys(selectedValue)\r\n      .filter(key => isPrimitive(selectedValue[key]))\r\n      .map(key => {\r\n        const value = selectedValue[key];\r\n        const editable: FieldEditable = {\r\n          title: key,\r\n          key,\r\n          value\r\n        };\r\n        return editable;\r\n      });\r\n  }\r\n);\r\n\r\nconst structuredSelectors = {\r\n  selectedPath,\r\n  fields\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelectors>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelectors\r\n);\r\nexport default mapStateToProps;\r\n\r\nconst primitiveTypes = [\"string\", \"number\", \"boolean\"];\r\nfunction isPrimitive(val: any) {\r\n  const valType = typeof val;\r\n  return primitiveTypes.indexOf(valType) !== -1;\r\n}\r\n","import { modifyOniSave } from \"@/actions/modify-onisave\";\r\n\r\nconst mapDispatchToProps = {\r\n  onModify: modifyOniSave\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import SaveRootEditor from \"./SaveRootEditor\";\r\nexport default SaveRootEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport InfoText from \"@/components/InfoText\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport SaveRootEditorContainer from \"./components/SaveRootEditorContainer\";\r\n\r\nimport SaveGameTitle from \"./components/SaveGameTitle\";\r\nimport DuplicantsList from \"./components/DuplicantsList\";\r\n\r\ntype Props = StateProps;\r\nclass SaveRootEditor extends React.Component<Props> {\r\n  render() {\r\n    const { oniSave } = this.props;\r\n    return (\r\n      <SaveRootEditorContainer>\r\n        {oniSave ? (\r\n          this._renderContent()\r\n        ) : (\r\n          <Text intent={Intent.Hint}>No Save Loaded</Text>\r\n        )}\r\n      </SaveRootEditorContainer>\r\n    );\r\n  }\r\n\r\n  private _renderContent() {\r\n    const oniSave = this.props.oniSave!;\r\n    const numGameObjects = oniSave.gameObjects.reduce(\r\n      (count, set) => count + set.gameObjects.length,\r\n      0\r\n    );\r\n    return (\r\n      <React.Fragment>\r\n        <SaveGameTitle intent={Intent.Primary}>\r\n          {oniSave.header.gameInfo.baseName}\r\n        </SaveGameTitle>\r\n        <InfoText value={oniSave.header.gameInfo.numberOfCycles}>\r\n          cycles\r\n        </InfoText>\r\n        <InfoText value={oniSave.header.gameInfo.numberOfDuplicants}>\r\n          duplicants\r\n        </InfoText>\r\n        <InfoText value={numGameObjects}>game objects</InfoText>\r\n        <DuplicantsList />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(SaveRootEditor);\r\n","import * as React from \"react\";\r\n\r\nimport Text from \"./Text\";\r\nimport { Intent } from \"@/style\";\r\n\r\nexport interface InfoTextProps {\r\n  value: any;\r\n  pluralize?: boolean;\r\n}\r\n\r\nconst InfoText: React.SFC<InfoTextProps> = ({ value, children }) => (\r\n  <div>\r\n    <Text intent={Intent.Secondary}>{value}</Text> <Text>{children}</Text>\r\n  </div>\r\n);\r\nexport default InfoText;\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nconst structuredSelector = {\r\n  oniSave\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import styled from \"@/style\";\r\n\r\nconst SaveRootEditorContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\nSaveRootEditorContainer.displayName = \"SaveRootEditorContainer\";\r\nexport default SaveRootEditorContainer;\r\n","import Text from \"@/components/Text\";\r\n\r\nconst SaveGameTitle = Text.withComponent(\"h3\").extend`\r\n  margin-top: 0;\r\n`;\r\nSaveGameTitle.displayName = \"SaveGameTitle\";\r\nexport default SaveGameTitle;\r\n","import DuplicantsList from \"./DuplicantsList\";\r\nexport default DuplicantsList;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\n\r\nimport DuplicantPortrait from \"./components/DuplicantPortrait\";\r\nimport DuplicantsListContainer from \"./components/DuplicantsListContainer\";\r\nimport DuplicantsListContent from \"./components/DuplicantsListContent\";\r\n\r\ntype Props = StateProps;\r\nclass DuplicantsList extends React.Component<Props> {\r\n  render() {\r\n    const { duplicantsSetPath, duplicantIndexes } = this.props;\r\n    if (!duplicantsSetPath || !duplicantIndexes) {\r\n      return \"Malformed Data\";\r\n    }\r\n\r\n    const duplicantPortraits = duplicantIndexes.map(x => (\r\n      <DuplicantPortrait key={x} gameObjectIndex={x} />\r\n    ));\r\n\r\n    return (\r\n      <DuplicantsListContainer>\r\n        <SaveStructureLink intent={Intent.Primary} path={duplicantsSetPath}>\r\n          Duplicants\r\n        </SaveStructureLink>\r\n        <DuplicantsListContent>{duplicantPortraits}</DuplicantsListContent>\r\n      </DuplicantsListContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(DuplicantsList);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { range } from \"lodash-es\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nconst duplicantsSetPath = createSelector(oniSave, oniSave => {\r\n  if (!oniSave) {\r\n    return null;\r\n  }\r\n  const index = oniSave.gameObjects.findIndex(x => x.name === \"Minion\");\r\n  if (index === -1) {\r\n    return null;\r\n  }\r\n  return [\"gameObjects\", `${index}`];\r\n});\r\n\r\nconst duplicantIndexes = createSelector(oniSave, oniSave => {\r\n  if (!oniSave) {\r\n    return [];\r\n  }\r\n  const minionSet = oniSave.gameObjects.find(x => x.name === \"Minion\");\r\n  if (!minionSet) {\r\n    return [];\r\n  }\r\n  return range(minionSet.gameObjects.length);\r\n});\r\n\r\nconst structuredSelector = {\r\n  duplicantsSetPath,\r\n  duplicantIndexes\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import DuplicantPortrait from \"./DuplicantPortrait\";\r\nexport default DuplicantPortrait;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport { DuplicantPortraitProps } from \"./props\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\nimport Portrait from \"@/components/Portrait\";\r\n\r\ntype Props = DuplicantPortraitProps & StateProps;\r\nclass DuplicantPortrait extends React.Component<Props> {\r\n  render() {\r\n    const { path, name, gender, arrivalCycle } = this.props;\r\n    return (\r\n      <Portrait>\r\n        <Portrait.Header>\r\n          {path ? (\r\n            <SaveStructureLink intent={Intent.Primary} path={path}>\r\n              {name}\r\n            </SaveStructureLink>\r\n          ) : (\r\n            \"Invalid Object\"\r\n          )}\r\n        </Portrait.Header>\r\n        <Portrait.Footer>\r\n          <div>\r\n            <Text intent={Intent.Secondary}>{gender}</Text>\r\n          </div>\r\n          <div>\r\n            <Text intent={Intent.Secondary}>{arrivalCycle} cycles old</Text>\r\n          </div>\r\n        </Portrait.Footer>\r\n      </Portrait>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(DuplicantPortrait);\r\n","import createCachedSelector from \"re-reselect\";\r\nimport { MinionIdentityBehavior, getBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nimport { DuplicantPortraitProps } from \"./props\";\r\n\r\nconst gameObjectIndex = (_: AppState, props: DuplicantPortraitProps) =>\r\n  props.gameObjectIndex;\r\n\r\nconst generateCacheKey = gameObjectIndex;\r\n\r\nconst gameObject = createCachedSelector(\r\n  oniSave,\r\n  gameObjectIndex,\r\n  (oniSave, gameObjectIndex) => {\r\n    if (!oniSave) {\r\n      return null;\r\n    }\r\n    const duplicants = oniSave.gameObjects.find(x => x.name === \"Minion\");\r\n    if (!duplicants) {\r\n      return null;\r\n    }\r\n\r\n    return duplicants.gameObjects[gameObjectIndex] || null;\r\n  }\r\n)(generateCacheKey);\r\n\r\nconst duplicantIdentity = createCachedSelector(gameObject, gameObject => {\r\n  if (!gameObject) {\r\n    return null;\r\n  }\r\n  const identBehavior = getBehavior(gameObject, MinionIdentityBehavior);\r\n  if (!identBehavior || !identBehavior.templateData) {\r\n    return null;\r\n  }\r\n  return identBehavior.templateData;\r\n})(generateCacheKey);\r\n\r\nconst path = (state: AppState, props: DuplicantPortraitProps) => {\r\n  const gameSave = oniSave(state);\r\n  if (!gameSave) {\r\n    return null;\r\n  }\r\n  const groupIndex = gameSave.gameObjects.findIndex(x => x.name === \"Minion\");\r\n  if (groupIndex === -1) {\r\n    return null;\r\n  }\r\n  const index = gameObjectIndex(state, props);\r\n  return [\"gameObjects\", `${groupIndex}`, \"gameObjects\", `${index}`];\r\n};\r\n\r\nconst name = (state: AppState, props: DuplicantPortraitProps) => {\r\n  const ident = duplicantIdentity(state, props);\r\n  return (ident && ident.name) || null;\r\n};\r\n\r\nconst gender = (state: AppState, props: DuplicantPortraitProps) => {\r\n  const ident = duplicantIdentity(state, props);\r\n  return (ident && ident.genderStringKey) || null;\r\n};\r\n\r\nconst arrivalCycle = (state: AppState, props: DuplicantPortraitProps) => {\r\n  const ident = duplicantIdentity(state, props);\r\n  return (ident && (ident.arrivalTime / 200).toFixed(1)) || null;\r\n};\r\n\r\nfunction mapStateToProps(state: AppState, props: DuplicantPortraitProps) {\r\n  return {\r\n    path: path(state, props),\r\n    name: name(state, props),\r\n    gender: gender(state, props),\r\n    arrivalCycle: arrivalCycle(state, props)\r\n  };\r\n}\r\nexport type StateProps = ReturnType<typeof mapStateToProps>;\r\nexport default mapStateToProps;\r\n","import styled, { Radius } from \"@/style\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { getTheme } from \"@/style\";\r\n\r\nimport Header from \"./PortraitHeader\";\r\nimport Footer from \"./PortraitFooter\";\r\n\r\nconst Portrait = styled.div`\r\n  border-radius: ${props => getTheme(props).radii[Radius.Small]}px;\r\n  background-color: ${props => getTheme(props).colors.bg.panel};\r\n  width: 150px;\r\n  height: 150px;\r\n  position: relative;\r\n  padding: 5px;\r\n  margin: 5px;\r\n  box-sizing: border-box;\r\n`;\r\nPortrait.displayName = \"Portrait\";\r\n\r\nexport default attachProps(Portrait, {\r\n  Header,\r\n  Footer\r\n});\r\n","import styled from \"@/style\";\r\n\r\nimport { TextProps, text } from \"@/style\";\r\n\r\nexport interface PortraitHeaderProps extends TextProps {}\r\nconst PortraitHeader = styled<PortraitHeaderProps, \"h4\">(\"h4\")`\r\n  ${text};\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  margin-top: 0;\r\n  margin-bottom: 2px;\r\n  text-align: center;\r\n`;\r\nPortraitHeader.displayName = \"PortraitHeader\";\r\nexport default PortraitHeader;\r\n","import styled from \"@/style\";\r\n\r\nimport { TextProps, text } from \"@/style\";\r\n\r\nexport interface PortraitFooterProps extends TextProps {}\r\nconst PortraitFooter = styled<PortraitFooterProps, \"div\">(\"div\")`\r\n  ${text};\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  margin-top: 2px;\r\n  text-align: center;\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n`;\r\nPortraitFooter.displayName = \"PortraitFooter\";\r\nexport default PortraitFooter;\r\n","import * as React from \"react\";\r\n\r\nimport { Space, Border, Color } from \"@/style\";\r\n\r\nimport Box from \"@/components/Box\";\r\n\r\nconst DuplicantsListContainer: React.SFC = ({ children }) => (\r\n  <Box\r\n    width=\"100%\"\r\n    mt={Space.Small}\r\n    p={Space.Small}\r\n    border={Border.Thick}\r\n    borderColor={Color.DefaultSeparator}\r\n  >\r\n    {children}\r\n  </Box>\r\n);\r\n\r\nDuplicantsListContainer.displayName = \"DuplicantsListContainer\";\r\nexport default DuplicantsListContainer;\r\n","import styled from \"@/style\";\r\n\r\nconst DuplicantsListContent = styled.div`\r\n  padding: 5px;\r\n  overflow-x: auto;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`;\r\nDuplicantsListContent.displayName = \"DuplicantsListContent\";\r\nexport default DuplicantsListContent;\r\n","import TemplateObjectEditor from \"./TemplateObjectEditor\";\r\nexport default TemplateObjectEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport { TemplateObjectEditorProps } from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Text from \"@/components/Text\";\r\nconst TD = Text.withComponent(\"td\");\r\n\r\nimport TemplateObjectEditorContainer from \"./components/TemplateObjectEditorContainer\";\r\n\r\nimport getTypeInfoFieldComponent from \"../../fields/from-typeinfo\";\r\n\r\ntype Props = TemplateObjectEditorProps & StateProps;\r\nclass TemplateObjectEditor extends React.Component<Props> {\r\n  render() {\r\n    const { templateName, template, typeInfo, selectedPath } = this.props;\r\n\r\n    let content: JSX.Element;\r\n    if (template) {\r\n      const fieldRows = [\r\n        ...(template.fields || []),\r\n        ...(template.properties || [])\r\n      ].map(x => {\r\n        const FieldEditor = getTypeInfoFieldComponent(x.type, true);\r\n        return (\r\n          <tr key={x.name}>\r\n            <TD>{x.name}</TD>\r\n            <td>\r\n              <FieldEditor path={[...selectedPath, x.name]} />\r\n            </td>\r\n          </tr>\r\n        );\r\n      });\r\n\r\n      content = (\r\n        <table>\r\n          <tbody>{fieldRows}</tbody>\r\n        </table>\r\n      );\r\n    } else if (typeInfo) {\r\n      const FieldEditor = getTypeInfoFieldComponent(typeInfo);\r\n      content = <FieldEditor path={selectedPath} />;\r\n    } else {\r\n      content = <Text intent={Intent.Dangerous}>Unknown Editable</Text>;\r\n    }\r\n    return (\r\n      <TemplateObjectEditorContainer>\r\n        <Text.H4 intent={Intent.Primary}>{templateName}</Text.H4>\r\n        {content}\r\n      </TemplateObjectEditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(TemplateObjectEditor);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport {\r\n  LIST_TYPES,\r\n  getTypeCode,\r\n  SerializationTypeCode,\r\n  TypeInfo,\r\n  SerializationTypeInfo\r\n} from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getLastSaveItemOfSubType } from \"@/services/save-structure\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\nimport selectedPath from \"@/selectors/selected-path\";\r\n\r\nimport { TemplateObjectEditorProps } from \"./props\";\r\n\r\nconst templateName = (_: AppState, props: TemplateObjectEditorProps) =>\r\n  props.templateName;\r\n\r\nconst typeInfo = createSelector(\r\n  oniSave,\r\n  templateName,\r\n  selectedPath,\r\n  (oniSave, templateName, selectedPath) => {\r\n    if (!oniSave) {\r\n      return null;\r\n    }\r\n\r\n    // TODO: This will cause problems with recursive types.\r\n    const foundRoot = getLastSaveItemOfSubType(\r\n      \"template-object\",\r\n      templateName,\r\n      selectedPath,\r\n      oniSave\r\n    );\r\n    if (!foundRoot) {\r\n      return null;\r\n    }\r\n\r\n    const rootTemplatePath = foundRoot.path;\r\n    const templatePath = selectedPath.slice(rootTemplatePath.length);\r\n\r\n    let typeInfo: TypeInfo = {\r\n      info: SerializationTypeInfo.UserDefined,\r\n      templateName\r\n    };\r\n    let template = oniSave.templates.find(x => x.name === templateName);\r\n\r\n    for (let i = 0; i < templatePath.length; i++) {\r\n      const part = templatePath[i];\r\n\r\n      if (template == null) {\r\n        return null;\r\n      }\r\n\r\n      const member =\r\n        template.fields.find(x => x.name === part) ||\r\n        template.properties.find(x => x.name === part);\r\n      if (!member) {\r\n        return null;\r\n      }\r\n\r\n      typeInfo = member.type;\r\n\r\n      const typeCode = getTypeCode(typeInfo.info);\r\n\r\n      if (typeCode === SerializationTypeCode.UserDefined) {\r\n        template = oniSave.templates.find(\r\n          x => x.name === member.type.templateName!\r\n        );\r\n      } else if (LIST_TYPES.indexOf(typeCode) !== -1) {\r\n        i++;\r\n        if (i === templatePath.length) {\r\n          // Targeting an array but no index yet.\r\n          break;\r\n        }\r\n\r\n        if (\r\n          getTypeCode(typeInfo.subTypes![0].info) ===\r\n          SerializationTypeCode.UserDefined\r\n        ) {\r\n          typeInfo = typeInfo.subTypes![0];\r\n          template = oniSave.templates.find(\r\n            x => x.name === typeInfo.templateName\r\n          );\r\n        }\r\n      } else if (typeCode === SerializationTypeCode.Dictionary) {\r\n        i++;\r\n        if (i === templatePath.length) {\r\n          // Targeting a dict but no index yet.\r\n          break;\r\n        }\r\n\r\n        // Select key or value\r\n        i++;\r\n        if (i === templatePath.length) {\r\n          // Targeting an index, but no key or value.\r\n          // Fake a value for the ui.\r\n          typeInfo = {\r\n            info: SerializationTypeInfo.Pair,\r\n            subTypes: typeInfo.subTypes\r\n          };\r\n          break;\r\n        }\r\n        let keyValueIndex = Number(templatePath[i]);\r\n        typeInfo = typeInfo.subTypes![keyValueIndex];\r\n        if (!typeInfo) {\r\n          break;\r\n        }\r\n\r\n        if (getTypeCode(typeInfo.info) === SerializationTypeCode.UserDefined) {\r\n          template = oniSave.templates.find(\r\n            x => x.name === typeInfo.templateName\r\n          );\r\n        }\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n\r\n    return typeInfo;\r\n  }\r\n);\r\n\r\nconst template = createSelector(oniSave, typeInfo, (oniSave, typeInfo) => {\r\n  if (!oniSave || !typeInfo) {\r\n    return null;\r\n  }\r\n\r\n  const typeCode = getTypeCode(typeInfo.info);\r\n  if (typeCode !== SerializationTypeCode.UserDefined) {\r\n    return null;\r\n  }\r\n\r\n  let template = oniSave.templates.find(x => x.name === typeInfo.templateName);\r\n  return template;\r\n});\r\n\r\nconst structuredSelector = {\r\n  template,\r\n  typeInfo,\r\n  selectedPath\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<\r\n  AppState,\r\n  TemplateObjectEditorProps,\r\n  StateProps\r\n>(structuredSelector);\r\nexport default mapStateToProps;\r\n","import styled from \"@/style\";\r\n\r\nconst TemplateObjectEditorContainer = styled.div``;\r\nTemplateObjectEditorContainer.displayName = \"TemplateObjectEditorContainer\";\r\nexport default TemplateObjectEditorContainer;\r\n","import * as React from \"react\";\r\n\r\nimport { TypeInfo } from \"oni-save-parser\";\r\n\r\nimport Text from \"@/components/Text\";\r\n\r\nimport connectEditorField, {\r\n  EditorFieldProps,\r\n  InjectedProps\r\n} from \"./connect-field\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport getFieldElementClass from \"./from-typeinfo\";\r\n\r\nconst TD = Text.withComponent(\"td\");\r\n\r\nexport interface ArrayLikeFieldProps extends EditorFieldProps {\r\n  subType: TypeInfo;\r\n}\r\nconst ArrayLikeField: React.SFC<ArrayLikeFieldProps & InjectedProps> = ({\r\n  path,\r\n  subType,\r\n  value\r\n}) => {\r\n  if (value == null) {\r\n    return <Text intent={Intent.Hint}>Null Value</Text>;\r\n  }\r\n  const ValueElement = getFieldElementClass(subType);\r\n  const elements = (value as any[]).map((_, i) => {\r\n    return (\r\n      <tr key={i}>\r\n        <TD>{i}</TD>\r\n        <td>\r\n          <ValueElement path={[...path, `${i}`]} />\r\n        </td>\r\n      </tr>\r\n    );\r\n  });\r\n  return (\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>\r\n            <Text intent={Intent.Primary}>Key</Text>\r\n          </th>\r\n          <th>\r\n            <Text intent={Intent.Primary}>Value</Text>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>{elements}</tbody>\r\n    </table>\r\n  );\r\n};\r\nArrayLikeField.displayName = \"ArrayLikeField\";\r\nexport default connectEditorField()(ArrayLikeField);\r\n","import CheckInput from \"@/components/CheckInput\";\r\n\r\nimport connectEditorField from \"./connect-field\";\r\n\r\nexport default connectEditorField()(CheckInput);\r\n","import * as React from \"react\";\r\n\r\nimport FormGroup from \"@/components/FormGroup\";\r\n\r\nimport { EditorFieldProps } from \"./connect-field\";\r\n\r\nimport NumericField from \"./NumericField\";\r\n\r\nconst ColorField: React.SFC<EditorFieldProps> = ({ path }) => (\r\n  <div>\r\n    <FormGroup label=\"R\">\r\n      <NumericField\r\n        precision=\"single\"\r\n        minValue={0}\r\n        maxValue={1}\r\n        path={[...path, \"r\"]}\r\n      />\r\n    </FormGroup>\r\n    <FormGroup label=\"G\">\r\n      <NumericField\r\n        precision=\"single\"\r\n        minValue={0}\r\n        maxValue={1}\r\n        path={[...path, \"g\"]}\r\n      />\r\n    </FormGroup>\r\n    <FormGroup label=\"B\">\r\n      <NumericField\r\n        precision=\"single\"\r\n        minValue={0}\r\n        maxValue={1}\r\n        path={[...path, \"b\"]}\r\n      />\r\n    </FormGroup>\r\n    <FormGroup label=\"A\">\r\n      <NumericField\r\n        precision=\"single\"\r\n        minValue={0}\r\n        maxValue={1}\r\n        path={[...path, \"a\"]}\r\n      />\r\n    </FormGroup>\r\n  </div>\r\n);\r\nColorField.displayName = \"ColorField\";\r\nexport default ColorField;\r\n","import * as React from \"react\";\r\n\r\nimport { TypeInfo } from \"oni-save-parser\";\r\n\r\nimport Text from \"@/components/Text\";\r\n\r\nimport connectEditorField, {\r\n  EditorFieldProps,\r\n  InjectedProps\r\n} from \"./connect-field\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport getFieldElementClass from \"./from-typeinfo\";\r\n\r\nconst TD = Text.withComponent(\"td\");\r\n\r\nexport interface DictionaryFieldProps extends EditorFieldProps {\r\n  subType: TypeInfo;\r\n}\r\nconst DictionaryField: React.SFC<DictionaryFieldProps & InjectedProps> = ({\r\n  path,\r\n  subType,\r\n  value\r\n}) => {\r\n  const ValueElement = getFieldElementClass(subType);\r\n  const elements = (value as any[]).map(([key, value], i) => {\r\n    return (\r\n      <tr key={i}>\r\n        <TD>{JSON.stringify(key)}</TD>\r\n        <td>\r\n          <ValueElement path={[...path, `${i}`, \"1\"]} />\r\n        </td>\r\n      </tr>\r\n    );\r\n  });\r\n  return (\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>\r\n            <Text intent={Intent.Primary}>Key</Text>\r\n          </th>\r\n          <th>\r\n            <Text intent={Intent.Primary}>Value</Text>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>{elements}</tbody>\r\n    </table>\r\n  );\r\n};\r\nDictionaryField.displayName = \"DictionaryField\";\r\nexport default connectEditorField()(DictionaryField);\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\nimport { EnumerationsByName } from \"oni-save-parser\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\nimport Select, { Option } from \"@/components/Select\";\r\n\r\nimport connectEditorField, {\r\n  EditorFieldProps,\r\n  InjectedProps\r\n} from \"./connect-field\";\r\n\r\nexport interface EnumerationFieldProps extends EditorFieldProps {\r\n  enumerationName: string;\r\n}\r\n\r\ntype Props = EnumerationFieldProps & InjectedProps;\r\nclass EnumerationField extends React.Component<Props> {\r\n  render() {\r\n    const { enumerationName, value, onCommit } = this.props;\r\n    const enumeration = getEnumeration(enumerationName);\r\n    if (!enumeration) {\r\n      return (\r\n        <span>\r\n          <NumericInput value={value} onCommit={onCommit} />\r\n          <Text intent={Intent.Hint}>{enumerationName} (unknown)</Text>\r\n        </span>\r\n      );\r\n    } else {\r\n      // Enumeration has keys for names and numbers.\r\n      const nameKeys = Object.keys(enumeration).filter(\r\n        // TODO: This is silly.  Expose a way to match the [enum]Names constants\r\n        //  to the names of enum types.\r\n        x => isNaN(parseInt(x))\r\n      );\r\n      const options: Option<number>[] = nameKeys.map(x => ({\r\n        label: x,\r\n        value: enumeration[x]\r\n      }));\r\n      return (\r\n        <Select\r\n          value={value as number}\r\n          options={options}\r\n          onChange={this._onSelectInputChange}\r\n          width=\"200px\"\r\n        />\r\n      );\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onSelectInputChange(value: number) {\r\n    if (!value) {\r\n      return;\r\n    }\r\n    const { onCommit } = this.props;\r\n    onCommit(value);\r\n  }\r\n}\r\n\r\nexport default connectEditorField()(EnumerationField);\r\n\r\nfunction getEnumeration(\r\n  enumerationName: string\r\n): (Record<string, number> & Record<number, string>) | null {\r\n  if (\r\n    !Object.prototype.hasOwnProperty.call(EnumerationsByName, enumerationName)\r\n  ) {\r\n    return null;\r\n  }\r\n\r\n  return (EnumerationsByName as any)[enumerationName];\r\n}\r\n","import TextInput from \"@/components/TextInput\";\r\n\r\nimport connectEditorField from \"./connect-field\";\r\n\r\nexport default connectEditorField()(TextInput);\r\n","import * as React from \"react\";\r\n\r\nimport FormGroup from \"@/components/FormGroup\";\r\n\r\nimport { EditorFieldProps } from \"./connect-field\";\r\n\r\nimport NumericField from \"./NumericField\";\r\n\r\nconst Vector2Field: React.SFC<EditorFieldProps> = ({ path }) => (\r\n  <div>\r\n    <FormGroup label=\"X\" inline>\r\n      <NumericField precision=\"single\" path={[...path, \"x\"]} />\r\n    </FormGroup>\r\n    <FormGroup label=\"Y\" inline>\r\n      <NumericField precision=\"single\" path={[...path, \"y\"]} />\r\n    </FormGroup>\r\n  </div>\r\n);\r\nVector2Field.displayName = \"Vector2Field\";\r\nexport default Vector2Field;\r\n","import * as React from \"react\";\r\n\r\nimport FormGroup from \"@/components/FormGroup\";\r\n\r\nimport { EditorFieldProps } from \"./connect-field\";\r\n\r\nimport NumericField from \"./NumericField\";\r\n\r\nconst Vector2IField: React.SFC<EditorFieldProps> = ({ path }) => (\r\n  <div>\r\n    <FormGroup label=\"X\" inline>\r\n      <NumericField precision=\"int32\" path={[...path, \"x\"]} />\r\n    </FormGroup>\r\n    <FormGroup label=\"Y\" inline>\r\n      <NumericField precision=\"int32\" path={[...path, \"y\"]} />\r\n    </FormGroup>\r\n  </div>\r\n);\r\nVector2IField.displayName = \"Vector2IField\";\r\nexport default Vector2IField;\r\n","import * as React from \"react\";\r\n\r\nimport FormGroup from \"@/components/FormGroup\";\r\n\r\nimport { EditorFieldProps } from \"./connect-field\";\r\n\r\nimport NumericField from \"./NumericField\";\r\n\r\nconst Vector3Field: React.SFC<EditorFieldProps> = ({ path }) => (\r\n  <div>\r\n    <FormGroup label=\"X\" inline>\r\n      <NumericField precision=\"single\" path={[...path, \"x\"]} />\r\n    </FormGroup>\r\n    <FormGroup label=\"Y\" inline>\r\n      <NumericField precision=\"single\" path={[...path, \"y\"]} />\r\n    </FormGroup>\r\n    <FormGroup label=\"Z\" inline>\r\n      <NumericField precision=\"single\" path={[...path, \"z\"]} />\r\n    </FormGroup>\r\n  </div>\r\n);\r\nVector3Field.displayName = \"Vector3Field\";\r\nexport default Vector3Field;\r\n","import GameObjectGroupList from \"./GameObjectGroupList\";\r\nexport default GameObjectGroupList;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport mapStateToProps, { StateProps, GroupItem } from \"./derived-state\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\nimport DataTable, { DataTableColumn } from \"@/components/DataTable\";\r\n\r\nimport EditorContainer from \"@/pages/SaveEditor/components/editors/components/EditorContainer\";\r\n\r\ntype Props = StateProps;\r\nclass GameObjectGroupList extends React.Component<Props> {\r\n  render() {\r\n    const { gameObjectGroups } = this.props;\r\n\r\n    const columns: DataTableColumn[] = [\r\n      {\r\n        header: \"Game Object Type\",\r\n        id: \"type\",\r\n        property: \"name\",\r\n        cell: ({ rowData }: { rowData: GroupItem }) => (\r\n          <SaveStructureLink intent={Intent.Primary} path={rowData.path}>\r\n            {rowData.name}\r\n          </SaveStructureLink>\r\n        ),\r\n        sortable: true,\r\n        // sortMethod: (a: GroupItem, b: GroupItem) =>\r\n        //   a.name.localeCompare(b.name) as any,\r\n        filterable: true\r\n      },\r\n      {\r\n        header: \"Count\",\r\n        property: \"count\",\r\n        sortable: true\r\n      }\r\n    ];\r\n    return (\r\n      <EditorContainer header=\"GameObject Types\">\r\n        <DataTable columns={columns} data={gameObjectGroups} />\r\n      </EditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(GameObjectGroupList);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { get } from \"lodash-es\";\r\n\r\nimport { GameObjectGroup } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\nimport { getSaveItemChildPaths } from \"@/services/save-structure\";\r\nimport editMode from \"@/selectors/edit-mode\";\r\n\r\nexport interface GroupItem {\r\n  name: string;\r\n  count: number;\r\n  path: string[];\r\n}\r\n\r\nconst gameObjectGroups = createSelector(\r\n  oniSave,\r\n  editMode,\r\n  (oniSave, editMode) => {\r\n    if (!oniSave) {\r\n      return [];\r\n    }\r\n\r\n    const gameObjectPaths = getSaveItemChildPaths(\r\n      [\"gameObjects\"],\r\n      oniSave,\r\n      editMode\r\n    );\r\n\r\n    return gameObjectPaths.map((path, i) => {\r\n      const group = get(oniSave, path) as GameObjectGroup;\r\n      const item: GroupItem = {\r\n        name: group.name,\r\n        count: group.gameObjects.length,\r\n        path\r\n      };\r\n      return item;\r\n    });\r\n  }\r\n);\r\n\r\nconst structuredSelector = {\r\n  gameObjectGroups\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import GameObjectList from \"./GameObjectList\";\r\nexport default GameObjectList;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport { GameObjectListProps } from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Portrait from \"@/components/Portrait\";\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\nimport GameObjectListContent from \"./components/GameObjectListContent\";\r\n\r\nimport EditorContainer from \"@/pages/SaveEditor/components/editors/components/EditorContainer\";\r\n\r\ntype Props = GameObjectListProps & StateProps;\r\nclass GameObjectList extends React.Component<Props> {\r\n  render() {\r\n    const { gameObjectItems } = this.props;\r\n    const portraits = gameObjectItems.map(x => (\r\n      <Portrait key={x.name}>\r\n        <Portrait.Header wordBreak=\"break-all\">\r\n          <SaveStructureLink intent={Intent.Primary} path={x.path}>\r\n            {x.name}\r\n          </SaveStructureLink>\r\n        </Portrait.Header>\r\n      </Portrait>\r\n    ));\r\n    return (\r\n      <EditorContainer header=\"GameObjects\">\r\n        <GameObjectListContent>{portraits}</GameObjectListContent>\r\n      </EditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(GameObjectList);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { GameObjectGroup, GameObject } from \"oni-save-parser\";\r\n\r\nimport { get } from \"lodash-es\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\nimport selectedPath from \"@/selectors/selected-path\";\r\n\r\nimport { getSaveItemTitle } from \"@/services/save-structure\";\r\n\r\nimport { GameObjectListProps } from \"./props\";\r\n\r\nconst isFlatListSelector = (_: AppState, props: GameObjectListProps) =>\r\n  props.isFlatList || false;\r\n\r\nexport interface GameObjectItem {\r\n  name: string;\r\n  path: string[];\r\n}\r\n\r\nconst gameObjectItems = createSelector(\r\n  oniSave,\r\n  selectedPath,\r\n  isFlatListSelector,\r\n  (oniSave, selectedPath, isFlatList) => {\r\n    if (!oniSave) {\r\n      return [];\r\n    }\r\n\r\n    let gameObjectPaths: string[][];\r\n    if (isFlatList) {\r\n      const gameObjects: GameObject[] = get(oniSave, selectedPath);\r\n      gameObjectPaths = gameObjects.map((_, i) => [...selectedPath, `${i}`]);\r\n    } else {\r\n      const group: GameObjectGroup = get(oniSave, selectedPath);\r\n      if (!group) {\r\n        return [];\r\n      }\r\n      gameObjectPaths = group.gameObjects.map((_, i) => [\r\n        ...selectedPath,\r\n        \"gameObjects\",\r\n        `${i}`\r\n      ]);\r\n    }\r\n\r\n    return gameObjectPaths.map(path => {\r\n      const name = getSaveItemTitle(path, oniSave);\r\n      const item: GameObjectItem = {\r\n        name,\r\n        path\r\n      };\r\n      return item;\r\n    });\r\n  }\r\n);\r\n\r\nconst structuredSelector = {\r\n  gameObjectItems\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<\r\n  AppState,\r\n  GameObjectListProps,\r\n  StateProps\r\n>(structuredSelector);\r\nexport default mapStateToProps;\r\n","import styled from \"@/style\";\r\n\r\nconst GroupListContent = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  justify-content: flex-start;\r\n  align-items: baseline;\r\n`;\r\nGroupListContent.displayName = \"GroupListContent\";\r\nexport default GroupListContent;\r\n","import styled from \"@/style\";\r\n\r\nconst SaveEditorContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n`;\r\nexport default SaveEditorContainer;\r\n","import styled, { Space } from \"@/style\";\r\n\r\nimport { getTheme } from \"@/style\";\r\n\r\nconst ContentContainer = styled.div`\r\n  box-sizing: border-box;\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: auto;\r\n  flex: 1 1 auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\nexport default ContentContainer;\r\n","import styled from \"@/style\";\r\n\r\nconst EditorContainer = styled.div`\r\n  flex: 1 1 auto;\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: auto;\r\n`;\r\nEditorContainer.displayName = \"EditorContainer\";\r\nexport default EditorContainer;\r\n","import Sidebar from \"./Sidebar\";\r\nexport default Sidebar;\r\n","import * as React from \"react\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\n\r\nimport SidebarContainer from \"./components/SidebarContainer\";\r\n\r\nimport EditorModeSelector from \"./components/EditorModeSelector\";\r\nimport SaveStructureTree from \"./components/SaveStructureTree\";\r\n\r\nconst Sidebar: React.SFC = () => (\r\n  <SidebarContainer>\r\n    <Flex direction=\"column\" height=\"100%\">\r\n      <EditorModeSelector />\r\n      <Flex.Item fillParent constrain=\"column\">\r\n        <SaveStructureTree />\r\n      </Flex.Item>\r\n    </Flex>\r\n  </SidebarContainer>\r\n);\r\nSidebar.displayName = \"Sidebar\";\r\nexport default Sidebar;\r\n","import Panel from \"@/components/Panel\";\r\n\r\nconst SidebarContainer = Panel.extend`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n`;\r\nSidebarContainer.displayName = \"SidebarContainer\";\r\nexport default SidebarContainer;\r\n","import styled from \"@/style\";\r\nimport { WidthProps, HeightProps, width, height } from \"styled-system\";\r\nimport { getTheme } from \"@/style\";\r\n\r\nexport type BoxProps = WidthProps & HeightProps;\r\n\r\nconst Panel = styled<BoxProps, \"div\">(\"div\")`\r\n  ${width};\r\n  ${height};\r\n  background-color: ${props => getTheme(props).colors.bg.panel};\r\n`;\r\nPanel.displayName = \"Panel\";\r\nexport default Panel;\r\n","import EditorModeSelector from \"./EditorModeSelector\";\r\nexport default EditorModeSelector;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport Input from \"@/components/Input\";\r\n\r\ntype Props = DispatchProps;\r\nclass EditorModeSelector extends React.Component<Props> {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Text.Label htmlFor=\"advanced_mode\" intent={Intent.Secondary}>\r\n          Advanced Mode\r\n        </Text.Label>\r\n        <Input\r\n          id=\"advanced_mode\"\r\n          type=\"checkbox\"\r\n          onChange={this._onAdvancedModeChange}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onAdvancedModeChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const { setEditMode } = this.props;\r\n    setEditMode(e.target.checked ? \"advanced\" : \"normal\");\r\n  }\r\n}\r\nexport default connect(\r\n  undefined,\r\n  mapDispatchToProps\r\n)(EditorModeSelector);\r\n","import { setEditMode } from \"@/actions/set-editmode\";\r\n\r\nconst mapDispatchToProps = {\r\n  setEditMode\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import SaveStructureTree from \"./SaveStructureTree\";\r\nexport default SaveStructureTree;\r\n","import * as React from \"react\";\r\n\r\nimport SaveStructureTreeContainer from \"./components/SaveStructureTreeContainer\";\r\nimport SaveStructureItem from \"./components/SaveStructureItem\";\r\n\r\ntype Props = {};\r\nexport default class SaveStructureTree extends React.Component<Props> {\r\n  private _containerRef = React.createRef<HTMLElement>();\r\n\r\n  render() {\r\n    return (\r\n      <SaveStructureTreeContainer innerRef={this._containerRef}>\r\n        <SaveStructureItem\r\n          saveItemPath={[]}\r\n          scrollContainer={this._containerRef}\r\n        />\r\n      </SaveStructureTreeContainer>\r\n    );\r\n  }\r\n}\r\n","import styled from \"@/style\";\r\n\r\nconst SaveStructureTreeContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: auto;\r\n`;\r\nexport default SaveStructureTreeContainer;\r\n","import SaveStructureItem from \"./SaveStructureItem\";\r\nexport default SaveStructureItem;\r\nexport * from \"./props\";\r\n","import * as React from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport scrollIntoView from \"dom-scroll-into-view\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport { SaveStructureItemProps } from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport SaveStructureItemContainer from \"./components/SaveStructureItemContainer\";\r\nimport SaveStructureItemHeader from \"./components/SaveStructureItemHeader\";\r\nimport SaveStructureItemContent from \"./components/SaveStructureItemContent\";\r\n\r\ninterface State {\r\n  isExpanded: boolean;\r\n}\r\n\r\ntype Props = SaveStructureItemProps & StateProps & DispatchProps;\r\nclass SaveStructureItemComponent extends React.Component<Props, State> {\r\n  private _ref: React.RefObject<HTMLDivElement>;\r\n\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this._ref = React.createRef();\r\n\r\n    this.state = {\r\n      isExpanded: false\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.selectionStatus === \"selected\") {\r\n      this._scrollIntoView();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(oldProps: Props) {\r\n    if (\r\n      oldProps.selectionStatus !== \"selected\" &&\r\n      this.props.selectionStatus === \"selected\"\r\n    ) {\r\n      this._scrollIntoView();\r\n    }\r\n  }\r\n\r\n  render(): JSX.Element {\r\n    const { title, selectionStatus, childPaths, scrollContainer } = this.props;\r\n    let { isExpanded } = this.state;\r\n\r\n    const isExpandable = childPaths.length > 0;\r\n\r\n    let titleIntent: Intent;\r\n    switch (selectionStatus) {\r\n      default:\r\n        titleIntent = Intent.Default;\r\n        break;\r\n      case \"in-path\":\r\n        titleIntent = Intent.Secondary;\r\n        isExpanded = isExpandable;\r\n        break;\r\n      case \"selected\":\r\n        titleIntent = Intent.Primary;\r\n        break;\r\n    }\r\n\r\n    let valueElement: React.ReactNode | null = null;\r\n    if (isExpandable && isExpanded) {\r\n      valueElement = childPaths.map(childPath => {\r\n        const key = childPath[childPath.length - 1];\r\n        return (\r\n          <SaveStructureItem\r\n            key={key}\r\n            saveItemPath={childPath}\r\n            scrollContainer={scrollContainer}\r\n          />\r\n        );\r\n      });\r\n    }\r\n\r\n    return (\r\n      <SaveStructureItemContainer>\r\n        <SaveStructureItemHeader\r\n          innerRef={this._ref}\r\n          expandable={isExpandable}\r\n          expanded={isExpanded}\r\n          header={title}\r\n          intent={titleIntent}\r\n          onClick={this._onClick}\r\n          onExpandToggle={this._onExpandToggle}\r\n        />\r\n        <SaveStructureItemContent>{valueElement}</SaveStructureItemContent>\r\n      </SaveStructureItemContainer>\r\n    );\r\n  }\r\n\r\n  private _scrollIntoView() {\r\n    const htmlElement = this._ref.current;\r\n    const { childPaths, scrollContainer } = this.props;\r\n\r\n    if (childPaths.length > 0) {\r\n      this.setState({\r\n        isExpanded: true\r\n      });\r\n    }\r\n\r\n    if (htmlElement && scrollContainer.current) {\r\n      scrollIntoView(htmlElement, scrollContainer.current, {\r\n        allowHorizontalScroll: true,\r\n        onlyScrollIfNeeded: true,\r\n        offsetBottom: 125,\r\n        offsetTop: 125\r\n      });\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onClick() {\r\n    const { saveItemPath, onClick } = this.props;\r\n    this.setState({\r\n      isExpanded: true\r\n    });\r\n    onClick(saveItemPath);\r\n  }\r\n\r\n  @autobind()\r\n  private _onExpandToggle() {\r\n    this.setState({\r\n      isExpanded: !this.state.isExpanded\r\n    });\r\n  }\r\n}\r\nconst SaveStructureItem = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SaveStructureItemComponent);\r\nexport default SaveStructureItem;\r\n","import { SaveGame } from \"oni-save-parser\";\r\nimport createCachedSelector from \"re-reselect\";\r\n\r\nimport naturalCompare from \"string-natural-compare\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport {\r\n  EditMode,\r\n  getSaveItemTitle,\r\n  getSaveItemChildPaths\r\n} from \"@/services/save-structure\";\r\n\r\nimport oniSaveSelector from \"@/selectors/oni-save\";\r\nimport selectedPathSelector from \"@/selectors/selected-path\";\r\nimport editModeSelector from \"@/selectors/edit-mode\";\r\n\r\nimport { SaveStructureItemProps } from \"./props\";\r\n\r\nconst cacheKeyGenerator = (_: AppState, props: SaveStructureItemProps) =>\r\n  props.saveItemPath.join(\".\");\r\n\r\nconst itemPathSelector = (_: AppState, props: SaveStructureItemProps) =>\r\n  props.saveItemPath;\r\n\r\nconst title = createCachedSelector<\r\n  AppState,\r\n  SaveStructureItemProps,\r\n  string[],\r\n  SaveGame | null,\r\n  string\r\n>(\r\n  itemPathSelector,\r\n  oniSaveSelector,\r\n  (path, saveGame) =>\r\n    saveGame ? getSaveItemTitle(path, saveGame) : \"[undefined]\"\r\n)(cacheKeyGenerator);\r\n\r\nconst selectionStatus = createCachedSelector<\r\n  AppState,\r\n  SaveStructureItemProps,\r\n  string[],\r\n  string[],\r\n  \"unselected\" | \"in-path\" | \"selected\"\r\n>(itemPathSelector, selectedPathSelector, (itemPath, selectedPath) => {\r\n  const isSelected = itemPath.every((x, i) => selectedPath[i] == x);\r\n  if (!isSelected) {\r\n    return \"unselected\";\r\n  }\r\n\r\n  if (itemPath.length === selectedPath.length) {\r\n    return \"selected\";\r\n  }\r\n\r\n  return \"in-path\";\r\n})(cacheKeyGenerator);\r\n\r\nconst childPaths = createCachedSelector<\r\n  AppState,\r\n  SaveStructureItemProps,\r\n  string[],\r\n  SaveGame | null,\r\n  EditMode,\r\n  string[][]\r\n>(\r\n  itemPathSelector,\r\n  oniSaveSelector,\r\n  editModeSelector,\r\n  (path, saveGame, editMode) => {\r\n    if (saveGame == null) {\r\n      return [];\r\n    }\r\n\r\n    // Note: This is a pretty heavy operation.  We recurse the save\r\n    //  to find the child items, then scan every path for both\r\n    //  items during sort.\r\n    const childItems = getSaveItemChildPaths(path, saveGame, editMode);\r\n    return childItems.sort((a, b) => {\r\n      const aTitle = getSaveItemTitle(a, saveGame);\r\n      const bTitle = getSaveItemTitle(b, saveGame);\r\n      return naturalCompare(aTitle, bTitle);\r\n    });\r\n  }\r\n)(cacheKeyGenerator);\r\n\r\nconst mapStateToProps = function(\r\n  state: AppState,\r\n  props: SaveStructureItemProps\r\n) {\r\n  // Do not use createStructuredSelector here, as that itself\r\n  //  creates a selector that will go nuts over our multi instance props.\r\n  const stateProps = {\r\n    title: title(state, props),\r\n    selectionStatus: selectionStatus(state, props),\r\n    childPaths: childPaths(state, props)\r\n  };\r\n\r\n  return stateProps;\r\n};\r\nexport type StateProps = ReturnType<typeof mapStateToProps>;\r\nexport default mapStateToProps;\r\n","import { selectPath } from \"@/actions/select-path\";\r\n\r\nconst mapDispatchToProps = {\r\n  onClick: selectPath\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import styled from \"@/style\";\r\n\r\nconst SaveStructureItemContainer = styled.div``;\r\nSaveStructureItemContainer.displayName = \"SaveStructureItemContainer\";\r\nexport default SaveStructureItemContainer;\r\n","import SaveStructureItemHeader from \"./SaveStructureItemHeader\";\r\nexport default SaveStructureItemHeader;\r\n","import * as React from \"react\";\r\n\r\nimport styled from \"@/style\";\r\n\r\nimport Expander from \"./components/Expander\";\r\nimport ItemText from \"./components/ItemText\";\r\nimport { Intent } from \"@/style\";\r\n\r\nexport interface SaveStructureItemHeaderProps {\r\n  expandable: boolean;\r\n  expanded: boolean;\r\n  header: string;\r\n  intent: Intent;\r\n  innerRef?: React.RefObject<HTMLDivElement>;\r\n  onClick(): void;\r\n  onExpandToggle(): void;\r\n}\r\n\r\nconst SaveStructureItemHeaderContainer = styled.span`\r\n  white-space: nowrap;\r\n  cursor: pointer;\r\n`;\r\nSaveStructureItemHeaderContainer.displayName = \"SaveStructureItemContainer\";\r\n\r\nconst SaveStructureItemHeader: React.SFC<\r\n  SaveStructureItemHeaderProps & { className?: string }\r\n> = ({\r\n  className,\r\n  expandable,\r\n  expanded,\r\n  header,\r\n  intent,\r\n  onClick,\r\n  onExpandToggle,\r\n  innerRef\r\n}) => (\r\n  <SaveStructureItemHeaderContainer innerRef={innerRef} className={className}>\r\n    {expandable && (\r\n      <Expander\r\n        expanded={expanded}\r\n        onClick={expandable ? onExpandToggle : undefined}\r\n      />\r\n    )}\r\n    <ItemText intent={intent} onClick={onClick}>\r\n      {header}\r\n    </ItemText>\r\n  </SaveStructureItemHeaderContainer>\r\n);\r\nSaveStructureItemHeader.displayName = \"SaveStructureItemHeader\";\r\nexport default SaveStructureItemHeader;\r\n","import * as React from \"react\";\r\n\r\nconst ICON_SIZE = 10;\r\nconst ICON_EXPANDED = \"M 0 .25 L .5 .75 L 1 .25 z\";\r\nconst ICON_COLLAPSED = \"M .5 0 L 1 .5 L .5 1 z\";\r\n\r\nexport interface ExpanderProps {\r\n  expanded: boolean;\r\n  onClick?(): void;\r\n}\r\nconst Expander: React.SFC<ExpanderProps & { className?: string }> = ({\r\n  className,\r\n  expanded,\r\n  onClick\r\n}) => (\r\n  <svg\r\n    className={className}\r\n    width={ICON_SIZE}\r\n    height={ICON_SIZE}\r\n    viewBox={`0 0 1 1`}\r\n    onClick={onClick}\r\n  >\r\n    <path d={expanded ? ICON_EXPANDED : ICON_COLLAPSED} fill=\"black\" />\r\n  </svg>\r\n);\r\nexport default Expander;\r\n","import { getTheme, Space } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\n\r\nconst ItemText = Text.extend`\r\n  margin-left: ${props => getTheme(props).space[Space.Small]}px;\r\n`;\r\nexport default ItemText;\r\n","import styled from \"@/style\";\r\n\r\nconst SaveStructureItemContent = styled.div`\r\n  padding-left: 15px;\r\n`;\r\nexport default SaveStructureItemContent;\r\n","import styled from \"@/style\";\r\n\r\nimport { WidthProps, SpaceProps, width, space } from \"styled-system\";\r\n\r\nimport { Color, getThemeColor } from \"@/style\";\r\n\r\nexport interface SeparatorProps extends WidthProps, SpaceProps {\r\n  color?: Color;\r\n}\r\nconst Separator = styled<SeparatorProps, \"div\">(\"div\")`\r\n  border-bottom: 2px solid;\r\n  border-color: ${props =>\r\n    getThemeColor(props.color || Color.DefaultSeparator)(props)};\r\n  ${width};\r\n  ${space};\r\n  height: 2px;\r\n`;\r\nSeparator.displayName = \"Separator\";\r\nexport default Separator;\r\n","import styled from \"@/style\";\r\n\r\nimport { getTheme } from \"@/style\";\r\n\r\nconst AppContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n  background-color: ${props => getTheme(props).colors.bg.default};\r\n`;\r\nAppContainer.displayName = \"AppContainer\";\r\nexport default AppContainer;\r\n","import styled from \"@/style\";\r\n\r\nconst AppContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  flex: 1 1 auto;\r\n  overflow: auto;\r\n`;\r\nAppContainer.displayName = \"AppContainer\";\r\nexport default AppContainer;\r\n","import NavBarContainer from \"./NavBar\";\r\nexport default NavBarContainer;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { Trans, translate } from \"react-i18next\";\r\n\r\nimport { isProd } from \"@/runtime-env\";\r\n\r\nimport { Intent, FontSize } from \"@/style\";\r\n\r\nimport Icon from \"@/components/Icon\";\r\nimport Button from \"@/components/Button\";\r\n\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NavBarContainer from \"./components/NavBarContainer\";\r\n\r\nimport NavBarGroup from \"./components/NavBarGroup\";\r\nimport NavBarTitleText from \"./components/NavBarTitleText\";\r\nimport SettingsButton from \"./components/SettingsButton\";\r\n\r\ntype Props = DispatchProps;\r\nclass NavBar extends React.Component<Props> {\r\n  private _input: HTMLElement | null = null;\r\n\r\n  render() {\r\n    const { onLoadTestData } = this.props;\r\n    return (\r\n      <NavBarContainer>\r\n        <NavBarTitleText>Duplicity</NavBarTitleText>\r\n        <NavBarGroup>\r\n          <input\r\n            ref={el => (this._input = el)}\r\n            style={{ display: \"none\" }}\r\n            type=\"file\"\r\n            accept=\".sav\"\r\n            onChange={this._onLoadFileInput}\r\n          />\r\n          <Button onClick={this._onLoadFileClick} verticalAlign=\"middle\">\r\n            <Trans i18nKey={\"save-file.load\"}>Load</Trans>\r\n          </Button>\r\n          {!isProd && (\r\n            <Button onClick={onLoadTestData} verticalAlign=\"middle\">\r\n              Test\r\n            </Button>\r\n          )}\r\n          <Button\r\n            intent={Intent.Primary}\r\n            onClick={this._onSaveFileClick}\r\n            verticalAlign=\"middle\"\r\n          >\r\n            <Trans i18nKey={\"save-file.save\"}>Save</Trans>\r\n          </Button>\r\n          <a\r\n            title=\"Github\"\r\n            href=\"https://github.com/RoboPhred/oni-duplicity\"\r\n            target=\"_blank\"\r\n          >\r\n            <Icon.Github\r\n              intent={Intent.Hint}\r\n              fontSize={FontSize.Heading}\r\n              verticalAlign=\"middle\"\r\n            />\r\n          </a>\r\n          <SettingsButton />\r\n        </NavBarGroup>\r\n      </NavBarContainer>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onLoadFileClick() {\r\n    if (!this._input) {\r\n      return;\r\n    }\r\n    this._input.click();\r\n  }\r\n\r\n  @autobind()\r\n  private _onLoadFileInput(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const files = e.target.files;\r\n    if (!files || files.length === 0) {\r\n      return;\r\n    }\r\n    const file = files[0];\r\n\r\n    const { onLoad } = this.props;\r\n    onLoad(file);\r\n  }\r\n\r\n  @autobind()\r\n  private _onSaveFileClick() {\r\n    const { onSave } = this.props;\r\n    const fileName = withExtension(\"my-file\", \".sav\");\r\n    onSave(fileName);\r\n  }\r\n}\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(translate()(NavBar));\r\n\r\nfunction withExtension(name: string, ext: string): string {\r\n  if (name.endsWith(ext)) return name;\r\n  return name + ext;\r\n}\r\n","import testData from \"@/__mocks__/save-game.json\";\r\n\r\nimport { loadOniSave } from \"@/actions/load-onisave\";\r\nimport { saveOniSave } from \"@/actions/save-onisave\";\r\n\r\nimport { receiveOniSaveSuccess } from \"@/actions/receive-onisave\";\r\n\r\nconst mapDispatchToProps = {\r\n  onLoad: loadOniSave,\r\n  onLoadTestData: () => receiveOniSaveSuccess(testData as any),\r\n  onSave: saveOniSave\r\n};\r\nexport default mapDispatchToProps;\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\n","import styled from \"@/style\";\r\n\r\nimport { getTheme } from \"@/style\";\r\n\r\nconst NavBarContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: \"row\";\r\n  width: 100%;\r\n  padding-top: 5px;\r\n  padding-bottom: 5px;\r\n  box-sizing: border-box;\r\n  background-color: ${props => getTheme(props).colors.bg.navbar};\r\n`;\r\nNavBarContainer.displayName = \"NavBarContainer\";\r\nexport default NavBarContainer;\r\n","import styled from \"@/style\";\r\n\r\nconst NavBarGroup = styled.div`\r\n  margin-left: auto;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  align-self: center;\r\n`;\r\nNavBarGroup.displayName = \"NavBarGroup\";\r\nexport default NavBarGroup;\r\n","import styled from \"@/style\";\r\nimport { getTheme } from \"@/style\";\r\n\r\nconst NavBarTitleText = styled.span`\r\n  font-size: 2em;\r\n  margin-left: 5px;\r\n  color: ${props => getTheme(props).colors.intent.primary};\r\n`;\r\nNavBarTitleText.displayName = \"NavBarTitleText\";\r\nexport default NavBarTitleText;\r\n","import * as React from \"react\";\r\n\r\nimport { FontSize } from \"@/style\";\r\n\r\nimport DropdownMenuButton from \"@/components/DropdownMenuButton\";\r\nimport Icon from \"@/components/Icon\";\r\n\r\nimport LanguageMenuButton from \"./LanguageMenuButton\";\r\n\r\nexport default class SettingsButton extends React.Component {\r\n  render() {\r\n    return (\r\n      <DropdownMenuButton\r\n        button={\r\n          <Icon.Settings fontSize={FontSize.Heading} verticalAlign=\"middle\" />\r\n        }\r\n      >\r\n        <LanguageMenuButton lang=\"en\">English&nbsp;(en)</LanguageMenuButton>\r\n        <LanguageMenuButton lang=\"zh\">Chinese&nbsp;(zh)</LanguageMenuButton>\r\n      </DropdownMenuButton>\r\n    );\r\n  }\r\n}\r\n","import DropdownMenuButton from \"./DropdownMenuButton\";\r\nexport default DropdownMenuButton;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport DropdownMenuContainer from \"./components/DropdownMenuContainer\";\r\nimport DropdownMenuPanel from \"./components/DropdownMenuPanel\";\r\n\r\nimport Menu from \"@/components/Menu\";\r\n\r\nexport interface DropdownMenuButtonProps {\r\n  button: React.ReactNode;\r\n}\r\n\r\ntype Props = DropdownMenuButtonProps;\r\ninterface State {\r\n  isOpen: boolean;\r\n}\r\nexport default class DropdownMenu extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isOpen: false\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { button } = this.props;\r\n    const { isOpen } = this.state;\r\n    return (\r\n      <span>\r\n        <span onClick={this._toggleDropdown}>{button}</span>\r\n        {isOpen && this._renderDropDown()}\r\n      </span>\r\n    );\r\n  }\r\n\r\n  private _renderDropDown(): JSX.Element {\r\n    const { children } = this.props;\r\n    return (\r\n      <DropdownMenuContainer>\r\n        <DropdownMenuPanel>\r\n          <Menu onMouseLeave={this._closeDropdown}>{children}</Menu>\r\n        </DropdownMenuPanel>\r\n      </DropdownMenuContainer>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _toggleDropdown() {\r\n    this.setState({\r\n      isOpen: !this.state.isOpen\r\n    });\r\n  }\r\n\r\n  @autobind()\r\n  private _closeDropdown() {\r\n    this.setState({\r\n      isOpen: false\r\n    });\r\n  }\r\n}\r\n","import styled from \"@/style\";\r\n\r\nconst DropdownMenuContainer = styled.div`\r\n  position: relative;\r\n`;\r\nDropdownMenuContainer.displayName = \"DropdownMenuContainer\";\r\nexport default DropdownMenuContainer;\r\n","import styled, { border, getThemeColor, Border, Color } from \"@/style\";\r\n\r\nconst DropdownMenuPanel = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n`;\r\nDropdownMenuPanel.displayName = \"DropdownMenuPanel\";\r\nexport default DropdownMenuPanel;\r\n","import Menu from \"./Menu\";\r\nexport default Menu;\r\n","import * as React from \"react\";\r\nimport styled, {\r\n  getThemeColor,\r\n  Color,\r\n  Border,\r\n  getThemeBorder,\r\n  getThemeSpace,\r\n  Space\r\n} from \"@/style\";\r\n\r\ninterface MenuItemWrapperProps {\r\n  expandedLeft: boolean;\r\n  expandedRight: boolean;\r\n}\r\n\r\nconst MenuItemWrapper = styled<MenuItemWrapperProps, \"li\">(\"li\")`\r\n  box-sizing: content-box;\r\n  list-style: none;\r\n  margin: 0;\r\n  padding: ${getThemeSpace(Space.Small)}px;\r\n\r\n  ${props =>\r\n    !props.expandedLeft\r\n      ? `border-left: ${getThemeBorder(Border.Normal)}\r\n    ${getThemeColor(Color.SecondaryIntent)}`\r\n      : undefined};\r\n\r\n  ${props =>\r\n    !props.expandedRight\r\n      ? `border-right: ${getThemeBorder(Border.Normal)}\r\n    ${getThemeColor(Color.SecondaryIntent)}`\r\n      : undefined};\r\n\r\n  :first-child {\r\n    border-top: ${getThemeBorder(Border.Normal)}\r\n      ${getThemeColor(Color.SecondaryIntent)};\r\n  }\r\n\r\n  :last-child {\r\n    border-bottom: ${getThemeBorder(Border.Normal)}\r\n      ${getThemeColor(Color.SecondaryIntent)};\r\n  }\r\n`;\r\n\r\nconst MenuContainer = styled.ul`\r\n  box-sizing: content-box;\r\n  background: ${getThemeColor(Color.PanelBackground)};\r\n  list-style: none;\r\n  margin: 0;\r\n  padding: 0;\r\n`;\r\n\r\nexport interface MenuProps extends React.HTMLAttributes<HTMLUListElement> {}\r\nexport default class Menu extends React.Component<MenuProps> {\r\n  render() {\r\n    const { children, ...props } = this.props;\r\n    const menuItems = React.Children.map(children, (child, i) => (\r\n      <MenuItemWrapper expandedLeft={false} expandedRight={false}>\r\n        {child}\r\n      </MenuItemWrapper>\r\n    ));\r\n    return <MenuContainer {...props}>{menuItems}</MenuContainer>;\r\n  }\r\n}\r\n","import LanguageMenuButton from \"./LanguageMenuButton\";\r\nexport { LanguageMenuButtonProps } from \"./LanguageMenuButton\";\r\nexport default LanguageMenuButton;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Button from \"@/components/Button\";\r\n\r\nexport interface LanguageMenuButtonProps {\r\n  lang: string;\r\n}\r\ntype Props = LanguageMenuButtonProps & StateProps & DispatchProps;\r\nconst LanguageMenuButton: React.SFC<Props> = ({\r\n  lang,\r\n  language,\r\n  onSetLanguage,\r\n  children\r\n}) => (\r\n  <Button\r\n    intent={lang === language ? Intent.Primary : Intent.Secondary}\r\n    onClick={() => onSetLanguage(lang)}\r\n  >\r\n    {children}\r\n  </Button>\r\n);\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(LanguageMenuButton);\r\n","import { setLanguage } from \"@/actions/set-language\";\r\n\r\nconst mapDispatchToProps = {\r\n  onSetLanguage: setLanguage\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport language from \"@/selectors/language\";\r\n\r\nconst stateSelectors = {\r\n  language\r\n};\r\nexport type StateProps = StructuredStateProps<typeof stateSelectors>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  stateSelectors\r\n);\r\nexport default mapStateToProps;\r\n","import { AppState } from \"@/state\";\r\n\r\nconst languageSelector = (state: AppState) => state.language;\r\nexport default languageSelector;\r\n"],"sourceRoot":""}